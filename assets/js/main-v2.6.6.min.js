(function(require$$0) {
  "use strict";
  /*! typograf | © 2024 Denis Seleznev | MIT  License | https://github.com/typograf/typograf */
  var __assign = function() {
    __assign = Object.assign || function __assign2(t) {
      for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
      }
      return t;
    };
    return __assign.apply(this, arguments);
  };
  function __spreadArray(to, from, pack) {
    for (var i = 0, l = from.length, ar; i < l; i++) {
      if (ar || !(i in from)) {
        if (!ar) ar = Array.prototype.slice.call(from, 0, i);
        ar[i] = from[i];
      }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
  }
  typeof SuppressedError === "function" ? SuppressedError : function(error, suppressed, message) {
    var e = new Error(message);
    return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
  };
  var visibleEntities = [
    ["iexcl", 161],
    ["cent", 162],
    ["pound", 163],
    ["curren", 164],
    ["yen", 165],
    ["brvbar", 166],
    ["sect", 167],
    ["uml", 168],
    ["copy", 169],
    ["ordf", 170],
    ["laquo", 171],
    ["not", 172],
    ["reg", 174],
    ["macr", 175],
    ["deg", 176],
    ["plusmn", 177],
    ["sup2", 178],
    ["sup3", 179],
    ["acute", 180],
    ["micro", 181],
    ["para", 182],
    ["middot", 183],
    ["cedil", 184],
    ["sup1", 185],
    ["ordm", 186],
    ["raquo", 187],
    ["frac14", 188],
    ["frac12", 189],
    ["frac34", 190],
    ["iquest", 191],
    ["Agrave", 192],
    ["Aacute", 193],
    ["Acirc", 194],
    ["Atilde", 195],
    ["Auml", 196],
    ["Aring", 197],
    ["AElig", 198],
    ["Ccedil", 199],
    ["Egrave", 200],
    ["Eacute", 201],
    ["Ecirc", 202],
    ["Euml", 203],
    ["Igrave", 204],
    ["Iacute", 205],
    ["Icirc", 206],
    ["Iuml", 207],
    ["ETH", 208],
    ["Ntilde", 209],
    ["Ograve", 210],
    ["Oacute", 211],
    ["Ocirc", 212],
    ["Otilde", 213],
    ["Ouml", 214],
    ["times", 215],
    ["Oslash", 216],
    ["Ugrave", 217],
    ["Uacute", 218],
    ["Ucirc", 219],
    ["Uuml", 220],
    ["Yacute", 221],
    ["THORN", 222],
    ["szlig", 223],
    ["agrave", 224],
    ["aacute", 225],
    ["acirc", 226],
    ["atilde", 227],
    ["auml", 228],
    ["aring", 229],
    ["aelig", 230],
    ["ccedil", 231],
    ["egrave", 232],
    ["eacute", 233],
    ["ecirc", 234],
    ["euml", 235],
    ["igrave", 236],
    ["iacute", 237],
    ["icirc", 238],
    ["iuml", 239],
    ["eth", 240],
    ["ntilde", 241],
    ["ograve", 242],
    ["oacute", 243],
    ["ocirc", 244],
    ["otilde", 245],
    ["ouml", 246],
    ["divide", 247],
    ["oslash", 248],
    ["ugrave", 249],
    ["uacute", 250],
    ["ucirc", 251],
    ["uuml", 252],
    ["yacute", 253],
    ["thorn", 254],
    ["yuml", 255],
    ["fnof", 402],
    ["Alpha", 913],
    ["Beta", 914],
    ["Gamma", 915],
    ["Delta", 916],
    ["Epsilon", 917],
    ["Zeta", 918],
    ["Eta", 919],
    ["Theta", 920],
    ["Iota", 921],
    ["Kappa", 922],
    ["Lambda", 923],
    ["Mu", 924],
    ["Nu", 925],
    ["Xi", 926],
    ["Omicron", 927],
    ["Pi", 928],
    ["Rho", 929],
    ["Sigma", 931],
    ["Tau", 932],
    ["Upsilon", 933],
    ["Phi", 934],
    ["Chi", 935],
    ["Psi", 936],
    ["Omega", 937],
    ["alpha", 945],
    ["beta", 946],
    ["gamma", 947],
    ["delta", 948],
    ["epsilon", 949],
    ["zeta", 950],
    ["eta", 951],
    ["theta", 952],
    ["iota", 953],
    ["kappa", 954],
    ["lambda", 955],
    ["mu", 956],
    ["nu", 957],
    ["xi", 958],
    ["omicron", 959],
    ["pi", 960],
    ["rho", 961],
    ["sigmaf", 962],
    ["sigma", 963],
    ["tau", 964],
    ["upsilon", 965],
    ["phi", 966],
    ["chi", 967],
    ["psi", 968],
    ["omega", 969],
    ["thetasym", 977],
    ["upsih", 978],
    ["piv", 982],
    ["bull", 8226],
    ["hellip", 8230],
    ["prime", 8242],
    ["Prime", 8243],
    ["oline", 8254],
    ["frasl", 8260],
    ["weierp", 8472],
    ["image", 8465],
    ["real", 8476],
    ["trade", 8482],
    ["alefsym", 8501],
    ["larr", 8592],
    ["uarr", 8593],
    ["rarr", 8594],
    ["darr", 8595],
    ["harr", 8596],
    ["crarr", 8629],
    ["lArr", 8656],
    ["uArr", 8657],
    ["rArr", 8658],
    ["dArr", 8659],
    ["hArr", 8660],
    ["forall", 8704],
    ["part", 8706],
    ["exist", 8707],
    ["empty", 8709],
    ["nabla", 8711],
    ["isin", 8712],
    ["notin", 8713],
    ["ni", 8715],
    ["prod", 8719],
    ["sum", 8721],
    ["minus", 8722],
    ["lowast", 8727],
    ["radic", 8730],
    ["prop", 8733],
    ["infin", 8734],
    ["ang", 8736],
    ["and", 8743],
    ["or", 8744],
    ["cap", 8745],
    ["cup", 8746],
    ["int", 8747],
    ["there4", 8756],
    ["sim", 8764],
    ["cong", 8773],
    ["asymp", 8776],
    ["ne", 8800],
    ["equiv", 8801],
    ["le", 8804],
    ["ge", 8805],
    ["sub", 8834],
    ["sup", 8835],
    ["nsub", 8836],
    ["sube", 8838],
    ["supe", 8839],
    ["oplus", 8853],
    ["otimes", 8855],
    ["perp", 8869],
    ["sdot", 8901],
    ["lceil", 8968],
    ["rceil", 8969],
    ["lfloor", 8970],
    ["rfloor", 8971],
    ["lang", 9001],
    ["rang", 9002],
    ["spades", 9824],
    ["clubs", 9827],
    ["hearts", 9829],
    ["diams", 9830],
    ["loz", 9674],
    ["OElig", 338],
    ["oelig", 339],
    ["Scaron", 352],
    ["scaron", 353],
    ["Yuml", 376],
    ["circ", 710],
    ["tilde", 732],
    ["ndash", 8211],
    ["mdash", 8212],
    ["lsquo", 8216],
    ["rsquo", 8217],
    ["sbquo", 8218],
    ["ldquo", 8220],
    ["rdquo", 8221],
    ["bdquo", 8222],
    ["dagger", 8224],
    ["Dagger", 8225],
    ["permil", 8240],
    ["lsaquo", 8249],
    ["rsaquo", 8250],
    ["euro", 8364],
    ["NestedGreaterGreater", 8811],
    ["NestedLessLess", 8810]
  ];
  var invisibleEntities = [
    ["nbsp", 160],
    ["thinsp", 8201],
    ["ensp", 8194],
    ["emsp", 8195],
    ["shy", 173],
    ["zwnj", 8204],
    ["zwj", 8205],
    ["lrm", 8206],
    ["rlm", 8207]
  ];
  var HtmlEntities = (
    /** @class */
    function() {
      function HtmlEntities2() {
        var _this = this;
        this.entities = this.prepareEntities(__spreadArray(__spreadArray([], visibleEntities, true), invisibleEntities));
        this.entitiesByName = {};
        this.entitiesByNameEntity = {};
        this.entitiesByDigitEntity = {};
        this.entitiesByUtf = {};
        this.entities.forEach(function(entity) {
          _this.entitiesByName[entity.name] = entity;
          _this.entitiesByNameEntity[entity.nameEntity] = entity;
          _this.entitiesByDigitEntity[entity.digitEntity] = entity;
          _this.entitiesByUtf[entity.utf] = entity;
        });
        this.invisibleEntities = this.prepareEntities(invisibleEntities);
      }
      HtmlEntities2.prototype.toUtf = function(context) {
        var _this = this;
        if (context.text.search(/&#/) !== -1) {
          context.text = this.decHexToUtf(context.text);
        }
        if (context.text.search(/&[a-z]/i) !== -1) {
          context.text = context.text.replace(/&[a-z\d]{2,31};/gi, function(key) {
            var entity = _this.entitiesByNameEntity[key];
            return entity ? entity.utf : key;
          });
        }
      };
      HtmlEntities2.prototype.decHexToUtf = function(text) {
        return text.replace(/&#(\d{1,6});/gi, function($0, $1) {
          return String.fromCharCode(parseInt($1, 10));
        }).replace(/&#x([\da-f]{1,6});/gi, function($0, $1) {
          return String.fromCharCode(parseInt($1, 16));
        });
      };
      HtmlEntities2.prototype.restore = function(context) {
        var params = context.prefs.htmlEntity;
        var type = params.type;
        var entities = this.entities;
        if (type === "name" || type === "digit") {
          if (params.onlyInvisible || params.list) {
            entities = [];
            if (params.onlyInvisible) {
              entities = entities.concat(this.invisibleEntities);
            }
            if (params.list) {
              entities = entities.concat(this.prepareListParam(params.list));
            }
          }
          var entityType = type === "name" ? "nameEntity" : "digitEntity";
          context.text = this.restoreEntitiesByIndex(context.text, entityType, entities);
        }
      };
      HtmlEntities2.prototype.getByUtf = function(symbol, type) {
        var result;
        switch (type) {
          case "digit":
            result = this.entitiesByDigitEntity[symbol];
            break;
          case "name":
            result = this.entitiesByNameEntity[symbol];
            break;
          default:
            result = symbol;
            break;
        }
        return result;
      };
      HtmlEntities2.prototype.prepareEntities = function(entities) {
        var result = [];
        entities.forEach(function(entity) {
          var name2 = entity[0], digit = entity[1];
          var utf = String.fromCharCode(digit);
          result.push({
            name: name2,
            nameEntity: "&" + name2 + ";",
            // &nbsp;
            digitEntity: "&#" + digit + ";",
            // &#160;
            utf,
            // \u00A0
            reName: new RegExp("&" + name2 + ";", "g"),
            reUtf: new RegExp(utf, "g")
          });
        });
        return result;
      };
      HtmlEntities2.prototype.prepareListParam = function(list) {
        var _this = this;
        var result = [];
        list.forEach(function(name2) {
          var entity = _this.entitiesByName[name2];
          if (entity) {
            result.push(entity);
          }
        });
        return result;
      };
      HtmlEntities2.prototype.restoreEntitiesByIndex = function(text, type, entities) {
        entities.forEach(function(entity) {
          text = text.replace(entity.reUtf, entity[type]);
        });
        return text;
      };
      return HtmlEntities2;
    }()
  );
  var htmlEntities = new HtmlEntities();
  var locales = [];
  function addLocale(locale) {
    var code = (locale || "").split("/")[0];
    if (code && code !== "common" && !hasLocale(code)) {
      locales.push(code);
      locales.sort();
    }
  }
  function getLocales() {
    return locales;
  }
  function hasLocale(locale) {
    return locale === "common" || locales.indexOf(locale) !== -1;
  }
  function prepareLocale(locale1, locale2) {
    var locale = locale1 || locale2;
    if (!locale) {
      return [];
    }
    return Array.isArray(locale) ? locale : [locale];
  }
  function checkLocales(locales2) {
    if (!locales2.length) {
      throw Error('Not defined the property "locale".');
    }
    locales2.forEach(function(locale) {
      if (!hasLocale(locale)) {
        throw Error('"'.concat(locale, '" is not supported locale.'));
      }
    });
  }
  var data$1 = {};
  function getData(key) {
    return data$1[key];
  }
  function setData(newData) {
    Object.keys(newData).forEach(function(key) {
      addLocale(key);
      data$1[key] = newData[key];
    });
  }
  var inlineElements = [
    "a",
    "abbr",
    "acronym",
    "b",
    "bdo",
    "big",
    "br",
    "button",
    "cite",
    "code",
    "dfn",
    "em",
    "i",
    "img",
    "input",
    "kbd",
    "label",
    "map",
    "object",
    "q",
    "samp",
    "script",
    "select",
    "small",
    "span",
    "strong",
    "sub",
    "sup",
    "textarea",
    "time",
    "tt",
    "var"
  ];
  var regExpUrl = new RegExp("(https?|file|ftp)://([a-zA-Z0-9/+-=%&:_.~?]+[a-zA-Z0-9#+]*)", "g");
  var regExpNumber = "\\d+([.,]\\d+)?";
  var regExpDigit = /\d/;
  function isDigit(symbol) {
    return symbol.search(regExpDigit) > -1;
  }
  var privateLabel = "";
  var privateSeparateLabel = "";
  var SafeTags = (
    /** @class */
    function() {
      function SafeTags2() {
        this.groups = ["own", "html", "url"];
        this.hidden = {};
        this.counter = 0;
        var html2 = [
          ["<!--", "-->"],
          ["<!ENTITY", ">"],
          ["<!DOCTYPE", ">"],
          ["<\\?xml", "\\?>"],
          ["<!\\[CDATA\\[", "\\]\\]>"]
        ];
        [
          "code",
          "kbd",
          "object",
          "pre",
          "samp",
          "script",
          "style",
          "var"
        ].forEach(function(tag) {
          html2.push([
            "<".concat(tag, "(\\s[^>]*?)?>"),
            "</".concat(tag, ">")
          ]);
        });
        this.tags = {
          own: [],
          html: html2.map(this.prepareRegExp),
          url: [regExpUrl]
        };
      }
      SafeTags2.prototype.add = function(tag) {
        this.tags.own.push(this.prepareRegExp(tag));
      };
      SafeTags2.prototype.show = function(context, group) {
        var reReplace = new RegExp(privateLabel + "tf\\d+" + privateLabel, "g");
        var reSearch = new RegExp(privateLabel + "tf\\d");
        var replaceLabel = function(match) {
          return context.safeTags.hidden[group][match] || match;
        };
        for (var i = 0, len = this.tags[group].length; i < len; i++) {
          context.text = context.text.replace(reReplace, replaceLabel);
          if (context.text.search(reSearch) === -1) {
            break;
          }
        }
      };
      SafeTags2.prototype.hide = function(context, group) {
        var _this = this;
        context.safeTags.hidden[group] = {};
        var pasteLabel = this.pasteLabel.bind(this, context, group);
        this.tags[group].forEach(function(tag) {
          context.text = context.text.replace(_this.prepareRegExp(tag), pasteLabel);
        });
      };
      SafeTags2.prototype.hideHTMLTags = function(context) {
        if (context.isHTML) {
          var pasteLabel = this.pasteLabel.bind(this, context, "html");
          context.text = context.text.replace(/<\/?[a-z][^]*?>/gi, pasteLabel).replace(/&lt;\/?[a-z][^]*?&gt;/gi, pasteLabel).replace(/&[gl]t;/gi, pasteLabel);
        }
      };
      SafeTags2.prototype.getPrevLabel = function(text, position) {
        for (var i = position - 1; i >= 0; i--) {
          if (text[i] === privateLabel) {
            return text.slice(i, position + 1);
          }
        }
        return "";
      };
      SafeTags2.prototype.getNextLabel = function(text, position) {
        for (var i = position + 1; i < text.length; i++) {
          if (text[i] === privateLabel) {
            return text.slice(position, i + 1);
          }
        }
        return "";
      };
      SafeTags2.prototype.getTagByLabel = function(context, label) {
        var result = null;
        this.groups.some(function(group) {
          var value = context.safeTags.hidden[group][label];
          if (typeof value !== "undefined") {
            result = {
              group,
              value
            };
          }
          return result;
        });
        return result;
      };
      SafeTags2.prototype.getTagInfo = function(tag) {
        if (!tag) {
          return null;
        }
        var result = { group: tag.group };
        switch (tag.group) {
          case "html":
            result.name = tag.value.split(/[<\s>]/)[1];
            result.isInline = inlineElements.indexOf(result.name) > -1;
            result.isClosing = tag.value.search(/^<\//) > -1;
            break;
          case "url":
            result.isInline = true;
            break;
          case "own":
            result.isInline = false;
            break;
        }
        return result;
      };
      SafeTags2.prototype.pasteLabel = function(context, group, match) {
        var safeTags = context.safeTags;
        var key = privateLabel + "tf" + safeTags.counter + privateLabel;
        safeTags.hidden[group][key] = match;
        safeTags.counter++;
        return key;
      };
      SafeTags2.prototype.prepareRegExp = function(tag) {
        if (tag instanceof RegExp) {
          return tag;
        }
        var startTag = tag[0], endTag = tag[1], middle = tag[2];
        return new RegExp(startTag + (typeof middle === "undefined" ? "[^]*?" : middle) + endTag, "gi");
      };
      SafeTags2.prototype.getPrevTagInfo = function(context, text, pos) {
        var prevLabel = this.getPrevLabel(text, pos - 1);
        if (prevLabel) {
          var prevTag = this.getTagByLabel(context, prevLabel);
          if (prevTag) {
            return this.getTagInfo(prevTag);
          }
        }
        return null;
      };
      SafeTags2.prototype.getNextTagInfo = function(context, text, pos) {
        var nextLabel = this.getNextLabel(text, pos + 1);
        if (nextLabel) {
          var nextTag = this.getTagByLabel(context, nextLabel);
          if (nextTag) {
            return this.getTagInfo(nextTag);
          }
        }
        return null;
      };
      return SafeTags2;
    }()
  );
  function repeat(symbol, count) {
    var result = "";
    for (; ; ) {
      if ((count & 1) === 1) {
        result += symbol;
      }
      count >>>= 1;
      if (count === 0) {
        break;
      }
      symbol += symbol;
    }
    return result;
  }
  function replaceNbsp$1(text) {
    return text.replace(/\u00A0/g, " ");
  }
  function replace(text, re) {
    for (var i = 0; i < re.length; i++) {
      text = text.replace(re[i][0], re[i][1]);
    }
    return text;
  }
  function isHTML(text) {
    return text.search(/(<\/?[a-z]|<!|&[lg]t;)/i) !== -1;
  }
  function removeCR(text) {
    return text.replace(/\r\n?/g, "\n");
  }
  function fixLineEnding(text, type) {
    if (type === "CRLF") {
      return text.replace(/\n/g, "\r\n");
    } else if (type === "CR") {
      return text.replace(/\n/g, "\r");
    }
    return text;
  }
  function deepCopy(obj) {
    return typeof obj === "object" ? JSON.parse(JSON.stringify(obj)) : obj;
  }
  var groupIndexes = {
    symbols: 110,
    "number": 150,
    space: 210,
    dash: 310,
    punctuation: 410,
    nbsp: 510,
    money: 710,
    date: 810,
    other: 910,
    optalign: 1010,
    typo: 1110,
    html: 1210
  };
  var DEFAULT_RULE_INDEX = 0;
  var DEFAULT_QUEUE_NAME = "default";
  var rules = [];
  var innerRules = [];
  function addInnerRule(rule) {
    innerRules.push(prepareRule(rule));
  }
  function addRule(rule) {
    var preparedRule = prepareRule(rule);
    addLocale(preparedRule.locale);
    rules.push(preparedRule);
  }
  function sortRules(rules2) {
    rules2.sort(function(a, b) {
      return a.index > b.index ? 1 : -1;
    });
  }
  function getRules() {
    var result = __spreadArray([], rules);
    sortRules(result);
    return result;
  }
  function getInnerRules() {
    return __spreadArray([], innerRules);
  }
  function getRuleIndex(rule) {
    if (typeof rule.index === "number") {
      return rule.index;
    }
    var _a = rule.name.split("/"), group = _a[1];
    var groupIndex = groupIndexes[group];
    if (typeof groupIndex === "undefined") {
      groupIndex = DEFAULT_RULE_INDEX;
    }
    if (typeof rule.index === "string") {
      return groupIndex + parseInt(rule.index, 10);
    }
    return groupIndex;
  }
  function prepareRule(rule) {
    var _a = rule.name.split("/"), locale = _a[0], group = _a[1], shortName = _a[2];
    var preparedRule = {
      name: rule.name,
      shortName,
      handler: rule.handler,
      queue: rule.queue || DEFAULT_QUEUE_NAME,
      enabled: rule.disabled === true ? false : true,
      locale,
      group,
      index: getRuleIndex(rule),
      settings: rule.settings,
      live: rule.live,
      htmlAttrs: rule.htmlAttrs
    };
    return preparedRule;
  }
  var PACKAGE_VERSION = "7.4.1";
  function prepareHtmlEntity(htmlEntity) {
    var result = {
      type: (htmlEntity === null || htmlEntity === void 0 ? void 0 : htmlEntity.type) || "default",
      list: htmlEntity === null || htmlEntity === void 0 ? void 0 : htmlEntity.list,
      onlyInvisible: Boolean(htmlEntity === null || htmlEntity === void 0 ? void 0 : htmlEntity.onlyInvisible)
    };
    return result;
  }
  function prepareLineEnding(lineEnding) {
    return lineEnding || "LF";
  }
  function preparePrefs(prefs) {
    var result = {
      locale: prepareLocale(prefs.locale),
      lineEnding: prepareLineEnding(prefs.lineEnding),
      live: Boolean(prefs.live),
      ruleFilter: prefs.ruleFilter,
      enableRule: prefs.enableRule,
      disableRule: prefs.disableRule,
      processingSeparateParts: prefs.processingSeparateParts,
      htmlEntity: prepareHtmlEntity(prefs.htmlEntity)
    };
    return result;
  }
  function prepareContextPrefs(prefs, executePrefs) {
    var result = __assign({}, prefs);
    if (!executePrefs) {
      return result;
    }
    if ("locale" in executePrefs) {
      result.locale = prepareLocale(executePrefs.locale);
    }
    if ("htmlEntity" in executePrefs) {
      result.htmlEntity = prepareHtmlEntity(executePrefs.htmlEntity);
    }
    if ("lineEnding" in executePrefs) {
      result.lineEnding = prepareLineEnding(executePrefs.lineEnding);
    }
    if ("processingSeparateParts" in executePrefs) {
      result.processingSeparateParts = executePrefs.processingSeparateParts;
    }
    if ("ruleFilter" in executePrefs) {
      result.ruleFilter = executePrefs.ruleFilter;
    }
    return result;
  }
  var Typograf = (
    /** @class */
    function() {
      function Typograf2(prefs) {
        var _this = this;
        this.rules = [];
        this.innerRules = [];
        this.rulesByQueues = {};
        this.innerRulesByQueues = {};
        this.separatePartsTags = [
          "title",
          "p",
          "h[1-6]",
          "select",
          "legend"
        ];
        this.prefs = preparePrefs(prefs);
        checkLocales(this.prefs.locale);
        this.safeTags = new SafeTags();
        this.settings = {};
        this.enabledRules = {};
        this.innerRulesByQueues = {};
        this.innerRules = getInnerRules();
        this.innerRules.forEach(function(rule) {
          _this.innerRulesByQueues[rule.queue] = _this.innerRulesByQueues[rule.queue] || [];
          _this.innerRulesByQueues[rule.queue].push(rule);
        });
        this.rulesByQueues = {};
        this.rules = getRules();
        this.rules.forEach(function(rule) {
          _this.prepareRuleSettings(rule);
          _this.rulesByQueues[rule.queue] = _this.rulesByQueues[rule.queue] || [];
          _this.rulesByQueues[rule.queue].push(rule);
        });
        this.prefs.disableRule && this.disableRule(this.prefs.disableRule);
        this.prefs.enableRule && this.enableRule(this.prefs.enableRule);
      }
      Typograf2.addRule = function(rule) {
        addRule(rule);
      };
      Typograf2.addRules = function(rules2) {
        var _this = this;
        rules2.forEach(function(item) {
          _this.addRule(item);
        });
      };
      Typograf2.addInnerRule = function(rule) {
        addInnerRule(rule);
      };
      Typograf2.addInnerRules = function(rules2) {
        var _this = this;
        rules2.forEach(function(item) {
          _this.addInnerRule(item);
        });
      };
      Typograf2.getRule = function(ruleName) {
        var rule = null;
        var rules2 = getRules();
        rules2.some(function(item) {
          if (item.name === ruleName) {
            rule = item;
            return true;
          }
          return false;
        });
        return rule;
      };
      Typograf2.getRules = function() {
        return getRules();
      };
      Typograf2.getInnerRules = function() {
        return getInnerRules();
      };
      Typograf2.getLocales = function() {
        return getLocales();
      };
      Typograf2.addLocale = function(locale) {
        addLocale(locale);
      };
      Typograf2.hasLocale = function(locale) {
        return hasLocale(locale);
      };
      Typograf2.setData = function(data2) {
        setData(data2);
      };
      Typograf2.getData = function(key) {
        return getData(key);
      };
      Typograf2.prototype.execute = function(text, prefs) {
        text = "" + text;
        if (!text) {
          return "";
        }
        var contextPrefs = prepareContextPrefs(this.prefs, prefs);
        checkLocales(contextPrefs.locale);
        var context = this.prepareContext(text, contextPrefs);
        return this.process(context);
      };
      Typograf2.prototype.getSetting = function(ruleName, setting) {
        return this.settings[ruleName] && this.settings[ruleName][setting];
      };
      Typograf2.prototype.setSetting = function(ruleName, setting, value) {
        this.settings[ruleName] = this.settings[ruleName] || {};
        this.settings[ruleName][setting] = value;
      };
      Typograf2.prototype.isEnabledRule = function(ruleName) {
        return this.enabledRules[ruleName] !== false;
      };
      Typograf2.prototype.isDisabledRule = function(ruleName) {
        return !this.enabledRules[ruleName];
      };
      Typograf2.prototype.enableRule = function(ruleName) {
        return this.enable(ruleName, true);
      };
      Typograf2.prototype.disableRule = function(ruleName) {
        return this.enable(ruleName, false);
      };
      Typograf2.prototype.addSafeTag = function(startTag, endTag, middle) {
        var tag = startTag instanceof RegExp ? startTag : [startTag, endTag, middle];
        this.safeTags.add(tag);
      };
      Typograf2.prototype.prepareContext = function(text, prefs) {
        var context = {
          text,
          isHTML: isHTML(text),
          prefs,
          getData: function(key) {
            if (key === "char") {
              return prefs.locale.map(function(item) {
                return getData(item + "/" + key);
              }).join("");
            } else {
              return getData(prefs.locale[0] + "/" + key);
            }
          },
          safeTags: this.safeTags
        };
        return context;
      };
      Typograf2.prototype.splitBySeparateParts = function(context) {
        if (!context.isHTML || context.prefs.processingSeparateParts === false) {
          return [context.text];
        }
        var text = [];
        var reTags = new RegExp("<(" + this.separatePartsTags.join("|") + ")(\\s[^>]*?)?>[^]*?</\\1>", "gi");
        var position = 0;
        context.text.replace(reTags, function($0, $1, $2, itemPosition) {
          if (position !== itemPosition) {
            text.push((position ? privateSeparateLabel : "") + context.text.slice(position, itemPosition) + privateSeparateLabel);
          }
          text.push($0);
          position = itemPosition + $0.length;
          return $0;
        });
        text.push(position ? privateSeparateLabel + context.text.slice(position, context.text.length) : context.text);
        return text;
      };
      Typograf2.prototype.process = function(context) {
        var _this = this;
        context.text = removeCR(context.text);
        this.executeRules(context, "start");
        this.safeTags.hide(context, "own");
        this.executeRules(context, "hide-safe-tags-own");
        this.safeTags.hide(context, "html");
        this.executeRules(context, "hide-safe-tags-html");
        var isRootHTML = context.isHTML;
        var re = new RegExp(privateSeparateLabel, "g");
        context.text = this.splitBySeparateParts(context).map(function(item) {
          context.text = item;
          context.isHTML = isHTML(item);
          _this.safeTags.hideHTMLTags(context);
          _this.safeTags.hide(context, "url");
          _this.executeRules(context, "hide-safe-tags-url");
          _this.executeRules(context, "hide-safe-tags");
          htmlEntities.toUtf(context);
          if (context.prefs.live) {
            context.text = replaceNbsp$1(context.text);
          }
          _this.executeRules(context, "utf");
          _this.executeRules(context);
          htmlEntities.restore(context);
          _this.executeRules(context, "html-entities");
          _this.safeTags.show(context, "url");
          _this.executeRules(context, "show-safe-tags-url");
          return context.text.replace(re, "");
        }).join("");
        context.isHTML = isRootHTML;
        this.safeTags.show(context, "html");
        this.executeRules(context, "show-safe-tags-html");
        this.safeTags.show(context, "own");
        this.executeRules(context, "show-safe-tags-own");
        this.executeRules(context, "end");
        return fixLineEnding(context.text, context.prefs.lineEnding);
      };
      Typograf2.prototype.executeRules = function(context, queue) {
        var _this = this;
        if (queue === void 0) {
          queue = DEFAULT_QUEUE_NAME;
        }
        var rules2 = this.rulesByQueues[queue];
        var innerRules2 = this.innerRulesByQueues[queue];
        innerRules2 && innerRules2.forEach(function(rule) {
          _this.ruleIterator(context, rule);
        });
        rules2 && rules2.forEach(function(rule) {
          _this.ruleIterator(context, rule);
        });
      };
      Typograf2.prototype.ruleIterator = function(context, rule) {
        if (context.prefs.live === true && rule.live === false || context.prefs.live === false && rule.live === true) {
          return;
        }
        if ((rule.locale === "common" || rule.locale === context.prefs.locale[0]) && this.isEnabledRule(rule.name)) {
          if (context.prefs.ruleFilter && !context.prefs.ruleFilter(rule)) {
            return;
          }
          this.onBeforeRule && this.onBeforeRule(rule.name, context);
          context.text = rule.handler.call(this, context.text, this.settings[rule.name], context);
          this.onAfterRule && this.onAfterRule(rule.name, context);
        }
      };
      Typograf2.prototype.prepareRuleSettings = function(rule) {
        this.settings[rule.name] = deepCopy(rule.settings);
        this.enabledRules[rule.name] = rule.enabled;
      };
      Typograf2.prototype.enable = function(ruleName, enabled) {
        var _this = this;
        if (Array.isArray(ruleName)) {
          ruleName.forEach(function(item) {
            _this.enableByMask(item, enabled);
          });
        } else {
          this.enableByMask(ruleName, enabled);
        }
      };
      Typograf2.prototype.enableByMask = function(ruleName, enabled) {
        var _this = this;
        if (!ruleName) {
          return;
        }
        if (ruleName.search(/\*/) !== -1) {
          var re_1 = new RegExp(ruleName.replace(/\//g, "\\/").replace(/\*/g, ".*"));
          this.rules.forEach(function(el2) {
            var name2 = el2.name;
            if (re_1.test(name2)) {
              _this.enabledRules[name2] = enabled;
            }
          });
        } else {
          this.enabledRules[ruleName] = enabled;
        }
      };
      Typograf2.groups = [];
      Typograf2.titles = {};
      Typograf2.version = PACKAGE_VERSION;
      return Typograf2;
    }()
  );
  var common = {
    "common/char": "a-z",
    "common/dash": "--?|‒|–|—",
    // --, &#8210, &ndash, &mdash
    "common/quote": '«‹»›„“‟”"'
  };
  var be = {
    "be/char": "абвгдежзйклмнопрстуфхцчшыьэюяёіўґ",
    "be/quote": {
      left: "«“",
      right: "»”"
    }
  };
  var bg = {
    "bg/char": "абвгдежзийклмнопрстуфхцчшщъьюя",
    "bg/quote": {
      left: "„’",
      right: "“’"
    }
  };
  var ca = {
    "ca/char": "abcdefghijlmnopqrstuvxyzàçèéíïòóúü",
    "ca/quote": {
      left: "«“",
      right: "»”"
    }
  };
  var cs = {
    "cs/char": "a-záéíóúýčďěňřšťůž",
    "cs/quote": {
      left: "„‚",
      right: "“‘"
    }
  };
  var da = {
    "da/char": "a-zåæø",
    "da/quote": {
      left: "»›",
      right: "«‹"
    }
  };
  var de = {
    "de/char": "a-zßäöü",
    "de/quote": {
      left: "„‚",
      right: "“‘"
    }
  };
  var el = {
    "el/char": "ΐάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώϲάέήίόύώ",
    "el/quote": {
      left: "«“",
      right: "»”"
    }
  };
  var enGB = {
    "en-GB/char": "a-z",
    "en-GB/quote": {
      left: "‘“",
      right: "’”"
    }
  };
  var enUS = {
    "en-US/char": "a-z",
    "en-US/quote": {
      left: "“‘",
      right: "”’"
    },
    "en-US/shortWord": "a|an|and|as|at|bar|but|by|for|if|in|nor|not|of|off|on|or|out|per|pro|so|the|to|up|via|yet"
  };
  var eo = {
    "eo/char": "abcdefghijklmnoprstuvzĉĝĥĵŝŭ",
    "eo/quote": {
      left: "“‘",
      right: "”’"
    }
  };
  var es = {
    "es/char": "a-záéíñóúü",
    "es/quote": {
      left: "«“",
      right: "»”"
    }
  };
  var et = {
    "et/char": "abdefghijklmnoprstuvzäõöüšž",
    "et/quote": {
      left: "„«",
      right: "“»"
    }
  };
  var fi = {
    "fi/char": "abcdefghijklmnopqrstuvyöäå",
    "fi/quote": {
      left: "”’",
      right: "”’"
    }
  };
  var fr = {
    "fr/char": "a-zàâçèéêëîïôûüœæ",
    "fr/quote": {
      left: "«‹",
      right: "»›",
      spacing: true
    }
  };
  var ga = {
    "ga/char": "abcdefghilmnoprstuvwxyzáéíóú",
    "ga/quote": {
      left: "“‘",
      right: "”’"
    }
  };
  var hu = {
    "hu/char": "a-záäéíóöúüőű",
    "hu/quote": {
      left: "„»",
      right: "”«"
    }
  };
  var it = {
    "it/char": "a-zàéèìòù",
    "it/quote": {
      left: "«“",
      right: "»”"
    }
  };
  var lv = {
    "lv/char": "abcdefghijklmnopqrstuvxzæœ",
    "lv/quote": {
      left: "«„",
      right: "»“"
    }
  };
  var nl = {
    "nl/char": "a-zäçèéêëîïñöûü",
    "nl/quote": {
      left: "‘“",
      right: "’”"
    }
  };
  var no = {
    "no/char": "a-zåæèéêòóôø",
    "no/quote": {
      left: "«’",
      right: "»’"
    }
  };
  var pl = {
    "pl/char": "abcdefghijklmnoprstuvwxyzóąćęłńśźż",
    "pl/quote": {
      left: "„«",
      right: "”»"
    }
  };
  var ro = {
    "ro/char": "abcdefghijklmnoprstuvxzîășț",
    "ro/quote": {
      left: "„«",
      right: "”»"
    }
  };
  var ru = {
    "ru/char": "а-яё",
    "ru/dashBefore": "(^| |\\n)",
    "ru/dashAfter": "(?=[  ,.?:!]|$)",
    "ru/dashAfterDe": "(?=[,.?:!]|[  ][^А-ЯЁ]|$)",
    "ru/l": "а-яёa-z",
    "ru/L": "А-ЯЁA-Z",
    "ru/month": "январь|февраль|март|апрель|май|июнь|июль|август|сентябрь|октябрь|ноябрь|декабрь",
    "ru/monthGenCase": "января|февраля|марта|апреля|мая|июня|июля|августа|сентября|октября|ноября|декабря",
    "ru/monthPreCase": "январе|феврале|марте|апреле|мае|июне|июле|августе|сентябре|октябре|ноябре|декабре",
    "ru/quote": {
      left: "«„‚",
      right: "»“‘",
      removeDuplicateQuotes: true
    },
    "ru/shortMonth": "янв|фев|мар|апр|ма[ейя]|июн|июл|авг|сен|окт|ноя|дек",
    "ru/shortWord": "а|бы|в|во|да|до|же|за|и|из|к|ко|ли|на|не|ни|но|о|об|от|по|с|со|то|у",
    "ru/weekday": "понедельник|вторник|среда|четверг|пятница|суббота|воскресенье"
  };
  var sk = {
    "sk/char": "abcdefghijklmnoprstuvwxyzáäéíóôúýčďľňŕšťž",
    "sk/quote": {
      left: "„‚",
      right: "“‘"
    }
  };
  var sl = {
    "sl/char": "a-zčšž",
    "sl/quote": {
      left: "„‚",
      right: "“‘"
    }
  };
  var sr = {
    "sr/char": "abcdefghijklmnoprstuvzćčđšž",
    "sr/quote": {
      left: "„’",
      right: "”’"
    }
  };
  var sv = {
    "sv/char": "a-zäåéö",
    "sv/quote": {
      left: "”’",
      right: "”’"
    }
  };
  var tr = {
    "tr/char": "abcdefghijklmnoprstuvyzâçîöûüğış",
    "tr/quote": {
      left: "“‘",
      right: "”’"
    }
  };
  var uk = {
    "uk/char": "абвгдежзийклмнопрстуфхцчшщьюяєіїґ",
    "uk/quote": {
      left: "«„",
      right: "»“"
    }
  };
  var data = [
    common,
    be,
    bg,
    ca,
    cs,
    da,
    de,
    el,
    enGB,
    enUS,
    eo,
    es,
    et,
    fi,
    fr,
    ga,
    hu,
    it,
    lv,
    nl,
    no,
    pl,
    ro,
    ru,
    sk,
    sl,
    sr,
    sv,
    tr,
    uk
  ];
  data.forEach(function(item) {
    return setData(item);
  });
  var eMailRule = {
    name: "common/html/e-mail",
    queue: "end",
    handler: function(text, _settings, context) {
      return context.isHTML ? text : text.replace(/(^|[\s;(])([\w\-.]{2,64})@([\w\-.]{2,64})\.([a-z]{2,64})([)\s.,!?]|$)/gi, '$1<a href="mailto:$2@$3.$4">$2@$3.$4</a>$5');
    },
    disabled: true,
    htmlAttrs: false
  };
  var entityMap = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "'": "&#39;",
    "/": "&#x2F;"
  };
  var escapeRule = {
    name: "common/html/escape",
    index: "+100",
    queue: "end",
    handler: function(text) {
      return text.replace(/[&<>"'/]/g, function(key) {
        return entityMap[key];
      });
    },
    disabled: true
  };
  var nbrRule = {
    name: "common/html/nbr",
    index: "+10",
    queue: "end",
    handler: function(text) {
      return text.replace(/([^\n>])\n(?=[^\n])/g, "$1<br/>\n");
    },
    disabled: true,
    htmlAttrs: false
  };
  var blockElements = [
    "address",
    "article",
    "aside",
    "blockquote",
    "canvas",
    "dd",
    "div",
    "dl",
    "fieldset",
    "figcaption",
    "figure",
    "footer",
    "form",
    "h1",
    "h2",
    "h3",
    "h4",
    "h5",
    "h6",
    "header",
    "hgroup",
    "hr",
    "li",
    "main",
    "nav",
    "noscript",
    "ol",
    "output",
    "p",
    "pre",
    "section",
    "table",
    "tfoot",
    "ul",
    "video"
  ];
  var blockRe = new RegExp("<(" + blockElements.join("|") + ")[>\\s]");
  var separator = "\n\n";
  var pRule = {
    name: "common/html/p",
    index: "+5",
    queue: "end",
    handler: function(text) {
      var buffer = text.split(separator);
      buffer.forEach(function(text2, i, data2) {
        if (!text2.trim()) {
          return;
        }
        if (!blockRe.test(text2)) {
          data2[i] = text2.replace(/^(\s*)/, "$1<p>").replace(/(\s*)$/, "</p>$1");
        }
      });
      return buffer.join(separator);
    },
    disabled: true,
    htmlAttrs: false
  };
  var processingAttrsRule = {
    name: "common/html/processingAttrs",
    queue: "hide-safe-tags-own",
    // After "hide-safe-tags-own", before "hide-safe-tags-html".
    handler: function(text, settings2, context) {
      var _this = this;
      var reAttrs = new RegExp("(^|\\s)(" + settings2.attrs.join("|") + `)=("[^"]*?"|'[^']*?')`, "gi");
      var prefs = deepCopy(context.prefs);
      prefs.ruleFilter = function(rule) {
        return rule.htmlAttrs !== false;
      };
      return text.replace(/(<[-\w]+\s)([^>]+?)(?=>)/g, function(_match, tagName, attrs) {
        var resultAttrs = attrs.replace(reAttrs, function(_submatch, space, attrName, attrValue) {
          var lquote = attrValue[0];
          var rquote = attrValue[attrValue.length - 1];
          var value = attrValue.slice(1, -1);
          return space + attrName + "=" + lquote + _this.execute(value, prefs) + rquote;
        });
        return tagName + resultAttrs;
      });
    },
    settings: {
      attrs: ["title", "placeholder"]
    },
    disabled: true,
    htmlAttrs: false
  };
  var quotRule = {
    name: "common/html/quot",
    queue: "hide-safe-tags",
    handler: function(text) {
      return text.replace(/&quot;/g, '"');
    }
  };
  var stripTagsRule = {
    name: "common/html/stripTags",
    index: "+99",
    queue: "end",
    handler: function(text) {
      return text.replace(/<[^>]+>/g, "");
    },
    disabled: true
  };
  var urlRule = {
    name: "common/html/url",
    queue: "end",
    handler: function(text, _settings, context) {
      return context.isHTML ? text : text.replace(regExpUrl, function($0, protocol, path) {
        path = path.replace(/([^/]+\/?)(\?|#)$/, "$1").replace(/^([^/]+)\/$/, "$1");
        if (protocol === "http") {
          path = path.replace(/^([^/]+)(:80)([^\d]|\/|$)/, "$1$3");
        } else if (protocol === "https") {
          path = path.replace(/^([^/]+)(:443)([^\d]|\/|$)/, "$1$3");
        }
        var url2 = path;
        var fullUrl = protocol + "://" + path;
        var firstPart = '<a href="' + fullUrl + '">';
        if (protocol === "http" || protocol === "https") {
          url2 = url2.replace(/^www\./, "");
          return firstPart + (protocol === "http" ? url2 : protocol + "://" + url2) + "</a>";
        }
        return firstPart + fullUrl + "</a>";
      });
    },
    disabled: true,
    htmlAttrs: false
  };
  Typograf.addRules([
    eMailRule,
    escapeRule,
    nbrRule,
    pRule,
    processingAttrsRule,
    quotRule,
    stripTagsRule,
    urlRule
  ]);
  var afterNumberRule = {
    name: "common/nbsp/afterNumber",
    handler: function(text, _settings, context) {
      var char = context.getData("char");
      var re = "(^|\\s)(\\d{1,5}) ([" + char + "]+)";
      return text.replace(new RegExp(re, "gi"), "$1$2 $3");
    },
    disabled: true
  };
  var afterParagraphMarkRule = {
    name: "common/nbsp/afterParagraphMark",
    handler: function(text) {
      return text.replace(/¶ ?(?=\d)/g, "¶ ");
    }
  };
  var afterSectionMarkRule = {
    name: "common/nbsp/afterSectionMark",
    handler: function(text, _settings, context) {
      var locale = context.prefs.locale[0];
      return text.replace(/§[ \u00A0\u2009]?(?=\d|I|V|X)/g, locale === "ru" ? "§ " : "§ ");
    }
  };
  var afterShortWordRule = {
    name: "common/nbsp/afterShortWord",
    handler: function(text, settings2, context) {
      var lengthShortWord = settings2.lengthShortWord, useShortWordList = settings2.useShortWordList;
      var quote2 = getData("common/quote");
      var char = context.getData("char");
      var shortWord = context.getData("shortWord");
      var before = "  (" + privateLabel + quote2;
      var subStr = useShortWordList && shortWord !== void 0 ? "(^|[" + before + "])(" + shortWord + ") " : "(^|[" + before + "])([" + char + "]{1," + lengthShortWord + "}) ";
      var newSubStr = "$1$2 ";
      var re = new RegExp(subStr, "gim");
      return text.replace(re, newSubStr).replace(re, newSubStr);
    },
    settings: {
      lengthShortWord: 2,
      useShortWordList: false
    }
  };
  var beforeShortLastNumberRule = {
    name: "common/nbsp/beforeShortLastNumber",
    handler: function(text, settings2, context) {
      var quote2 = context.getData("quote");
      var ch = context.getData("char");
      var CH = ch.toUpperCase();
      var re = new RegExp("([" + ch + CH + "]) (?=\\d{1," + settings2.lengthLastNumber + `}[-+−%'"` + quote2.right + ")]?([.!?…]( [" + CH + "]|$)|$))", "gm");
      return text.replace(re, "$1 ");
    },
    live: false,
    settings: {
      lengthLastNumber: 2
    }
  };
  var beforeShortLastWordRule = {
    name: "common/nbsp/beforeShortLastWord",
    handler: function(text, settings2, context) {
      var ch = context.getData("char");
      var CH = ch.toUpperCase();
      var re = new RegExp("([" + ch + "\\d]) ([" + ch + CH + "]{1," + settings2.lengthLastWord + "}[.!?…])( [" + CH + "]|$)", "g");
      return text.replace(re, "$1 $2$3");
    },
    settings: {
      lengthLastWord: 3
    }
  };
  var dpiRule = {
    name: "common/nbsp/dpi",
    handler: function(text) {
      return text.replace(/(\d) ?(lpi|dpi)(?!\w)/, "$1 $2");
    }
  };
  function replaceNbsp($0, $1, $2, $3) {
    return $1 + $2.replace(/([^\u00A0])\u00A0([^\u00A0])/g, "$1 $2") + $3;
  }
  var nowrapRule = {
    name: "common/nbsp/nowrap",
    queue: "end",
    handler: function(text) {
      return text.replace(/(<nowrap>)(.*?)(<\/nowrap>)/g, replaceNbsp).replace(/(<nobr>)(.*?)(<\/nobr>)/g, replaceNbsp);
    }
  };
  var replaceNbspRule = {
    name: "common/nbsp/replaceNbsp",
    queue: "utf",
    live: false,
    handler: replaceNbsp$1,
    disabled: true
  };
  Typograf.addRules([
    afterNumberRule,
    afterParagraphMarkRule,
    afterSectionMarkRule,
    afterShortWordRule,
    beforeShortLastNumberRule,
    beforeShortLastWordRule,
    dpiRule,
    nowrapRule,
    replaceNbspRule
  ]);
  var digitGroupingRule = {
    name: "common/number/digitGrouping",
    index: "310",
    disabled: true,
    handler: function(text, settings2) {
      return text.replace(new RegExp("(^ ?|\\D |".concat(privateLabel, ")(\\d{1,3}([    ]\\d{3})+)(?! ?[\\d-])"), "gm"), function($0, $1, $2) {
        return $1 + $2.replace(/\s/g, settings2.space);
      }).replace(/(\d{5,}([.,]\d+)?)/g, function($0, $1) {
        var decimalMarker = $1.match(/[.,]/);
        var parts = decimalMarker ? $1.split(decimalMarker) : [$1];
        var integerPart = parts[0];
        var fractionalPart = parts[1];
        integerPart = integerPart.replace(/(\d)(?=(\d{3})+([^\d]|$))/g, "$1" + settings2.space);
        return decimalMarker ? integerPart + decimalMarker + fractionalPart : integerPart;
      });
    },
    settings: {
      space: " "
    }
  };
  var fractionRule = {
    name: "common/number/fraction",
    handler: function(text) {
      return text.replace(/(^|\D)1\/2(\D|$)/g, "$1½$2").replace(/(^|\D)1\/4(\D|$)/g, "$1¼$2").replace(/(^|\D)3\/4(\D|$)/g, "$1¾$2");
    }
  };
  var mathSignsRule = {
    name: "common/number/mathSigns",
    handler: function(text) {
      return replace(text, [
        [/!=/g, "≠"],
        [/<=/g, "≤"],
        [/(^|[^=])>=/g, "$1≥"],
        [/<=>/g, "⇔"],
        [/<</g, "≪"],
        [/>>/g, "≫"],
        [/~=/g, "≅"],
        [/(^|[^+])\+-/g, "$1±"]
      ]);
    }
  };
  var timesRule = {
    name: "common/number/times",
    handler: function(text) {
      return text.replace(/(\d)[ \u00A0]?[xх][ \u00A0]?(\d)/g, "$1×$2");
    }
  };
  Typograf.addRules([
    digitGroupingRule,
    fractionRule,
    mathSignsRule,
    timesRule
  ]);
  var delBOMRule = {
    name: "common/other/delBOM",
    queue: "start",
    index: -1,
    handler: function(text) {
      if (text.charCodeAt(0) === 65279) {
        return text.slice(1);
      }
      return text;
    }
  };
  var repeatWordRule = {
    name: "common/other/repeatWord",
    handler: function(text, settings2, context) {
      var quote2 = getData("common/quote");
      var char = context.getData("char");
      var punc = "[;:,.?! \n" + quote2 + "]";
      var re = new RegExp("(" + punc + "|^)([" + char + "]{" + settings2.min + ",}) \\2(" + punc + "|$)", "gi");
      return text.replace(re, "$1$2$3");
    },
    settings: { min: 2 },
    disabled: true
  };
  Typograf.addRules([
    delBOMRule,
    repeatWordRule
  ]);
  var apostropheRule = {
    name: "common/punctuation/apostrophe",
    handler: function(text, _settings, context) {
      var char = context.getData("char");
      var letters = "([" + char + "])";
      var re = new RegExp(letters + "'" + letters, "gi");
      return text.replace(re, "$1’$2");
    }
  };
  var delDoublePunctuationRule = {
    name: "common/punctuation/delDoublePunctuation",
    handler: function(text) {
      return text.replace(/(^|[^,]),,(?!,)/g, "$1,").replace(/(^|[^:])::(?!:)/g, "$1:").replace(/(^|[^!?.])\.\.(?!\.)/g, "$1.").replace(/(^|[^;]);;(?!;)/g, "$1;").replace(/(^|[^?])\?\?(?!\?)/g, "$1?");
    }
  };
  var hellipRule = {
    name: "common/punctuation/hellip",
    handler: function(text, _settings, context) {
      return context.prefs.locale[0] === "ru" ? text.replace(/(^|[^.])\.{3,4}(?=[^.]|$)/g, "$1…") : text.replace(/(^|[^.])\.{3}(\.?)(?=[^.]|$)/g, "$1…$2");
    }
  };
  var MAX_LEVEL_WITH_ERRORS = 2;
  var Quote = (
    /** @class */
    function() {
      function Quote2() {
        this.bufferQuotes = {
          left: "",
          right: ""
        };
        this.beforeLeft = " \n	 [(";
        this.afterRight = " \n	 !?.:;#*,…)\\]";
      }
      Quote2.prototype.process = function(params) {
        var text = params.context.text;
        var count = this.count(text);
        if (!count.total) {
          return text;
        }
        var originalSettings = params.settings;
        var isEqualQuotes = params.settings.left[0] === params.settings.right[0];
        if (isEqualQuotes) {
          params.settings = deepCopy(params.settings);
          params.settings.left = this.bufferQuotes.left.slice(0, params.settings.left.length);
          params.settings.right = this.bufferQuotes.right.slice(0, params.settings.right.length);
        }
        if (params.settings.spacing) {
          text = this.removeSpacing(text, params.settings);
        }
        text = this.set(text, params);
        if (params.settings.spacing) {
          text = this.setSpacing(text, params.settings);
        }
        if (params.settings.removeDuplicateQuotes) {
          text = this.removeDuplicates(text, params.settings);
        }
        if (isEqualQuotes) {
          text = this.returnOriginalQuotes(text, originalSettings, params.settings);
          params.settings = originalSettings;
        }
        return text;
      };
      Quote2.prototype.returnOriginalQuotes = function(text, originalSettings, bufferSettings) {
        var buffer = {};
        for (var i = 0; i < bufferSettings.left.length; i++) {
          buffer[bufferSettings.left[i]] = originalSettings.left[i];
          buffer[bufferSettings.right[i]] = originalSettings.right[i];
        }
        return text.replace(new RegExp("[" + bufferSettings.left + bufferSettings.right + "]", "g"), function(quote2) {
          return buffer[quote2];
        });
      };
      Quote2.prototype.count = function(text) {
        var count = { total: 0 };
        text.replace(new RegExp("[" + getData("common/quote") + "]", "g"), function(quote2) {
          if (!count[quote2]) {
            count[quote2] = 0;
          }
          count[quote2]++;
          count.total++;
          return quote2;
        });
        return count;
      };
      Quote2.prototype.removeDuplicates = function(text, settings2) {
        var lquote = settings2.left[0];
        var lquote2 = settings2.left[1] || lquote;
        var rquote = settings2.right[0];
        if (lquote !== lquote2) {
          return text;
        }
        return text.replace(new RegExp(lquote + lquote, "g"), lquote).replace(new RegExp(rquote + rquote, "g"), rquote);
      };
      Quote2.prototype.removeSpacing = function(text, settings2) {
        for (var i = 0, len = settings2.left.length; i < len; i++) {
          var lquote = settings2.left[i];
          var rquote = settings2.right[i];
          text = text.replace(new RegExp(lquote + "([   ])", "g"), lquote).replace(new RegExp("([   ])" + rquote, "g"), rquote);
        }
        return text;
      };
      Quote2.prototype.setSpacing = function(text, settings2) {
        for (var i = 0, len = settings2.left.length; i < len; i++) {
          var lquote = settings2.left[i];
          var rquote = settings2.right[i];
          text = text.replace(new RegExp(lquote + "([^ ])", "g"), lquote + " $1").replace(new RegExp("([^ ])" + rquote, "g"), "$1 " + rquote);
        }
        return text;
      };
      Quote2.prototype.set = function(text, params) {
        var quotes = getData("common/quote");
        var lquote = params.settings.left[0];
        var lquote2 = params.settings.left[1] || lquote;
        var rquote = params.settings.right[0];
        var reL = new RegExp("(^|[" + this.beforeLeft + "])([" + quotes + "]+)(?=[^\\s" + privateLabel + "])", "gim");
        var reR = new RegExp("([^\\s" + privateLabel + "])([" + quotes + "]+)(?=[" + this.afterRight + "]|$)", "gim");
        text = text.replace(reL, function($0, $1, $2) {
          return $1 + repeat(lquote, $2.length);
        }).replace(reR, function($0, $1, $2) {
          return $1 + repeat(rquote, $2.length);
        });
        text = this.setAboveTags(text, params);
        if (lquote !== lquote2) {
          text = this.setInner(text, params.settings);
        }
        return text;
      };
      Quote2.prototype.setAboveTags = function(text, params) {
        var _this = this;
        var quotes = getData("common/quote");
        var lquote = params.settings.left[0];
        var rquote = params.settings.right[0];
        return text.replace(new RegExp("(^|.)([" + quotes + "])(.|$)", "gm"), function(original, prev, quote2, next, pos) {
          if (prev !== privateLabel && next !== privateLabel) {
            return original;
          }
          if (prev === privateLabel && next === privateLabel) {
            if (quote2 === '"') {
              return prev + _this.getAboveTwoTags(text, pos + 1, params) + next;
            }
            return original;
          }
          if (prev === privateLabel) {
            var hasRight = _this.afterRight.indexOf(next) > -1;
            var prevInfo = params.safeTags.getPrevTagInfo(params.context, text, pos - 1);
            if (hasRight && prevInfo && prevInfo.group === "html") {
              return prev + (prevInfo.isClosing ? rquote : lquote) + next;
            }
            return prev + (!next || hasRight ? rquote : lquote) + next;
          } else {
            var hasLeft = _this.beforeLeft.indexOf(prev) > -1;
            var nextInfo = params.safeTags.getNextTagInfo(params.context, text, pos + 1);
            if (hasLeft && nextInfo && nextInfo.group === "html") {
              return prev + (nextInfo.isClosing ? rquote : lquote) + next;
            }
            return prev + (!prev || hasLeft ? lquote : rquote) + next;
          }
        });
      };
      Quote2.prototype.getAboveTwoTags = function(text, pos, params) {
        var prevInfo = params.safeTags.getPrevTagInfo(params.context, text, pos);
        var nextInfo = params.safeTags.getNextTagInfo(params.context, text, pos);
        if (prevInfo) {
          if (prevInfo.group === "html") {
            if (!prevInfo.isClosing) {
              return params.settings.left[0];
            }
            if (nextInfo && nextInfo.isClosing && prevInfo.isClosing) {
              return params.settings.right[0];
            }
          }
        }
        return text[pos];
      };
      Quote2.prototype.setInner = function(text, settings2) {
        var lquote = settings2.left[0];
        var rquote = settings2.right[0];
        var minLevel = 0;
        var maxLevel = this.getMaxLevel(text, lquote, rquote, settings2.left.length);
        var level = minLevel;
        var result = "";
        for (var i = 0, len = text.length; i < len; i++) {
          var letter = text[i];
          if (letter === lquote) {
            result += settings2.left[level > maxLevel - 1 ? maxLevel - 1 : level];
            level++;
            if (level > maxLevel) {
              level = maxLevel;
            }
          } else if (letter === rquote) {
            level--;
            if (level < minLevel) {
              level = minLevel;
            }
            result += settings2.right[level];
          } else {
            if (letter === '"') {
              level = minLevel;
            }
            result += letter;
          }
        }
        return result;
      };
      Quote2.prototype.getMaxLevel = function(text, leftQuote, rightQuote, length) {
        var count = this.count(text);
        return count[leftQuote] === count[rightQuote] ? length : Math.min(length, MAX_LEVEL_WITH_ERRORS);
      };
      return Quote2;
    }()
  );
  var quote = new Quote();
  var settings = {};
  getLocales().forEach(function(locale) {
    settings[locale] = deepCopy(getData(locale + "/quote"));
  });
  var quoteRule$1 = {
    name: "common/punctuation/quote",
    handler: function(text, commonSettings, context) {
      var locale = context.prefs.locale[0];
      var settings2 = commonSettings[locale];
      if (!settings2) {
        return text;
      }
      return quote.process({
        context,
        settings: settings2,
        safeTags: this.safeTags
      });
    },
    settings
  };
  var quoteLinkRule = {
    name: "common/punctuation/quoteLink",
    queue: "show-safe-tags-html",
    index: "+5",
    handler: function(text, _settings, context) {
      var quotes = this.getSetting("common/punctuation/quote", context.prefs.locale[0]);
      var lquote1 = htmlEntities.getByUtf(quotes.left[0]);
      var rquote1 = htmlEntities.getByUtf(quotes.right[0]);
      var lquote2 = htmlEntities.getByUtf(quotes.left[1]);
      var rquote2 = htmlEntities.getByUtf(quotes.right[1]);
      lquote2 = lquote2 ? "|" + lquote2 : "";
      rquote2 = rquote2 ? "|" + rquote2 : "";
      var re = new RegExp("(<[aA]\\s[^>]*?>)(" + lquote1 + lquote2 + ")([^]*?)(" + rquote1 + rquote2 + ")(</[aA]>)", "g");
      return text.replace(re, "$2$1$3$5$4");
    }
  };
  Typograf.addRules([
    apostropheRule,
    delDoublePunctuationRule,
    hellipRule,
    quoteRule$1,
    quoteLinkRule
  ]);
  var beforeBracketRule = {
    name: "common/space/beforeBracket",
    handler: function(text, _settings, context) {
      var char = context.getData("char");
      var re = new RegExp("([" + char + ".!?,;…)])\\(", "gi");
      return text.replace(re, "$1 (");
    }
  };
  var bracketRule$1 = {
    name: "common/space/bracket",
    handler: function(text) {
      return text.replace(/(\() +/g, "(").replace(/ +\)/g, ")");
    }
  };
  var delBeforePercentRule = {
    name: "common/space/delBeforePercent",
    handler: function(text) {
      return text.replace(/(\d)( |\u00A0)(%|‰|‱)/g, "$1$3");
    }
  };
  var delBeforePunctuationRule = {
    name: "common/space/delBeforePunctuation",
    handler: function(text) {
      return text.replace(/(^|[^!?:;,.…]) ([!?:;,])(?!\))/g, "$1$2");
    }
  };
  var delBetweenExclamationMarksRule = {
    name: "common/space/delBetweenExclamationMarks",
    handler: function(text) {
      return text.replace(/([!?]) (?=[!?])/g, "$1");
    }
  };
  var delBeforeDotRule = {
    name: "common/space/delBeforeDot",
    handler: function(text) {
      return text.replace(/(^|[^!?:;,.…]) (\.|\.\.\.)(\s|$)/g, "$1$2$3");
    }
  };
  var delLeadingBlanksRule = {
    name: "common/space/delLeadingBlanks",
    handler: function(text) {
      return text.replace(/^[ \t]+/mg, "");
    },
    disabled: true
  };
  var delRepeatNRule = {
    name: "common/space/delRepeatN",
    index: "-1",
    handler: function(text, settings2) {
      var maxConsecutiveLineBreaks = settings2.maxConsecutiveLineBreaks;
      var consecutiveLineBreaksRegex = new RegExp("\n{".concat(maxConsecutiveLineBreaks + 1, ",}"), "g");
      var replaceValue = repeat("\n", maxConsecutiveLineBreaks);
      return text.replace(consecutiveLineBreaksRegex, replaceValue);
    },
    settings: {
      maxConsecutiveLineBreaks: 2
    }
  };
  var delRepeatSpaceRule = {
    name: "common/space/delRepeatSpace",
    index: "-1",
    handler: function(text) {
      return text.replace(/([^\n \t])[ \t]{2,}(?![\n \t])/g, "$1 ");
    }
  };
  var delTrailingBlanksRule = {
    name: "common/space/delTrailingBlanks",
    index: "-3",
    handler: function(text) {
      return text.replace(/[ \t]+\n/g, "\n");
    }
  };
  var insertFinalNewlineRule = {
    name: "common/space/insertFinalNewline",
    queue: "end",
    handler: function(text) {
      return text[text.length - 1] === "\n" ? text : text + "\n";
    },
    live: false,
    disabled: true
  };
  var replaceTabRule = {
    name: "common/space/replaceTab",
    index: "-5",
    handler: function(text) {
      return text.replace(/\t/g, "    ");
    }
  };
  var squareBracketRule = {
    name: "common/space/squareBracket",
    handler: function(text) {
      return text.replace(/(\[) +/g, "[").replace(/ +\]/g, "]");
    }
  };
  var trimLeftRule = {
    name: "common/space/trimLeft",
    index: "-4",
    handler: String.prototype.trimLeft ? function(text) {
      return text.trimLeft();
    } : (
      /* istanbul ignore next */
      function(text) {
        return text.replace(/^[\s\uFEFF\xA0]+/g, "");
      }
    )
  };
  var trimRightRule = {
    name: "common/space/trimRight",
    index: "-3",
    live: false,
    handler: String.prototype.trimRight ? function(text) {
      return text.trimRight();
    } : (
      /* istanbul ignore next */
      function(text) {
        return text.replace(/[\s\uFEFF\xA0]+$/g, "");
      }
    )
  };
  var reColon = new RegExp('(\\D):([^)",:.?\\s\\/\\\\' + privateLabel + "])", "g");
  var afterColonRule = {
    name: "common/space/afterColon",
    handler: function(text) {
      return text.replace(reColon, "$1: $2");
    }
  };
  var afterCommaRule = {
    name: "common/space/afterComma",
    handler: function(text, settings2, context) {
      var quote2 = context.getData("quote");
      var quotes = typeof quote2 === "string" ? quote2 : quote2.right;
      return text.replace(new RegExp('(.),([^)",:.?\\s\\/\\\\' + privateLabel + quotes + "])", "g"), function($0, $1, $2) {
        return isDigit($1) && isDigit($2) ? $0 : $1 + ", " + $2;
      });
    }
  };
  var reQuestionMark = new RegExp("\\?([^).…!;?\\s[\\])" + privateLabel + getData("common/quote") + "])", "g");
  var afterQuestionMarkRule = {
    name: "common/space/afterQuestionMark",
    handler: function(text) {
      return text.replace(reQuestionMark, "? $1");
    }
  };
  var reExclamationMark = new RegExp("!([^).…!;?\\s[\\])" + privateLabel + getData("common/quote") + "])", "g");
  var afterExclamationMarkRule = {
    name: "common/space/afterExclamationMark",
    handler: function(text) {
      return text.replace(reExclamationMark, "! $1");
    }
  };
  var reSemicolon = new RegExp(";([^).…!;?\\s[\\])" + privateLabel + getData("common/quote") + "])", "g");
  var afterSemicolonRule = {
    name: "common/space/afterSemicolon",
    handler: function(text) {
      return text.replace(reSemicolon, "; $1");
    }
  };
  Typograf.addRules([
    afterColonRule,
    afterCommaRule,
    afterQuestionMarkRule,
    afterExclamationMarkRule,
    afterSemicolonRule,
    beforeBracketRule,
    bracketRule$1,
    delBeforeDotRule,
    delBeforePercentRule,
    delBeforePunctuationRule,
    delBetweenExclamationMarksRule,
    delLeadingBlanksRule,
    delRepeatNRule,
    delRepeatSpaceRule,
    delTrailingBlanksRule,
    insertFinalNewlineRule,
    replaceTabRule,
    squareBracketRule,
    trimLeftRule,
    trimRightRule
  ]);
  var arrowRule = {
    name: "common/symbols/arrow",
    handler: function(text) {
      return replace(text, [
        [/(^|[^-])->(?!>)/g, "$1→"],
        [/(^|[^<])<-(?!-)/g, "$1←"]
      ]);
    }
  };
  var cfRule = {
    name: "common/symbols/cf",
    handler: function(text) {
      var re = new RegExp('(^|[\\s(\\[+≈±−—–\\-])(\\d+(?:[.,]\\d+)?)[   ]?(C|F)([\\W\\s.,:!?")\\]]|$)', "mg");
      return text.replace(re, "$1$2 °$3$4");
    }
  };
  var copyRule = {
    name: "common/symbols/copy",
    handler: function(text) {
      return replace(text, [
        [/\(r\)/gi, "®"],
        [/(copyright )?\((c|с)\)/gi, "©"],
        [/\(tm\)/gi, "™"]
      ]);
    }
  };
  Typograf.addRules([
    arrowRule,
    cfRule,
    copyRule
  ]);
  var mainRule$1 = {
    name: "en-US/dash/main",
    index: "-5",
    handler: function(text) {
      var dashes = getData("common/dash");
      var nonBreakingSpace = " ";
      var emDash = "—";
      var spaceBefore = "[ ".concat(nonBreakingSpace, "]");
      var spaceAfter = "[ ".concat(nonBreakingSpace, "\n]");
      var re = new RegExp("".concat(spaceBefore, "(").concat(dashes, ")(").concat(spaceAfter, ")"), "g");
      return text.replace(re, "".concat(nonBreakingSpace).concat(emDash, "$2"));
    }
  };
  Typograf.addRules([
    mainRule$1
  ]);
  var centuriesRule$1 = {
    name: "ru/dash/centuries",
    handler: function(text, settings2) {
      var dashes = "(" + getData("common/dash") + ")";
      var re = new RegExp("(X|I|V)[ | ]?" + dashes + "[ | ]?(X|I|V)", "g");
      return text.replace(re, "$1" + settings2.dash + "$3");
    },
    settings: {
      dash: "–"
      // &ndash;
    }
  };
  var daysMonthRule = {
    name: "ru/dash/daysMonth",
    handler: function(text, settings2) {
      var re = new RegExp("(^|\\s)([123]?\\d)(" + getData("common/dash") + ")([123]?\\d)[  ](" + getData("ru/monthGenCase") + ")", "g");
      return text.replace(re, "$1$2" + settings2.dash + "$4 $5");
    },
    settings: {
      dash: "–"
      // &ndash;
    }
  };
  var deRule = {
    name: "ru/dash/de",
    handler: function(text) {
      var re = new RegExp("([a-яё]+) де" + getData("ru/dashAfterDe"), "g");
      return text.replace(re, "$1-де");
    },
    disabled: true
  };
  var decadeRule = {
    name: "ru/dash/decade",
    handler: function(text, settings2) {
      var re = new RegExp("(^|\\s)(\\d{3}|\\d)0(" + getData("common/dash") + ")(\\d{3}|\\d)0(-е[  ])(?=г\\.?[  ]?г|год)", "g");
      return text.replace(re, "$1$20" + settings2.dash + "$40$5");
    },
    settings: {
      dash: "–"
      // &ndash;
    }
  };
  var directSpeechRule = {
    name: "ru/dash/directSpeech",
    handler: function(text) {
      var dashes = getData("common/dash");
      var re12 = new RegExp('(["»‘“,])[ | ]?('.concat(dashes, ")[ | ]"), "g");
      var re22 = new RegExp("(^|".concat(privateLabel, ")(").concat(dashes, ")( | )"), "gm");
      var re3 = new RegExp("([.…?!])[  ](".concat(dashes, ")[  ]"), "g");
      return text.replace(re12, "$1 — ").replace(re22, "$1— ").replace(re3, "$1 — ");
    }
  };
  var izpodRule = {
    name: "ru/dash/izpod",
    handler: function(text) {
      var re = new RegExp(getData("ru/dashBefore") + "(И|и)з под" + getData("ru/dashAfter"), "g");
      return text.replace(re, "$1$2з-под");
    }
  };
  var izzaRule = {
    name: "ru/dash/izza",
    handler: function(text) {
      var re = new RegExp(getData("ru/dashBefore") + "(И|и)з за" + getData("ru/dashAfter"), "g");
      return text.replace(re, "$1$2з-за");
    }
  };
  var kaRule = {
    name: "ru/dash/ka",
    handler: function(text) {
      var re = new RegExp("([a-яё]+) ка(сь)?" + getData("ru/dashAfter"), "g");
      return text.replace(re, "$1-ка$2");
    }
  };
  var koeRule = {
    name: "ru/dash/koe",
    handler: function(text) {
      var re = new RegExp(getData("ru/dashBefore") + "([Кк]о[ей])\\s([а-яё]{3,})" + getData("ru/dashAfter"), "g");
      return text.replace(re, "$1$2-$3");
    }
  };
  var mainRule = {
    name: "ru/dash/main",
    index: "-5",
    handler: function(text) {
      var dashes = getData("common/dash");
      var re = new RegExp("([  ])(" + dashes + ")([  \\n])", "g");
      return text.replace(re, " —$3");
    }
  };
  var monthRule = {
    name: "ru/dash/month",
    handler: function(text, settings2) {
      var months = "(" + getData("ru/month") + ")";
      var monthsPre = "(" + getData("ru/monthPreCase") + ")";
      var dashes = getData("common/dash");
      var re = new RegExp(months + " ?(" + dashes + ") ?" + months, "gi");
      var rePre = new RegExp(monthsPre + " ?(" + dashes + ") ?" + monthsPre, "gi");
      var newSubStr = "$1" + settings2.dash + "$3";
      return text.replace(re, newSubStr).replace(rePre, newSubStr);
    },
    settings: {
      dash: "–"
      // &ndash;
    }
  };
  var surnameRule = {
    name: "ru/dash/surname",
    handler: function(text) {
      var re = new RegExp("([А-ЯЁ][а-яё]+)\\s-([а-яё]{1,3})(?![^а-яё]|$)", "g");
      return text.replace(re, "$1 —$2");
    }
  };
  var takiRule = {
    name: "ru/dash/taki",
    handler: function(text) {
      var re = new RegExp("(верно|довольно|опять|прямо|так|вс[её]|действительно|неужели)\\s(таки)" + getData("ru/dashAfter"), "g");
      return text.replace(re, "$1-$2");
    }
  };
  var timeRule = {
    name: "ru/dash/time",
    handler: function(text, settings2) {
      var re = new RegExp(getData("ru/dashBefore") + "(\\d?\\d:[0-5]\\d)" + getData("common/dash") + "(\\d?\\d:[0-5]\\d)" + getData("ru/dashAfter"), "g");
      return text.replace(re, "$1$2" + settings2.dash + "$3");
    },
    settings: {
      dash: "–"
      // &ndash;
    }
  };
  var toRule = {
    name: "ru/dash/to",
    handler: function(text) {
      var words = "[Оо]ткуда|[Кк]уда|[Гг]де|[Кк]огда|[Зз]ачем|[Пп]очему|[Кк]ак|[Кк]ако[ейм]|[Кк]акая|[Кк]аки[емх]|[Кк]акими|[Кк]акую|[Чч]то|[Чч]его|[Чч]е[йм]|[Чч]ьим?|[Кк]то|[Кк]ого|[Кк]ому|[Кк]ем";
      var re = new RegExp("(^|[^А-ЯЁа-яё\\w])(" + words + ")( | -|- )(то|либо|нибудь)" + getData("ru/dashAfter"), "g");
      return text.replace(re, function($0, $1, $2, $3, $4) {
        var kakto = $2 + $3 + $4;
        if (kakto === "как то" || kakto === "Как то") {
          return $0;
        }
        return $1 + $2 + "-" + $4;
      });
    }
  };
  var kaktoRule = {
    name: "ru/dash/kakto",
    handler: function(text) {
      var re = new RegExp("(^|[^А-ЯЁа-яё\\w])([Кк]ак) то" + getData("ru/dashAfter"), "g");
      return text.replace(re, "$1$2-то");
    }
  };
  var weekdayRule$1 = {
    name: "ru/dash/weekday",
    handler: function(text, settings2) {
      var part = "(" + getData("ru/weekday") + ")";
      var re = new RegExp(part + " ?(" + getData("common/dash") + ") ?" + part, "gi");
      return text.replace(re, "$1" + settings2.dash + "$3");
    },
    settings: {
      dash: "–"
      // &ndash;
    }
  };
  var yearsRule$1 = {
    name: "ru/dash/years",
    handler: function(text, settings2) {
      var dashes = getData("common/dash");
      var re = new RegExp("(\\D|^)(\\d{4})[  ]?(" + dashes + ")[  ]?(\\d{4})(?=[  ]?г)", "g");
      return text.replace(re, function($0, $1, $2, $3, $4) {
        if (parseInt($2, 10) < parseInt($4, 10)) {
          return $1 + $2 + settings2.dash + $4;
        }
        return $0;
      });
    },
    settings: {
      dash: "–"
      // &ndash;
    }
  };
  Typograf.addRules([
    centuriesRule$1,
    daysMonthRule,
    deRule,
    decadeRule,
    directSpeechRule,
    izpodRule,
    izzaRule,
    kaRule,
    koeRule,
    mainRule,
    monthRule,
    surnameRule,
    takiRule,
    timeRule,
    toRule,
    kaktoRule,
    weekdayRule$1,
    yearsRule$1
  ]);
  var sp1 = "(-|\\.|\\/)";
  var sp2 = "(-|\\/)";
  var re1 = new RegExp("(^|\\D)(\\d{4})" + sp1 + "(\\d{2})" + sp1 + "(\\d{2})(\\D|$)", "gi");
  var re2 = new RegExp("(^|\\D)(\\d{2})" + sp2 + "(\\d{2})" + sp2 + "(\\d{4})(\\D|$)", "gi");
  var fromISORule = {
    name: "ru/date/fromISO",
    handler: function(text) {
      return text.replace(re1, "$1$6.$4.$2$7").replace(re2, "$1$4.$2.$6$7");
    }
  };
  var weekdayRule = {
    name: "ru/date/weekday",
    handler: function(text) {
      var space = "( | )";
      var monthCase = getData("ru/monthGenCase");
      var weekday = getData("ru/weekday");
      var re = new RegExp("(\\d)" + space + "(" + monthCase + ")," + space + "(" + weekday + ")", "gi");
      return text.replace(re, function(_, $1, $2, $3, $4, $5) {
        return $1 + $2 + $3.toLowerCase() + "," + $4 + $5.toLowerCase();
      });
    }
  };
  Typograf.addRules([
    fromISORule,
    weekdayRule
  ]);
  var currencyRule = {
    name: "ru/money/currency",
    handler: function(text) {
      var currency = "([$€¥Ұ£₤₽])";
      var space = "[    ]";
      var re12 = new RegExp("(^|[\\D]{2})" + currency + " ?(" + regExpNumber + "(" + space + "\\d{3})*)(" + space + "?(тыс\\.|млн|млрд|трлн))?", "gm");
      var re22 = new RegExp("(^|[\\D])(" + regExpNumber + ") ?" + currency, "gm");
      return text.replace(re12, function($0, $1, $2, $3, $4, $5, $6, $7) {
        return $1 + $3 + ($7 ? " " + $7 : "") + " " + $2;
      }).replace(re22, "$1$2 $4");
    },
    disabled: true
  };
  var rubleRule = {
    name: "ru/money/ruble",
    handler: function(text) {
      var newSubstr = "$1 ₽";
      var commonPart = "(\\d+)( | )?(р|руб)\\.";
      var re12 = new RegExp("^" + commonPart + "$", "g");
      var re22 = new RegExp(commonPart + "(?=[!?,:;])", "g");
      var re3 = new RegExp(commonPart + "(?=\\s+[A-ЯЁ])", "g");
      return text.replace(re12, newSubstr).replace(re22, newSubstr).replace(re3, newSubstr + ".");
    },
    disabled: true
  };
  Typograf.addRules([
    currencyRule,
    rubleRule
  ]);
  function abbr($0, $1, $2, $3) {
    if ($2 === "дд" && $3 === "мм") {
      return $0;
    }
    if (["рф", "ру", "рус", "орг", "укр", "бг", "срб"].indexOf($3) > -1) {
      return $0;
    }
    return $1 + $2 + ". " + $3 + ".";
  }
  var abbrRule = {
    name: "ru/nbsp/abbr",
    handler: function(text) {
      var re = new RegExp("(^|\\s|".concat(privateLabel, ")([а-яё]{1,3})\\. ?([а-яё]{1,3})\\."), "g");
      return text.replace(re, abbr).replace(re, abbr);
    }
  };
  var addrRule = {
    name: "ru/nbsp/addr",
    handler: function(text) {
      return text.replace(/(\s|^)(дом|д\.|кв\.|под\.|п-д) *(\d+)/gi, "$1$2 $3").replace(/(\s|^)(мкр-н|мк-н|мкр\.|мкрн)\s/gi, "$1$2 ").replace(/(\s|^)(эт\.) *(-?\d+)/gi, "$1$2 $3").replace(/(\s|^)(\d+) +этаж([^а-яё]|$)/gi, "$1$2 этаж$3").replace(/(\s|^)литер\s([А-Я]|$)/gi, "$1литер $2").replace(/(\s|^)(обл|кр|ст|пос|с|д|ул|пер|пр|пр-т|просп|пл|бул|б-р|наб|ш|туп|оф|комн?|уч|вл|влад|стр|кор)\. *([а-яёa-z\d]+)/gi, "$1$2. $3").replace(/(\D[ \u00A0]|^)г\. ?([А-ЯЁ])/gm, "$1г. $2");
    }
  };
  var afterNumberSignRule = {
    name: "ru/nbsp/afterNumberSign",
    handler: function(text) {
      return text.replace(/№[ \u00A0\u2009]?(\d|п\/п)/g, "№ $1");
    }
  };
  var beforeParticleRule = {
    name: "ru/nbsp/beforeParticle",
    index: "+5",
    handler: function(text) {
      var particles = "(ли|ль|же|ж|бы|б)";
      var re12 = new RegExp("([А-ЯЁа-яё]) " + particles + '(?=[,;:?!"‘“»])', "g");
      var re22 = new RegExp("([А-ЯЁа-яё])[  ]" + particles + "[  ]", "g");
      return text.replace(re12, "$1 $2").replace(re22, "$1 $2 ");
    }
  };
  var centuriesRule = {
    name: "ru/nbsp/centuries",
    handler: function(text) {
      var dashes = getData("common/dash");
      var before = "(^|\\s)([VIX]+)";
      var after = '(?=[,;:?!"‘“»]|$)';
      var re12 = new RegExp(before + "[  ]?в\\.?" + after, "gm");
      var re22 = new RegExp(before + "(" + dashes + ")([VIX]+)[  ]?в\\.?([  ]?в\\.?)?" + after, "gm");
      return text.replace(re12, "$1$2 в.").replace(re22, "$1$2$3$4 вв.");
    }
  };
  var dayMonthRule = {
    name: "ru/nbsp/dayMonth",
    handler: function(text) {
      var re = new RegExp("(\\d{1,2}) (" + getData("ru/shortMonth") + ")", "gi");
      return text.replace(re, "$1 $2");
    }
  };
  var initialsRule = {
    name: "ru/nbsp/initials",
    handler: function(text) {
      var spaces = "   ";
      var quote2 = getData("ru/quote");
      var re = new RegExp("(^|[(" + spaces + quote2.left + privateLabel + '"])([А-ЯЁ])\\.[' + spaces + "]?([А-ЯЁ])\\.[" + spaces + "]?([А-ЯЁ][а-яё]+)", "gm");
      return text.replace(re, "$1$2. $3. $4");
    }
  };
  var pow = {
    "2": "²",
    "²": "²",
    "3": "³",
    "³": "³",
    "": ""
  };
  var mRule = {
    name: "ru/nbsp/m",
    index: "+5",
    handler: function(text) {
      var re = new RegExp("(^|[\\s,.\\(" + privateLabel + "])(\\d+)[  ]?(мм?|см|км|дм|гм|mm?|km|cm|dm)([23²³])?([\\s\\).!?,;" + privateLabel + "]|$)", "gm");
      return text.replace(re, function(_$0, $1, $2, $3, $4, $5) {
        return $1 + $2 + " " + $3 + pow[$4 || ""] + ($5 === " " ? " " : $5);
      });
    }
  };
  var mlnRule = {
    name: "ru/nbsp/mln",
    handler: function(text) {
      return text.replace(/(\d) ?(тыс|млн|млрд|трлн)(\.|\s|$)/gi, "$1 $2$3");
    }
  };
  var oooRule = {
    name: "ru/nbsp/ooo",
    handler: function(text) {
      return text.replace(/(^|[^a-яёA-ЯЁ])(ООО|ОАО|ЗАО|НИИ|ПБОЮЛ) /g, "$1$2 ");
    }
  };
  var pageRule = {
    name: "ru/nbsp/page",
    handler: function(text) {
      var re = new RegExp("(^|[)\\s" + privateLabel + "])(стр|гл|рис|илл?|ст|п|c)\\. *(\\d+)([\\s.,?!;:]|$)", "gim");
      return text.replace(re, "$1$2. $3$4");
    }
  };
  var psRule = {
    name: "ru/nbsp/ps",
    handler: function(text) {
      var re = new RegExp("(^|\\s|".concat(privateLabel, ")[pз]\\.[  ]?([pз]\\.[  ]?)?[sы]\\.:? "), "gim");
      return text.replace(re, function($0, $1, $2) {
        return $1 + ($2 ? "P. P. S. " : "P. S. ");
      });
    }
  };
  var rubleKopekRule = {
    name: "ru/nbsp/rubleKopek",
    handler: function(text) {
      return text.replace(/(\d) ?(?=(руб|коп)\.)/g, "$1 ");
    }
  };
  var seeRule = {
    name: "ru/nbsp/see",
    handler: function(text) {
      var re = new RegExp("(^|\\s|".concat(privateLabel, "|\\()(см|им)\\.[  ]?([а-яё0-9a-z]+)([\\s.,?!]|$)"), "gi");
      return text.replace(re, function($0, $1, $2, $3, $4) {
        return ($1 === " " ? " " : $1) + $2 + ". " + $3 + $4;
      });
    }
  };
  var yearRule$1 = {
    name: "ru/nbsp/year",
    handler: function(text) {
      return text.replace(/(^|\D)(\d{4}) ?г([ ,;.\n]|$)/g, "$1$2 г$3");
    }
  };
  var yearsRule = {
    name: "ru/nbsp/years",
    index: "+5",
    handler: function(text) {
      var dashes = getData("common/dash");
      var re = new RegExp("(^|\\D)(\\d{4})(" + dashes + ')(\\d{4})[  ]?г\\.?([  ]?г\\.)?(?=[,;:?!"‘“»\\s]|$)', "gm");
      return text.replace(re, "$1$2$3$4 гг.");
    }
  };
  Typograf.addRules([
    abbrRule,
    addrRule,
    afterNumberSignRule,
    beforeParticleRule,
    centuriesRule,
    dayMonthRule,
    initialsRule,
    mRule,
    mlnRule,
    oooRule,
    pageRule,
    psRule,
    rubleKopekRule,
    seeRule,
    yearRule$1,
    yearsRule
  ]);
  var commaRule$1 = {
    name: "ru/number/comma",
    handler: function(text) {
      return text.replace(/(^|\s)(\d+)\.(\d+[\u00A0\u2009\u202F ]*?[%‰°×x])/gim, "$1$2,$3");
    }
  };
  var ordinalsRule = {
    name: "ru/number/ordinals",
    handler: function(text, _settings, context) {
      var char = context.getData("char");
      var re = new RegExp("(\\d[%‰]?)-(ый|ой|ая|ое|ые|ым|ом|ых|ого|ому|ыми)(?![" + char + "])", "g");
      return text.replace(re, function($0, $1, $2) {
        var parts = {
          "ой": "й",
          "ый": "й",
          "ая": "я",
          "ое": "е",
          "ые": "е",
          "ым": "м",
          "ом": "м",
          "ых": "х",
          "ого": "го",
          "ому": "му",
          "ыми": "ми"
        };
        return $1 + "-" + parts[$2];
      });
    }
  };
  Typograf.addRules([
    commaRule$1,
    ordinalsRule
  ]);
  function removeOptAlignTags(text, classNames2) {
    var re = new RegExp('<span class="(' + classNames2.join("|") + ')">([^]*?)</span>', "g");
    return text.replace(re, "$2");
  }
  function removeOptAlignTagsFromTitle(text, classNames2) {
    return text.replace(/<title>[^]*?<\/title>/i, function(text2) {
      return removeOptAlignTags(text2, classNames2);
    });
  }
  var classNames$2 = [
    "typograf-oa-lbracket",
    "typograf-oa-n-lbracket",
    "typograf-oa-sp-lbracket"
  ];
  var name$2 = "ru/optalign/bracket";
  var bracketRule = {
    name: name$2,
    handler: function(text) {
      return text.replace(/( |\u00A0)\(/g, '<span class="typograf-oa-sp-lbracket">$1</span><span class="typograf-oa-lbracket">(</span>').replace(/^\(/gm, '<span class="typograf-oa-n-lbracket">(</span>');
    },
    disabled: true,
    htmlAttrs: false
  };
  var innerStartBracketRule = {
    name: name$2,
    queue: "start",
    handler: function(text) {
      return removeOptAlignTags(text, classNames$2);
    },
    htmlAttrs: false
  };
  var innerEndBracketRule = {
    name: name$2,
    queue: "end",
    handler: function(text) {
      return removeOptAlignTagsFromTitle(text, classNames$2);
    },
    htmlAttrs: false
  };
  var classNames$1 = [
    "typograf-oa-comma",
    "typograf-oa-comma-sp"
  ];
  var name$1 = "ru/optalign/comma";
  var commaRule = {
    name: name$1,
    handler: function(text, _settings, context) {
      var char = context.getData("char");
      var re = new RegExp("([" + char + "\\d́]+), ", "gi");
      return text.replace(re, '$1<span class="typograf-oa-comma">,</span><span class="typograf-oa-comma-sp"> </span>');
    },
    disabled: true,
    htmlAttrs: false
  };
  var innerStartCommaRule = {
    name: name$1,
    queue: "start",
    handler: function(text) {
      return removeOptAlignTags(text, classNames$1);
    },
    htmlAttrs: false
  };
  var innerEndCommaRule = {
    name: name$1,
    queue: "end",
    handler: function(text) {
      return removeOptAlignTagsFromTitle(text, classNames$1);
    },
    htmlAttrs: false
  };
  var classNames = [
    "typograf-oa-lquote",
    "typograf-oa-n-lquote",
    "typograf-oa-sp-lquote"
  ];
  var name = "ru/optalign/quote";
  var quoteRule = {
    name,
    handler: function(text) {
      var quote2 = this.getSetting("common/punctuation/quote", "ru");
      var lquotes = "([" + quote2.left[0] + (quote2.left[1] || "") + "])";
      var reNewLine = new RegExp("(^|\n\n|" + privateLabel + ")(" + lquotes + ")", "g");
      var reInside = new RegExp("([^\n" + privateLabel + "])([  \n])(" + lquotes + ")", "gi");
      return text.replace(reNewLine, '$1<span class="typograf-oa-n-lquote">$2</span>').replace(reInside, '$1<span class="typograf-oa-sp-lquote">$2</span><span class="typograf-oa-lquote">$3</span>');
    },
    disabled: true,
    htmlAttrs: false
  };
  var innerStartQuoteRule = {
    name,
    queue: "start",
    handler: function(text) {
      return removeOptAlignTags(text, classNames);
    },
    htmlAttrs: false
  };
  var innerEndQuoteRule = {
    name,
    queue: "end",
    handler: function(text) {
      return removeOptAlignTagsFromTitle(text, classNames);
    },
    htmlAttrs: false
  };
  Typograf.addRules([
    bracketRule,
    commaRule,
    quoteRule
  ]);
  Typograf.addInnerRules([
    innerStartBracketRule,
    innerEndBracketRule,
    innerStartCommaRule,
    innerEndCommaRule,
    innerStartQuoteRule,
    innerEndQuoteRule
  ]);
  var accentRule = {
    name: "ru/other/accent",
    handler: function(text) {
      return text.replace(/([а-яё])([АЕЁИОУЫЭЮЯ])([^А-ЯЁ\w]|$)/g, function($0, $1, $2, $3) {
        return $1 + $2.toLowerCase() + "́" + $3;
      });
    },
    disabled: true
  };
  var defaultCityCodeLength = 5;
  var countryCode = "7";
  var exceptions = [];
  var exceptionsMax = 8;
  var exceptionsMin = 2;
  [
    4162,
    416332,
    8512,
    851111,
    4722,
    4725,
    391379,
    8442,
    4732,
    4152,
    4154451,
    4154459,
    4154455,
    41544513,
    8142,
    8332,
    8612,
    8622,
    3525,
    812,
    8342,
    8152,
    3812,
    4862,
    3422,
    342633,
    8112,
    9142,
    8452,
    3432,
    3434,
    3435,
    4812,
    8432,
    8439,
    3822,
    4872,
    3412,
    3511,
    3512,
    3022,
    4112,
    4852,
    4855,
    3852,
    3854,
    8182,
    818,
    90,
    3472,
    4741,
    4764,
    4832,
    4922,
    8172,
    8202,
    8722,
    4932,
    493,
    3952,
    3951,
    3953,
    411533,
    4842,
    3842,
    3843,
    8212,
    4942,
    "39131-39179",
    "39190-39199",
    391,
    4712,
    4742,
    8362,
    495,
    499,
    4966,
    4964,
    4967,
    498,
    8312,
    8313,
    3832,
    383612,
    3532,
    8412,
    4232,
    423370,
    423630,
    8632,
    8642,
    8482,
    4242,
    8672,
    8652,
    4752,
    4822,
    482502,
    4826300,
    3452,
    8422,
    4212,
    3466,
    3462,
    8712,
    8352,
    "901-934",
    "936-939",
    "950-953",
    958,
    "960-969",
    "977-989",
    "991-997",
    999
  ].forEach(function(num) {
    if (typeof num === "string") {
      var buf = num.split("-");
      for (var i = +buf[0]; i <= +buf[1]; i++) {
        exceptions.push(i);
      }
    } else {
      exceptions.push(num);
    }
  });
  function phone(num) {
    var firstSym = num[0];
    var cityCode = "";
    var hasPlusWithCode;
    var hasEight;
    if (num.length < 8) {
      return phoneBlocks(num);
    }
    if (num.length > 10) {
      if (firstSym === "+") {
        if (num[1] === countryCode) {
          hasPlusWithCode = true;
          num = num.substr(2);
        } else {
          return num;
        }
      } else if (firstSym === "8") {
        hasEight = true;
        num = num.substr(1);
      }
    }
    for (var cityCodeLen = exceptionsMax; cityCodeLen >= exceptionsMin; cityCodeLen--) {
      var code = +num.substr(0, cityCodeLen);
      if (exceptions.indexOf(code) > -1) {
        cityCode = num.substr(0, cityCodeLen);
        num = num.substr(cityCodeLen);
        break;
      }
    }
    if (!cityCode) {
      cityCode = num.substr(0, defaultCityCodeLength);
      num = num.substr(defaultCityCodeLength);
    }
    return (hasPlusWithCode ? "+" + countryCode + " " : "") + (hasEight ? "8 " : "") + prepareCode(cityCode) + " " + phoneBlocks(num);
  }
  function prepareCode(code) {
    var numCode = +code;
    var len = code.length;
    var result = [code];
    var withoutBrackets = false;
    if (len > 3) {
      switch (len) {
        case 4:
          result = [code.substr(0, 2), code.substr(2, 2)];
          break;
        case 5:
          result = [code.substr(0, 3), code.substr(3, 3)];
          break;
        case 6:
          result = [code.substr(0, 2), code.substr(2, 2), code.substr(4, 2)];
          break;
      }
    } else {
      withoutBrackets = numCode > 900 && numCode <= 999 || numCode === 495 || numCode === 499;
    }
    var str = result.join("-");
    return withoutBrackets ? str : "(" + str + ")";
  }
  function phoneBlocks(num) {
    var add = "";
    if (num.length % 2) {
      add = num[0];
      add += num.length <= 5 ? "-" : "";
      num = num.substr(1, num.length - 1);
    }
    return add + num.split(/(?=(?:\d\d)+$)/).join("-");
  }
  function clearPhone(text) {
    return text.replace(/[^\d+]/g, "");
  }
  var phoneNumberRule = {
    name: "ru/other/phone-number",
    live: false,
    handler: function(text) {
      var re = new RegExp("(^|,| |" + privateLabel + ")(\\+7[\\d\\(\\)  -]{10,18})(?=,|;|" + privateLabel + "|$)", "gm");
      return text.replace(re, function($0, $1, $2) {
        var buf = clearPhone($2);
        return buf.length === 12 ? $1 + phone(buf) : $0;
      }).replace(
        // eslint-disable-next-line no-misleading-character-class
        /(^|[^а-яё])([☎☏✆📠📞📱]|т\.|тел\.|ф\.|моб\.|факс|сотовый|мобильный|телефон)(:?\s*?)([+\d(][\d \u00A0\-()]{3,}\d)/gi,
        function($0, $1, $2, $3, $4) {
          var buf = clearPhone($4);
          if (buf.length >= 5) {
            return $1 + $2 + $3 + phone(buf);
          }
          return $0;
        }
      );
    }
  };
  Typograf.addRules([
    accentRule,
    phoneNumberRule
  ]);
  var anoRule = {
    name: "ru/punctuation/ano",
    handler: function(text) {
      var re = new RegExp("([^«„[(!?,:;\\-‒–—\\s" + privateLabel + "])(\\s+)(а|но)(?= | |\\n)", "g");
      return text.replace(re, "$1,$2$3");
    }
  };
  var exclamationRule = {
    name: "ru/punctuation/exclamation",
    handler: function(text) {
      return text.replace(/(^|[^!])!{2}($|[^!])/gm, "$1!$2").replace(/(^|[^!])!{4}($|[^!])/gm, "$1!!!$2");
    },
    live: false
  };
  var exclamationQuestionRule = {
    name: "ru/punctuation/exclamationQuestion",
    index: "+5",
    handler: function(text) {
      var re = new RegExp("(^|[^!])!\\?([^?]|$)", "g");
      return text.replace(re, "$1?!$2");
    }
  };
  var hellipQuestionRule = {
    name: "ru/punctuation/hellipQuestion",
    handler: function(text) {
      return text.replace(/(^|[^.])(\.\.\.|…),/g, "$1…").replace(/(!|\?)(\.\.\.|…)(?=[^.]|$)/g, "$1..");
    }
  };
  Typograf.addRules([
    anoRule,
    exclamationRule,
    exclamationQuestionRule,
    hellipQuestionRule
  ]);
  var afterHellipRule = {
    name: "ru/space/afterHellip",
    handler: function(text) {
      return text.replace(/([а-яё])(\.\.\.|…)([А-ЯЁ])/g, "$1$2 $3").replace(/([?!]\.\.)([а-яёa-z])/gi, "$1 $2");
    }
  };
  var yearRule = {
    name: "ru/space/year",
    handler: function(text, _settings, context) {
      var char = context.getData("char");
      var re = new RegExp("(^| | )(\\d{3,4})(год([ауе]|ом)?)([^" + char + "]|$)", "g");
      return text.replace(re, "$1$2 $3$5");
    }
  };
  Typograf.addRules([
    afterHellipRule,
    yearRule
  ]);
  var nnRule = {
    name: "ru/symbols/NN",
    handler: function(text) {
      return text.replace(/№№/g, "№");
    }
  };
  Typograf.addRules([
    nnRule
  ]);
  var replacements = {
    A: "А",
    // Latin: Russian
    a: "а",
    B: "В",
    E: "Е",
    e: "е",
    K: "К",
    M: "М",
    H: "Н",
    O: "О",
    o: "о",
    P: "Р",
    p: "р",
    C: "С",
    c: "с",
    T: "Т",
    y: "у",
    X: "Х",
    x: "х"
  };
  var keys = Object.keys(replacements).join("");
  var switchingKeyboardLayoutRule = {
    name: "ru/typo/switchingKeyboardLayout",
    handler: function(text) {
      var re = new RegExp("([" + keys + "]{1,3})(?=[А-ЯЁа-яё]+?)", "g");
      return text.replace(re, function(str, $1) {
        var result = "";
        for (var i = 0; i < $1.length; i++) {
          result += replacements[$1[i]];
        }
        return result;
      });
    }
  };
  Typograf.addRules([
    switchingKeyboardLayoutRule
  ]);
  var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
  function getDefaultExportFromCjs(x) {
    return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, "default") ? x["default"] : x;
  }
  var clipboard = { exports: {} };
  /*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT © Zeno Rocha
   */
  (function(module, exports) {
    (function webpackUniversalModuleDefinition(root, factory) {
      module.exports = factory();
    })(commonjsGlobal, function() {
      return (
        /******/
        function() {
          var __webpack_modules__ = {
            /***/
            686: (
              /***/
              function(__unused_webpack_module, __webpack_exports__, __webpack_require__2) {
                __webpack_require__2.d(__webpack_exports__, {
                  "default": function() {
                    return (
                      /* binding */
                      clipboard2
                    );
                  }
                });
                var tiny_emitter = __webpack_require__2(279);
                var tiny_emitter_default = /* @__PURE__ */ __webpack_require__2.n(tiny_emitter);
                var listen = __webpack_require__2(370);
                var listen_default = /* @__PURE__ */ __webpack_require__2.n(listen);
                var src_select = __webpack_require__2(817);
                var select_default = /* @__PURE__ */ __webpack_require__2.n(src_select);
                function command(type) {
                  try {
                    return document.execCommand(type);
                  } catch (err) {
                    return false;
                  }
                }
                var ClipboardActionCut = function ClipboardActionCut2(target) {
                  var selectedText = select_default()(target);
                  command("cut");
                  return selectedText;
                };
                var actions_cut = ClipboardActionCut;
                function createFakeElement(value) {
                  var isRTL = document.documentElement.getAttribute("dir") === "rtl";
                  var fakeElement = document.createElement("textarea");
                  fakeElement.style.fontSize = "12pt";
                  fakeElement.style.border = "0";
                  fakeElement.style.padding = "0";
                  fakeElement.style.margin = "0";
                  fakeElement.style.position = "absolute";
                  fakeElement.style[isRTL ? "right" : "left"] = "-9999px";
                  var yPosition = window.pageYOffset || document.documentElement.scrollTop;
                  fakeElement.style.top = "".concat(yPosition, "px");
                  fakeElement.setAttribute("readonly", "");
                  fakeElement.value = value;
                  return fakeElement;
                }
                var fakeCopyAction = function fakeCopyAction2(value, options) {
                  var fakeElement = createFakeElement(value);
                  options.container.appendChild(fakeElement);
                  var selectedText = select_default()(fakeElement);
                  command("copy");
                  fakeElement.remove();
                  return selectedText;
                };
                var ClipboardActionCopy = function ClipboardActionCopy2(target) {
                  var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
                    container: document.body
                  };
                  var selectedText = "";
                  if (typeof target === "string") {
                    selectedText = fakeCopyAction(target, options);
                  } else if (target instanceof HTMLInputElement && !["text", "search", "url", "tel", "password"].includes(target === null || target === void 0 ? void 0 : target.type)) {
                    selectedText = fakeCopyAction(target.value, options);
                  } else {
                    selectedText = select_default()(target);
                    command("copy");
                  }
                  return selectedText;
                };
                var actions_copy = ClipboardActionCopy;
                function _typeof(obj) {
                  "@babel/helpers - typeof";
                  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
                    _typeof = function _typeof2(obj2) {
                      return typeof obj2;
                    };
                  } else {
                    _typeof = function _typeof2(obj2) {
                      return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
                    };
                  }
                  return _typeof(obj);
                }
                var ClipboardActionDefault = function ClipboardActionDefault2() {
                  var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
                  var _options$action = options.action, action = _options$action === void 0 ? "copy" : _options$action, container = options.container, target = options.target, text = options.text;
                  if (action !== "copy" && action !== "cut") {
                    throw new Error('Invalid "action" value, use either "copy" or "cut"');
                  }
                  if (target !== void 0) {
                    if (target && _typeof(target) === "object" && target.nodeType === 1) {
                      if (action === "copy" && target.hasAttribute("disabled")) {
                        throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
                      }
                      if (action === "cut" && (target.hasAttribute("readonly") || target.hasAttribute("disabled"))) {
                        throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);
                      }
                    } else {
                      throw new Error('Invalid "target" value, use a valid Element');
                    }
                  }
                  if (text) {
                    return actions_copy(text, {
                      container
                    });
                  }
                  if (target) {
                    return action === "cut" ? actions_cut(target) : actions_copy(target, {
                      container
                    });
                  }
                };
                var actions_default = ClipboardActionDefault;
                function clipboard_typeof(obj) {
                  "@babel/helpers - typeof";
                  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
                    clipboard_typeof = function _typeof2(obj2) {
                      return typeof obj2;
                    };
                  } else {
                    clipboard_typeof = function _typeof2(obj2) {
                      return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
                    };
                  }
                  return clipboard_typeof(obj);
                }
                function _classCallCheck(instance, Constructor) {
                  if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function");
                  }
                }
                function _defineProperties(target, props) {
                  for (var i = 0; i < props.length; i++) {
                    var descriptor = props[i];
                    descriptor.enumerable = descriptor.enumerable || false;
                    descriptor.configurable = true;
                    if ("value" in descriptor) descriptor.writable = true;
                    Object.defineProperty(target, descriptor.key, descriptor);
                  }
                }
                function _createClass(Constructor, protoProps, staticProps) {
                  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
                  if (staticProps) _defineProperties(Constructor, staticProps);
                  return Constructor;
                }
                function _inherits(subClass, superClass) {
                  if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function");
                  }
                  subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
                  if (superClass) _setPrototypeOf(subClass, superClass);
                }
                function _setPrototypeOf(o, p) {
                  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p2) {
                    o2.__proto__ = p2;
                    return o2;
                  };
                  return _setPrototypeOf(o, p);
                }
                function _createSuper(Derived) {
                  var hasNativeReflectConstruct = _isNativeReflectConstruct();
                  return function _createSuperInternal() {
                    var Super = _getPrototypeOf(Derived), result;
                    if (hasNativeReflectConstruct) {
                      var NewTarget = _getPrototypeOf(this).constructor;
                      result = Reflect.construct(Super, arguments, NewTarget);
                    } else {
                      result = Super.apply(this, arguments);
                    }
                    return _possibleConstructorReturn(this, result);
                  };
                }
                function _possibleConstructorReturn(self2, call) {
                  if (call && (clipboard_typeof(call) === "object" || typeof call === "function")) {
                    return call;
                  }
                  return _assertThisInitialized(self2);
                }
                function _assertThisInitialized(self2) {
                  if (self2 === void 0) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  }
                  return self2;
                }
                function _isNativeReflectConstruct() {
                  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
                  if (Reflect.construct.sham) return false;
                  if (typeof Proxy === "function") return true;
                  try {
                    Date.prototype.toString.call(Reflect.construct(Date, [], function() {
                    }));
                    return true;
                  } catch (e) {
                    return false;
                  }
                }
                function _getPrototypeOf(o) {
                  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
                    return o2.__proto__ || Object.getPrototypeOf(o2);
                  };
                  return _getPrototypeOf(o);
                }
                function getAttributeValue(suffix, element) {
                  var attribute = "data-clipboard-".concat(suffix);
                  if (!element.hasAttribute(attribute)) {
                    return;
                  }
                  return element.getAttribute(attribute);
                }
                var Clipboard = /* @__PURE__ */ function(_Emitter) {
                  _inherits(Clipboard2, _Emitter);
                  var _super = _createSuper(Clipboard2);
                  function Clipboard2(trigger, options) {
                    var _this;
                    _classCallCheck(this, Clipboard2);
                    _this = _super.call(this);
                    _this.resolveOptions(options);
                    _this.listenClick(trigger);
                    return _this;
                  }
                  _createClass(Clipboard2, [{
                    key: "resolveOptions",
                    value: function resolveOptions() {
                      var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
                      this.action = typeof options.action === "function" ? options.action : this.defaultAction;
                      this.target = typeof options.target === "function" ? options.target : this.defaultTarget;
                      this.text = typeof options.text === "function" ? options.text : this.defaultText;
                      this.container = clipboard_typeof(options.container) === "object" ? options.container : document.body;
                    }
                    /**
                     * Adds a click event listener to the passed trigger.
                     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger
                     */
                  }, {
                    key: "listenClick",
                    value: function listenClick(trigger) {
                      var _this2 = this;
                      this.listener = listen_default()(trigger, "click", function(e) {
                        return _this2.onClick(e);
                      });
                    }
                    /**
                     * Defines a new `ClipboardAction` on each click event.
                     * @param {Event} e
                     */
                  }, {
                    key: "onClick",
                    value: function onClick(e) {
                      var trigger = e.delegateTarget || e.currentTarget;
                      var action = this.action(trigger) || "copy";
                      var text = actions_default({
                        action,
                        container: this.container,
                        target: this.target(trigger),
                        text: this.text(trigger)
                      });
                      this.emit(text ? "success" : "error", {
                        action,
                        text,
                        trigger,
                        clearSelection: function clearSelection() {
                          if (trigger) {
                            trigger.focus();
                          }
                          window.getSelection().removeAllRanges();
                        }
                      });
                    }
                    /**
                     * Default `action` lookup function.
                     * @param {Element} trigger
                     */
                  }, {
                    key: "defaultAction",
                    value: function defaultAction(trigger) {
                      return getAttributeValue("action", trigger);
                    }
                    /**
                     * Default `target` lookup function.
                     * @param {Element} trigger
                     */
                  }, {
                    key: "defaultTarget",
                    value: function defaultTarget(trigger) {
                      var selector = getAttributeValue("target", trigger);
                      if (selector) {
                        return document.querySelector(selector);
                      }
                    }
                    /**
                     * Allow fire programmatically a copy action
                     * @param {String|HTMLElement} target
                     * @param {Object} options
                     * @returns Text copied.
                     */
                  }, {
                    key: "defaultText",
                    /**
                     * Default `text` lookup function.
                     * @param {Element} trigger
                     */
                    value: function defaultText(trigger) {
                      return getAttributeValue("text", trigger);
                    }
                    /**
                     * Destroy lifecycle.
                     */
                  }, {
                    key: "destroy",
                    value: function destroy() {
                      this.listener.destroy();
                    }
                  }], [{
                    key: "copy",
                    value: function copy(target) {
                      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
                        container: document.body
                      };
                      return actions_copy(target, options);
                    }
                    /**
                     * Allow fire programmatically a cut action
                     * @param {String|HTMLElement} target
                     * @returns Text cutted.
                     */
                  }, {
                    key: "cut",
                    value: function cut(target) {
                      return actions_cut(target);
                    }
                    /**
                     * Returns the support of the given action, or all actions if no action is
                     * given.
                     * @param {String} [action]
                     */
                  }, {
                    key: "isSupported",
                    value: function isSupported() {
                      var action = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : ["copy", "cut"];
                      var actions = typeof action === "string" ? [action] : action;
                      var support = !!document.queryCommandSupported;
                      actions.forEach(function(action2) {
                        support = support && !!document.queryCommandSupported(action2);
                      });
                      return support;
                    }
                  }]);
                  return Clipboard2;
                }(tiny_emitter_default());
                var clipboard2 = Clipboard;
              }
            ),
            /***/
            828: (
              /***/
              function(module2) {
                var DOCUMENT_NODE_TYPE = 9;
                if (typeof Element !== "undefined" && !Element.prototype.matches) {
                  var proto = Element.prototype;
                  proto.matches = proto.matchesSelector || proto.mozMatchesSelector || proto.msMatchesSelector || proto.oMatchesSelector || proto.webkitMatchesSelector;
                }
                function closest2(element, selector) {
                  while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {
                    if (typeof element.matches === "function" && element.matches(selector)) {
                      return element;
                    }
                    element = element.parentNode;
                  }
                }
                module2.exports = closest2;
              }
            ),
            /***/
            438: (
              /***/
              function(module2, __unused_webpack_exports, __webpack_require__2) {
                var closest2 = __webpack_require__2(828);
                function _delegate(element, selector, type, callback, useCapture) {
                  var listenerFn = listener.apply(this, arguments);
                  element.addEventListener(type, listenerFn, useCapture);
                  return {
                    destroy: function() {
                      element.removeEventListener(type, listenerFn, useCapture);
                    }
                  };
                }
                function delegate(elements, selector, type, callback, useCapture) {
                  if (typeof elements.addEventListener === "function") {
                    return _delegate.apply(null, arguments);
                  }
                  if (typeof type === "function") {
                    return _delegate.bind(null, document).apply(null, arguments);
                  }
                  if (typeof elements === "string") {
                    elements = document.querySelectorAll(elements);
                  }
                  return Array.prototype.map.call(elements, function(element) {
                    return _delegate(element, selector, type, callback, useCapture);
                  });
                }
                function listener(element, selector, type, callback) {
                  return function(e) {
                    e.delegateTarget = closest2(e.target, selector);
                    if (e.delegateTarget) {
                      callback.call(element, e);
                    }
                  };
                }
                module2.exports = delegate;
              }
            ),
            /***/
            879: (
              /***/
              function(__unused_webpack_module, exports2) {
                exports2.node = function(value) {
                  return value !== void 0 && value instanceof HTMLElement && value.nodeType === 1;
                };
                exports2.nodeList = function(value) {
                  var type = Object.prototype.toString.call(value);
                  return value !== void 0 && (type === "[object NodeList]" || type === "[object HTMLCollection]") && "length" in value && (value.length === 0 || exports2.node(value[0]));
                };
                exports2.string = function(value) {
                  return typeof value === "string" || value instanceof String;
                };
                exports2.fn = function(value) {
                  var type = Object.prototype.toString.call(value);
                  return type === "[object Function]";
                };
              }
            ),
            /***/
            370: (
              /***/
              function(module2, __unused_webpack_exports, __webpack_require__2) {
                var is = __webpack_require__2(879);
                var delegate = __webpack_require__2(438);
                function listen(target, type, callback) {
                  if (!target && !type && !callback) {
                    throw new Error("Missing required arguments");
                  }
                  if (!is.string(type)) {
                    throw new TypeError("Second argument must be a String");
                  }
                  if (!is.fn(callback)) {
                    throw new TypeError("Third argument must be a Function");
                  }
                  if (is.node(target)) {
                    return listenNode(target, type, callback);
                  } else if (is.nodeList(target)) {
                    return listenNodeList(target, type, callback);
                  } else if (is.string(target)) {
                    return listenSelector(target, type, callback);
                  } else {
                    throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");
                  }
                }
                function listenNode(node, type, callback) {
                  node.addEventListener(type, callback);
                  return {
                    destroy: function() {
                      node.removeEventListener(type, callback);
                    }
                  };
                }
                function listenNodeList(nodeList, type, callback) {
                  Array.prototype.forEach.call(nodeList, function(node) {
                    node.addEventListener(type, callback);
                  });
                  return {
                    destroy: function() {
                      Array.prototype.forEach.call(nodeList, function(node) {
                        node.removeEventListener(type, callback);
                      });
                    }
                  };
                }
                function listenSelector(selector, type, callback) {
                  return delegate(document.body, selector, type, callback);
                }
                module2.exports = listen;
              }
            ),
            /***/
            817: (
              /***/
              function(module2) {
                function select(element) {
                  var selectedText;
                  if (element.nodeName === "SELECT") {
                    element.focus();
                    selectedText = element.value;
                  } else if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA") {
                    var isReadOnly = element.hasAttribute("readonly");
                    if (!isReadOnly) {
                      element.setAttribute("readonly", "");
                    }
                    element.select();
                    element.setSelectionRange(0, element.value.length);
                    if (!isReadOnly) {
                      element.removeAttribute("readonly");
                    }
                    selectedText = element.value;
                  } else {
                    if (element.hasAttribute("contenteditable")) {
                      element.focus();
                    }
                    var selection = window.getSelection();
                    var range = document.createRange();
                    range.selectNodeContents(element);
                    selection.removeAllRanges();
                    selection.addRange(range);
                    selectedText = selection.toString();
                  }
                  return selectedText;
                }
                module2.exports = select;
              }
            ),
            /***/
            279: (
              /***/
              function(module2) {
                function E() {
                }
                E.prototype = {
                  on: function(name2, callback, ctx) {
                    var e = this.e || (this.e = {});
                    (e[name2] || (e[name2] = [])).push({
                      fn: callback,
                      ctx
                    });
                    return this;
                  },
                  once: function(name2, callback, ctx) {
                    var self2 = this;
                    function listener() {
                      self2.off(name2, listener);
                      callback.apply(ctx, arguments);
                    }
                    listener._ = callback;
                    return this.on(name2, listener, ctx);
                  },
                  emit: function(name2) {
                    var data2 = [].slice.call(arguments, 1);
                    var evtArr = ((this.e || (this.e = {}))[name2] || []).slice();
                    var i = 0;
                    var len = evtArr.length;
                    for (i; i < len; i++) {
                      evtArr[i].fn.apply(evtArr[i].ctx, data2);
                    }
                    return this;
                  },
                  off: function(name2, callback) {
                    var e = this.e || (this.e = {});
                    var evts = e[name2];
                    var liveEvents = [];
                    if (evts && callback) {
                      for (var i = 0, len = evts.length; i < len; i++) {
                        if (evts[i].fn !== callback && evts[i].fn._ !== callback)
                          liveEvents.push(evts[i]);
                      }
                    }
                    liveEvents.length ? e[name2] = liveEvents : delete e[name2];
                    return this;
                  }
                };
                module2.exports = E;
                module2.exports.TinyEmitter = E;
              }
            )
            /******/
          };
          var __webpack_module_cache__ = {};
          function __webpack_require__(moduleId) {
            if (__webpack_module_cache__[moduleId]) {
              return __webpack_module_cache__[moduleId].exports;
            }
            var module2 = __webpack_module_cache__[moduleId] = {
              /******/
              // no module.id needed
              /******/
              // no module.loaded needed
              /******/
              exports: {}
              /******/
            };
            __webpack_modules__[moduleId](module2, module2.exports, __webpack_require__);
            return module2.exports;
          }
          !function() {
            __webpack_require__.n = function(module2) {
              var getter = module2 && module2.__esModule ? (
                /******/
                function() {
                  return module2["default"];
                }
              ) : (
                /******/
                function() {
                  return module2;
                }
              );
              __webpack_require__.d(getter, { a: getter });
              return getter;
            };
          }();
          !function() {
            __webpack_require__.d = function(exports2, definition) {
              for (var key in definition) {
                if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports2, key)) {
                  Object.defineProperty(exports2, key, { enumerable: true, get: definition[key] });
                }
              }
            };
          }();
          !function() {
            __webpack_require__.o = function(obj, prop) {
              return Object.prototype.hasOwnProperty.call(obj, prop);
            };
          }();
          return __webpack_require__(686);
        }().default
      );
    });
  })(clipboard);
  var clipboardExports = clipboard.exports;
  const ClipboardJS = /* @__PURE__ */ getDefaultExportFromCjs(clipboardExports);
  var platform$1 = { exports: {} };
  /*!
   * Platform.js v1.3.6
   * Copyright 2014-2020 Benjamin Tan
   * Copyright 2011-2013 John-David Dalton
   * Available under MIT license
   */
  platform$1.exports;
  (function(module, exports) {
    (function() {
      var objectTypes = {
        "function": true,
        "object": true
      };
      var root = objectTypes[typeof window] && window || this;
      var freeExports = exports;
      var freeModule = module && !module.nodeType && module;
      var freeGlobal = freeExports && freeModule && typeof commonjsGlobal == "object" && commonjsGlobal;
      if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {
        root = freeGlobal;
      }
      var maxSafeInteger = Math.pow(2, 53) - 1;
      var reOpera = /\bOpera/;
      var objectProto = Object.prototype;
      var hasOwnProperty = objectProto.hasOwnProperty;
      var toString = objectProto.toString;
      function capitalize(string) {
        string = String(string);
        return string.charAt(0).toUpperCase() + string.slice(1);
      }
      function cleanupOS(os2, pattern, label) {
        var data2 = {
          "10.0": "10",
          "6.4": "10 Technical Preview",
          "6.3": "8.1",
          "6.2": "8",
          "6.1": "Server 2008 R2 / 7",
          "6.0": "Server 2008 / Vista",
          "5.2": "Server 2003 / XP 64-bit",
          "5.1": "XP",
          "5.01": "2000 SP1",
          "5.0": "2000",
          "4.0": "NT",
          "4.90": "ME"
        };
        if (pattern && label && /^Win/i.test(os2) && !/^Windows Phone /i.test(os2) && (data2 = data2[/[\d.]+$/.exec(os2)])) {
          os2 = "Windows " + data2;
        }
        os2 = String(os2);
        if (pattern && label) {
          os2 = os2.replace(RegExp(pattern, "i"), label);
        }
        os2 = format(
          os2.replace(/ ce$/i, " CE").replace(/\bhpw/i, "web").replace(/\bMacintosh\b/, "Mac OS").replace(/_PowerPC\b/i, " OS").replace(/\b(OS X) [^ \d]+/i, "$1").replace(/\bMac (OS X)\b/, "$1").replace(/\/(\d)/, " $1").replace(/_/g, ".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i, "").replace(/\bx86\.64\b/gi, "x86_64").replace(/\b(Windows Phone) OS\b/, "$1").replace(/\b(Chrome OS \w+) [\d.]+\b/, "$1").split(" on ")[0]
        );
        return os2;
      }
      function each(object, callback) {
        var index = -1, length = object ? object.length : 0;
        if (typeof length == "number" && length > -1 && length <= maxSafeInteger) {
          while (++index < length) {
            callback(object[index], index, object);
          }
        } else {
          forOwn(object, callback);
        }
      }
      function format(string) {
        string = trim(string);
        return /^(?:webOS|i(?:OS|P))/.test(string) ? string : capitalize(string);
      }
      function forOwn(object, callback) {
        for (var key in object) {
          if (hasOwnProperty.call(object, key)) {
            callback(object[key], key, object);
          }
        }
      }
      function getClassOf(value) {
        return value == null ? capitalize(value) : toString.call(value).slice(8, -1);
      }
      function isHostType(object, property) {
        var type = object != null ? typeof object[property] : "number";
        return !/^(?:boolean|number|string|undefined)$/.test(type) && (type == "object" ? !!object[property] : true);
      }
      function qualify(string) {
        return String(string).replace(/([ -])(?!$)/g, "$1?");
      }
      function reduce(array, callback) {
        var accumulator = null;
        each(array, function(value, index) {
          accumulator = callback(accumulator, value, index, array);
        });
        return accumulator;
      }
      function trim(string) {
        return String(string).replace(/^ +| +$/g, "");
      }
      function parse(ua) {
        var context = root;
        var isCustomContext = ua && typeof ua == "object" && getClassOf(ua) != "String";
        if (isCustomContext) {
          context = ua;
          ua = null;
        }
        var nav = context.navigator || {};
        var userAgent = nav.userAgent || "";
        ua || (ua = userAgent);
        var likeChrome = isCustomContext ? !!nav.likeChrome : /\bChrome\b/.test(ua) && !/internal|\n/i.test(toString.toString());
        var objectClass = "Object", airRuntimeClass = isCustomContext ? objectClass : "ScriptBridgingProxyObject", enviroClass = isCustomContext ? objectClass : "Environment", javaClass = isCustomContext && context.java ? "JavaPackage" : getClassOf(context.java), phantomClass = isCustomContext ? objectClass : "RuntimeObject";
        var java = /\bJava/.test(javaClass) && context.java;
        var rhino = java && getClassOf(context.environment) == enviroClass;
        var alpha = java ? "a" : "α";
        var beta = java ? "b" : "β";
        var doc = context.document || {};
        var opera = context.operamini || context.opera;
        var operaClass = reOpera.test(operaClass = isCustomContext && opera ? opera["[[Class]]"] : getClassOf(opera)) ? operaClass : opera = null;
        var data2;
        var arch = ua;
        var description = [];
        var prerelease = null;
        var useFeatures = ua == userAgent;
        var version = useFeatures && opera && typeof opera.version == "function" && opera.version();
        var isSpecialCasedOS;
        var layout = getLayout([
          { "label": "EdgeHTML", "pattern": "Edge" },
          "Trident",
          { "label": "WebKit", "pattern": "AppleWebKit" },
          "iCab",
          "Presto",
          "NetFront",
          "Tasman",
          "KHTML",
          "Gecko"
        ]);
        var name2 = getName([
          "Adobe AIR",
          "Arora",
          "Avant Browser",
          "Breach",
          "Camino",
          "Electron",
          "Epiphany",
          "Fennec",
          "Flock",
          "Galeon",
          "GreenBrowser",
          "iCab",
          "Iceweasel",
          "K-Meleon",
          "Konqueror",
          "Lunascape",
          "Maxthon",
          { "label": "Microsoft Edge", "pattern": "(?:Edge|Edg|EdgA|EdgiOS)" },
          "Midori",
          "Nook Browser",
          "PaleMoon",
          "PhantomJS",
          "Raven",
          "Rekonq",
          "RockMelt",
          { "label": "Samsung Internet", "pattern": "SamsungBrowser" },
          "SeaMonkey",
          { "label": "Silk", "pattern": "(?:Cloud9|Silk-Accelerated)" },
          "Sleipnir",
          "SlimBrowser",
          { "label": "SRWare Iron", "pattern": "Iron" },
          "Sunrise",
          "Swiftfox",
          "Vivaldi",
          "Waterfox",
          "WebPositive",
          { "label": "Yandex Browser", "pattern": "YaBrowser" },
          { "label": "UC Browser", "pattern": "UCBrowser" },
          "Opera Mini",
          { "label": "Opera Mini", "pattern": "OPiOS" },
          "Opera",
          { "label": "Opera", "pattern": "OPR" },
          "Chromium",
          "Chrome",
          { "label": "Chrome", "pattern": "(?:HeadlessChrome)" },
          { "label": "Chrome Mobile", "pattern": "(?:CriOS|CrMo)" },
          { "label": "Firefox", "pattern": "(?:Firefox|Minefield)" },
          { "label": "Firefox for iOS", "pattern": "FxiOS" },
          { "label": "IE", "pattern": "IEMobile" },
          { "label": "IE", "pattern": "MSIE" },
          "Safari"
        ]);
        var product = getProduct([
          { "label": "BlackBerry", "pattern": "BB10" },
          "BlackBerry",
          { "label": "Galaxy S", "pattern": "GT-I9000" },
          { "label": "Galaxy S2", "pattern": "GT-I9100" },
          { "label": "Galaxy S3", "pattern": "GT-I9300" },
          { "label": "Galaxy S4", "pattern": "GT-I9500" },
          { "label": "Galaxy S5", "pattern": "SM-G900" },
          { "label": "Galaxy S6", "pattern": "SM-G920" },
          { "label": "Galaxy S6 Edge", "pattern": "SM-G925" },
          { "label": "Galaxy S7", "pattern": "SM-G930" },
          { "label": "Galaxy S7 Edge", "pattern": "SM-G935" },
          "Google TV",
          "Lumia",
          "iPad",
          "iPod",
          "iPhone",
          "Kindle",
          { "label": "Kindle Fire", "pattern": "(?:Cloud9|Silk-Accelerated)" },
          "Nexus",
          "Nook",
          "PlayBook",
          "PlayStation Vita",
          "PlayStation",
          "TouchPad",
          "Transformer",
          { "label": "Wii U", "pattern": "WiiU" },
          "Wii",
          "Xbox One",
          { "label": "Xbox 360", "pattern": "Xbox" },
          "Xoom"
        ]);
        var manufacturer = getManufacturer({
          "Apple": { "iPad": 1, "iPhone": 1, "iPod": 1 },
          "Alcatel": {},
          "Archos": {},
          "Amazon": { "Kindle": 1, "Kindle Fire": 1 },
          "Asus": { "Transformer": 1 },
          "Barnes & Noble": { "Nook": 1 },
          "BlackBerry": { "PlayBook": 1 },
          "Google": { "Google TV": 1, "Nexus": 1 },
          "HP": { "TouchPad": 1 },
          "HTC": {},
          "Huawei": {},
          "Lenovo": {},
          "LG": {},
          "Microsoft": { "Xbox": 1, "Xbox One": 1 },
          "Motorola": { "Xoom": 1 },
          "Nintendo": { "Wii U": 1, "Wii": 1 },
          "Nokia": { "Lumia": 1 },
          "Oppo": {},
          "Samsung": { "Galaxy S": 1, "Galaxy S2": 1, "Galaxy S3": 1, "Galaxy S4": 1 },
          "Sony": { "PlayStation": 1, "PlayStation Vita": 1 },
          "Xiaomi": { "Mi": 1, "Redmi": 1 }
        });
        var os2 = getOS2([
          "Windows Phone",
          "KaiOS",
          "Android",
          "CentOS",
          { "label": "Chrome OS", "pattern": "CrOS" },
          "Debian",
          { "label": "DragonFly BSD", "pattern": "DragonFly" },
          "Fedora",
          "FreeBSD",
          "Gentoo",
          "Haiku",
          "Kubuntu",
          "Linux Mint",
          "OpenBSD",
          "Red Hat",
          "SuSE",
          "Ubuntu",
          "Xubuntu",
          "Cygwin",
          "Symbian OS",
          "hpwOS",
          "webOS ",
          "webOS",
          "Tablet OS",
          "Tizen",
          "Linux",
          "Mac OS X",
          "Macintosh",
          "Mac",
          "Windows 98;",
          "Windows "
        ]);
        function getLayout(guesses) {
          return reduce(guesses, function(result, guess) {
            return result || RegExp("\\b" + (guess.pattern || qualify(guess)) + "\\b", "i").exec(ua) && (guess.label || guess);
          });
        }
        function getManufacturer(guesses) {
          return reduce(guesses, function(result, value, key) {
            return result || (value[product] || value[/^[a-z]+(?: +[a-z]+\b)*/i.exec(product)] || RegExp("\\b" + qualify(key) + "(?:\\b|\\w*\\d)", "i").exec(ua)) && key;
          });
        }
        function getName(guesses) {
          return reduce(guesses, function(result, guess) {
            return result || RegExp("\\b" + (guess.pattern || qualify(guess)) + "\\b", "i").exec(ua) && (guess.label || guess);
          });
        }
        function getOS2(guesses) {
          return reduce(guesses, function(result, guess) {
            var pattern = guess.pattern || qualify(guess);
            if (!result && (result = RegExp("\\b" + pattern + "(?:/[\\d.]+|[ \\w.]*)", "i").exec(ua))) {
              result = cleanupOS(result, pattern, guess.label || guess);
            }
            return result;
          });
        }
        function getProduct(guesses) {
          return reduce(guesses, function(result, guess) {
            var pattern = guess.pattern || qualify(guess);
            if (!result && (result = RegExp("\\b" + pattern + " *\\d+[.\\w_]*", "i").exec(ua) || RegExp("\\b" + pattern + " *\\w+-[\\w]*", "i").exec(ua) || RegExp("\\b" + pattern + "(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)", "i").exec(ua))) {
              if ((result = String(guess.label && !RegExp(pattern, "i").test(guess.label) ? guess.label : result).split("/"))[1] && !/[\d.]+/.test(result[0])) {
                result[0] += " " + result[1];
              }
              guess = guess.label || guess;
              result = format(result[0].replace(RegExp(pattern, "i"), guess).replace(RegExp("; *(?:" + guess + "[_-])?", "i"), " ").replace(RegExp("(" + guess + ")[-_.]?(\\w)", "i"), "$1 $2"));
            }
            return result;
          });
        }
        function getVersion(patterns) {
          return reduce(patterns, function(result, pattern) {
            return result || (RegExp(pattern + "(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)", "i").exec(ua) || 0)[1] || null;
          });
        }
        function toStringPlatform() {
          return this.description || "";
        }
        layout && (layout = [layout]);
        if (/\bAndroid\b/.test(os2) && !product && (data2 = /\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(ua))) {
          product = trim(data2[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i, "") || null;
        }
        if (manufacturer && !product) {
          product = getProduct([manufacturer]);
        } else if (manufacturer && product) {
          product = product.replace(RegExp("^(" + qualify(manufacturer) + ")[-_.\\s]", "i"), manufacturer + " ").replace(RegExp("^(" + qualify(manufacturer) + ")[-_.]?(\\w)", "i"), manufacturer + " $2");
        }
        if (data2 = /\bGoogle TV\b/.exec(product)) {
          product = data2[0];
        }
        if (/\bSimulator\b/i.test(ua)) {
          product = (product ? product + " " : "") + "Simulator";
        }
        if (name2 == "Opera Mini" && /\bOPiOS\b/.test(ua)) {
          description.push("running in Turbo/Uncompressed mode");
        }
        if (name2 == "IE" && /\blike iPhone OS\b/.test(ua)) {
          data2 = parse(ua.replace(/like iPhone OS/, ""));
          manufacturer = data2.manufacturer;
          product = data2.product;
        } else if (/^iP/.test(product)) {
          name2 || (name2 = "Safari");
          os2 = "iOS" + ((data2 = / OS ([\d_]+)/i.exec(ua)) ? " " + data2[1].replace(/_/g, ".") : "");
        } else if (name2 == "Konqueror" && /^Linux\b/i.test(os2)) {
          os2 = "Kubuntu";
        } else if (manufacturer && manufacturer != "Google" && (/Chrome/.test(name2) && !/\bMobile Safari\b/i.test(ua) || /\bVita\b/.test(product)) || /\bAndroid\b/.test(os2) && /^Chrome/.test(name2) && /\bVersion\//i.test(ua)) {
          name2 = "Android Browser";
          os2 = /\bAndroid\b/.test(os2) ? os2 : "Android";
        } else if (name2 == "Silk") {
          if (!/\bMobi/i.test(ua)) {
            os2 = "Android";
            description.unshift("desktop mode");
          }
          if (/Accelerated *= *true/i.test(ua)) {
            description.unshift("accelerated");
          }
        } else if (name2 == "UC Browser" && /\bUCWEB\b/.test(ua)) {
          description.push("speed mode");
        } else if (name2 == "PaleMoon" && (data2 = /\bFirefox\/([\d.]+)\b/.exec(ua))) {
          description.push("identifying as Firefox " + data2[1]);
        } else if (name2 == "Firefox" && (data2 = /\b(Mobile|Tablet|TV)\b/i.exec(ua))) {
          os2 || (os2 = "Firefox OS");
          product || (product = data2[1]);
        } else if (!name2 || (data2 = !/\bMinefield\b/i.test(ua) && /\b(?:Firefox|Safari)\b/.exec(name2))) {
          if (name2 && !product && /[\/,]|^[^(]+?\)/.test(ua.slice(ua.indexOf(data2 + "/") + 8))) {
            name2 = null;
          }
          if ((data2 = product || manufacturer || os2) && (product || manufacturer || /\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(os2))) {
            name2 = /[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(os2) ? os2 : data2) + " Browser";
          }
        } else if (name2 == "Electron" && (data2 = (/\bChrome\/([\d.]+)\b/.exec(ua) || 0)[1])) {
          description.push("Chromium " + data2);
        }
        if (!version) {
          version = getVersion([
            "(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)",
            "Version",
            qualify(name2),
            "(?:Firefox|Minefield|NetFront)"
          ]);
        }
        if (data2 = layout == "iCab" && parseFloat(version) > 3 && "WebKit" || /\bOpera\b/.test(name2) && (/\bOPR\b/.test(ua) ? "Blink" : "Presto") || /\b(?:Midori|Nook|Safari)\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && "WebKit" || !layout && /\bMSIE\b/i.test(ua) && (os2 == "Mac OS" ? "Tasman" : "Trident") || layout == "WebKit" && /\bPlayStation\b(?! Vita\b)/i.test(name2) && "NetFront") {
          layout = [data2];
        }
        if (name2 == "IE" && (data2 = (/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(ua) || 0)[1])) {
          name2 += " Mobile";
          os2 = "Windows Phone " + (/\+$/.test(data2) ? data2 : data2 + ".x");
          description.unshift("desktop mode");
        } else if (/\bWPDesktop\b/i.test(ua)) {
          name2 = "IE Mobile";
          os2 = "Windows Phone 8.x";
          description.unshift("desktop mode");
          version || (version = (/\brv:([\d.]+)/.exec(ua) || 0)[1]);
        } else if (name2 != "IE" && layout == "Trident" && (data2 = /\brv:([\d.]+)/.exec(ua))) {
          if (name2) {
            description.push("identifying as " + name2 + (version ? " " + version : ""));
          }
          name2 = "IE";
          version = data2[1];
        }
        if (useFeatures) {
          if (isHostType(context, "global")) {
            if (java) {
              data2 = java.lang.System;
              arch = data2.getProperty("os.arch");
              os2 = os2 || data2.getProperty("os.name") + " " + data2.getProperty("os.version");
            }
            if (rhino) {
              try {
                version = context.require("ringo/engine").version.join(".");
                name2 = "RingoJS";
              } catch (e) {
                if ((data2 = context.system) && data2.global.system == context.system) {
                  name2 = "Narwhal";
                  os2 || (os2 = data2[0].os || null);
                }
              }
              if (!name2) {
                name2 = "Rhino";
              }
            } else if (typeof context.process == "object" && !context.process.browser && (data2 = context.process)) {
              if (typeof data2.versions == "object") {
                if (typeof data2.versions.electron == "string") {
                  description.push("Node " + data2.versions.node);
                  name2 = "Electron";
                  version = data2.versions.electron;
                } else if (typeof data2.versions.nw == "string") {
                  description.push("Chromium " + version, "Node " + data2.versions.node);
                  name2 = "NW.js";
                  version = data2.versions.nw;
                }
              }
              if (!name2) {
                name2 = "Node.js";
                arch = data2.arch;
                os2 = data2.platform;
                version = /[\d.]+/.exec(data2.version);
                version = version ? version[0] : null;
              }
            }
          } else if (getClassOf(data2 = context.runtime) == airRuntimeClass) {
            name2 = "Adobe AIR";
            os2 = data2.flash.system.Capabilities.os;
          } else if (getClassOf(data2 = context.phantom) == phantomClass) {
            name2 = "PhantomJS";
            version = (data2 = data2.version || null) && data2.major + "." + data2.minor + "." + data2.patch;
          } else if (typeof doc.documentMode == "number" && (data2 = /\bTrident\/(\d+)/i.exec(ua))) {
            version = [version, doc.documentMode];
            if ((data2 = +data2[1] + 4) != version[1]) {
              description.push("IE " + version[1] + " mode");
              layout && (layout[1] = "");
              version[1] = data2;
            }
            version = name2 == "IE" ? String(version[1].toFixed(1)) : version[0];
          } else if (typeof doc.documentMode == "number" && /^(?:Chrome|Firefox)\b/.test(name2)) {
            description.push("masking as " + name2 + " " + version);
            name2 = "IE";
            version = "11.0";
            layout = ["Trident"];
            os2 = "Windows";
          }
          os2 = os2 && format(os2);
        }
        if (version && (data2 = /(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(version) || /(?:alpha|beta)(?: ?\d)?/i.exec(ua + ";" + (useFeatures && nav.appMinorVersion)) || /\bMinefield\b/i.test(ua) && "a")) {
          prerelease = /b/i.test(data2) ? "beta" : "alpha";
          version = version.replace(RegExp(data2 + "\\+?$"), "") + (prerelease == "beta" ? beta : alpha) + (/\d+\+?/.exec(data2) || "");
        }
        if (name2 == "Fennec" || name2 == "Firefox" && /\b(?:Android|Firefox OS|KaiOS)\b/.test(os2)) {
          name2 = "Firefox Mobile";
        } else if (name2 == "Maxthon" && version) {
          version = version.replace(/\.[\d.]+/, ".x");
        } else if (/\bXbox\b/i.test(product)) {
          if (product == "Xbox 360") {
            os2 = null;
          }
          if (product == "Xbox 360" && /\bIEMobile\b/.test(ua)) {
            description.unshift("mobile mode");
          }
        } else if ((/^(?:Chrome|IE|Opera)$/.test(name2) || name2 && !product && !/Browser|Mobi/.test(name2)) && (os2 == "Windows CE" || /Mobi/i.test(ua))) {
          name2 += " Mobile";
        } else if (name2 == "IE" && useFeatures) {
          try {
            if (context.external === null) {
              description.unshift("platform preview");
            }
          } catch (e) {
            description.unshift("embedded");
          }
        } else if ((/\bBlackBerry\b/.test(product) || /\bBB10\b/.test(ua)) && (data2 = (RegExp(product.replace(/ +/g, " *") + "/([.\\d]+)", "i").exec(ua) || 0)[1] || version)) {
          data2 = [data2, /BB10/.test(ua)];
          os2 = (data2[1] ? (product = null, manufacturer = "BlackBerry") : "Device Software") + " " + data2[0];
          version = null;
        } else if (this != forOwn && product != "Wii" && (useFeatures && opera || /Opera/.test(name2) && /\b(?:MSIE|Firefox)\b/i.test(ua) || name2 == "Firefox" && /\bOS X (?:\d+\.){2,}/.test(os2) || name2 == "IE" && (os2 && !/^Win/.test(os2) && version > 5.5 || /\bWindows XP\b/.test(os2) && version > 8 || version == 8 && !/\bTrident\b/.test(ua))) && !reOpera.test(data2 = parse.call(forOwn, ua.replace(reOpera, "") + ";")) && data2.name) {
          data2 = "ing as " + data2.name + ((data2 = data2.version) ? " " + data2 : "");
          if (reOpera.test(name2)) {
            if (/\bIE\b/.test(data2) && os2 == "Mac OS") {
              os2 = null;
            }
            data2 = "identify" + data2;
          } else {
            data2 = "mask" + data2;
            if (operaClass) {
              name2 = format(operaClass.replace(/([a-z])([A-Z])/g, "$1 $2"));
            } else {
              name2 = "Opera";
            }
            if (/\bIE\b/.test(data2)) {
              os2 = null;
            }
            if (!useFeatures) {
              version = null;
            }
          }
          layout = ["Presto"];
          description.push(data2);
        }
        if (data2 = (/\bAppleWebKit\/([\d.]+\+?)/i.exec(ua) || 0)[1]) {
          data2 = [parseFloat(data2.replace(/\.(\d)$/, ".0$1")), data2];
          if (name2 == "Safari" && data2[1].slice(-1) == "+") {
            name2 = "WebKit Nightly";
            prerelease = "alpha";
            version = data2[1].slice(0, -1);
          } else if (version == data2[1] || version == (data2[2] = (/\bSafari\/([\d.]+\+?)/i.exec(ua) || 0)[1])) {
            version = null;
          }
          data2[1] = (/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(ua) || 0)[1];
          if (data2[0] == 537.36 && data2[2] == 537.36 && parseFloat(data2[1]) >= 28 && layout == "WebKit") {
            layout = ["Blink"];
          }
          if (!useFeatures || !likeChrome && !data2[1]) {
            layout && (layout[1] = "like Safari");
            data2 = (data2 = data2[0], data2 < 400 ? 1 : data2 < 500 ? 2 : data2 < 526 ? 3 : data2 < 533 ? 4 : data2 < 534 ? "4+" : data2 < 535 ? 5 : data2 < 537 ? 6 : data2 < 538 ? 7 : data2 < 601 ? 8 : data2 < 602 ? 9 : data2 < 604 ? 10 : data2 < 606 ? 11 : data2 < 608 ? 12 : "12");
          } else {
            layout && (layout[1] = "like Chrome");
            data2 = data2[1] || (data2 = data2[0], data2 < 530 ? 1 : data2 < 532 ? 2 : data2 < 532.05 ? 3 : data2 < 533 ? 4 : data2 < 534.03 ? 5 : data2 < 534.07 ? 6 : data2 < 534.1 ? 7 : data2 < 534.13 ? 8 : data2 < 534.16 ? 9 : data2 < 534.24 ? 10 : data2 < 534.3 ? 11 : data2 < 535.01 ? 12 : data2 < 535.02 ? "13+" : data2 < 535.07 ? 15 : data2 < 535.11 ? 16 : data2 < 535.19 ? 17 : data2 < 536.05 ? 18 : data2 < 536.1 ? 19 : data2 < 537.01 ? 20 : data2 < 537.11 ? "21+" : data2 < 537.13 ? 23 : data2 < 537.18 ? 24 : data2 < 537.24 ? 25 : data2 < 537.36 ? 26 : layout != "Blink" ? "27" : "28");
          }
          layout && (layout[1] += " " + (data2 += typeof data2 == "number" ? ".x" : /[.+]/.test(data2) ? "" : "+"));
          if (name2 == "Safari" && (!version || parseInt(version) > 45)) {
            version = data2;
          } else if (name2 == "Chrome" && /\bHeadlessChrome/i.test(ua)) {
            description.unshift("headless");
          }
        }
        if (name2 == "Opera" && (data2 = /\bzbov|zvav$/.exec(os2))) {
          name2 += " ";
          description.unshift("desktop mode");
          if (data2 == "zvav") {
            name2 += "Mini";
            version = null;
          } else {
            name2 += "Mobile";
          }
          os2 = os2.replace(RegExp(" *" + data2 + "$"), "");
        } else if (name2 == "Safari" && /\bChrome\b/.exec(layout && layout[1])) {
          description.unshift("desktop mode");
          name2 = "Chrome Mobile";
          version = null;
          if (/\bOS X\b/.test(os2)) {
            manufacturer = "Apple";
            os2 = "iOS 4.3+";
          } else {
            os2 = null;
          }
        } else if (/\bSRWare Iron\b/.test(name2) && !version) {
          version = getVersion("Chrome");
        }
        if (version && version.indexOf(data2 = /[\d.]+$/.exec(os2)) == 0 && ua.indexOf("/" + data2 + "-") > -1) {
          os2 = trim(os2.replace(data2, ""));
        }
        if (os2 && os2.indexOf(name2) != -1 && !RegExp(name2 + " OS").test(os2)) {
          os2 = os2.replace(RegExp(" *" + qualify(name2) + " *"), "");
        }
        if (layout && !/\b(?:Avant|Nook)\b/.test(name2) && (/Browser|Lunascape|Maxthon/.test(name2) || name2 != "Safari" && /^iOS/.test(os2) && /\bSafari\b/.test(layout[1]) || /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(name2) && layout[1])) {
          (data2 = layout[layout.length - 1]) && description.push(data2);
        }
        if (description.length) {
          description = ["(" + description.join("; ") + ")"];
        }
        if (manufacturer && product && product.indexOf(manufacturer) < 0) {
          description.push("on " + manufacturer);
        }
        if (product) {
          description.push((/^on /.test(description[description.length - 1]) ? "" : "on ") + product);
        }
        if (os2) {
          data2 = / ([\d.+]+)$/.exec(os2);
          isSpecialCasedOS = data2 && os2.charAt(os2.length - data2[0].length - 1) == "/";
          os2 = {
            "architecture": 32,
            "family": data2 && !isSpecialCasedOS ? os2.replace(data2[0], "") : os2,
            "version": data2 ? data2[1] : null,
            "toString": function() {
              var version2 = this.version;
              return this.family + (version2 && !isSpecialCasedOS ? " " + version2 : "") + (this.architecture == 64 ? " 64-bit" : "");
            }
          };
        }
        if ((data2 = /\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(arch)) && !/\bi686\b/i.test(arch)) {
          if (os2) {
            os2.architecture = 64;
            os2.family = os2.family.replace(RegExp(" *" + data2), "");
          }
          if (name2 && (/\bWOW64\b/i.test(ua) || useFeatures && /\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\bWin64; x64\b/i.test(ua))) {
            description.unshift("32-bit");
          }
        } else if (os2 && /^OS X/.test(os2.family) && name2 == "Chrome" && parseFloat(version) >= 39) {
          os2.architecture = 64;
        }
        ua || (ua = null);
        var platform3 = {};
        platform3.description = ua;
        platform3.layout = layout && layout[0];
        platform3.manufacturer = manufacturer;
        platform3.name = name2;
        platform3.prerelease = prerelease;
        platform3.product = product;
        platform3.ua = ua;
        platform3.version = name2 && version;
        platform3.os = os2 || {
          /**
           * The CPU architecture the OS is built for.
           *
           * @memberOf platform.os
           * @type number|null
           */
          "architecture": null,
          /**
           * The family of the OS.
           *
           * Common values include:
           * "Windows", "Windows Server 2008 R2 / 7", "Windows Server 2008 / Vista",
           * "Windows XP", "OS X", "Linux", "Ubuntu", "Debian", "Fedora", "Red Hat",
           * "SuSE", "Android", "iOS" and "Windows Phone"
           *
           * @memberOf platform.os
           * @type string|null
           */
          "family": null,
          /**
           * The version of the OS.
           *
           * @memberOf platform.os
           * @type string|null
           */
          "version": null,
          /**
           * Returns the OS string.
           *
           * @memberOf platform.os
           * @returns {string} The OS string.
           */
          "toString": function() {
            return "null";
          }
        };
        platform3.parse = parse;
        platform3.toString = toStringPlatform;
        if (platform3.version) {
          description.unshift(version);
        }
        if (platform3.name) {
          description.unshift(name2);
        }
        if (os2 && name2 && !(os2 == String(os2).split(" ")[0] && (os2 == name2.split(" ")[0] || product))) {
          description.push(product ? "(" + os2 + ")" : "on " + os2);
        }
        if (description.length) {
          platform3.description = description.join(" ");
        }
        return platform3;
      }
      var platform2 = parse();
      if (freeExports && freeModule) {
        forOwn(platform2, function(value, key) {
          freeExports[key] = value;
        });
      } else {
        root.platform = platform2;
      }
    }).call(commonjsGlobal);
  })(platform$1, platform$1.exports);
  var platformExports = platform$1.exports;
  const platform = /* @__PURE__ */ getDefaultExportFromCjs(platformExports);
  var index_min = { exports: {} };
  (function(module, exports) {
    !function(a, b) {
      module.exports = b();
    }(commonjsGlobal, function() {
      var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a2) {
        return typeof a2;
      } : function(a2) {
        return a2 && "function" == typeof Symbol && a2.constructor === Symbol && a2 !== Symbol.prototype ? "symbol" : typeof a2;
      }, b = /* @__PURE__ */ function() {
        function a2(a3, b2) {
          for (var c2, d2 = 0; d2 < b2.length; d2++) c2 = b2[d2], c2.enumerable = c2.enumerable || false, c2.configurable = true, "value" in c2 && (c2.writable = true), Object.defineProperty(a3, c2.key, c2);
        }
        return function(b2, c2, d2) {
          return c2 && a2(b2.prototype, c2), d2 && a2(b2, d2), b2;
        };
      }(), c = { i: "Internet Explorer", f: "Firefox", o: "Opera", s: "Apple Safari", n: "Netscape Navigator", c: "Chrome", x: "Other" }, d = { i: 11, f: 20, c: 20, o: 10.6, s: { d: 8, m: 3 }, n: 10 };
      return function() {
        function f(a2, b2) {
          !function(a3, b3) {
            if (!(a3 instanceof b3)) throw new TypeError("Cannot call a class as a function");
          }(this, f), this.options = a2 ? Object.assign({}, d, a2) : d, this.cb = b2 || function(a3) {
            return console.log("Old Browser Detected: " + a3);
          };
        }
        return b(f, [{ key: "detect", value: function() {
          var b2 = f.getBrowser(), c2 = 0;
          return c2 = "object" === a(this.options[b2.n]) ? b2.isMobile ? this.options[b2.n].m : this.options[b2.n].d : this.options[b2.n], ("x" === b2.n || b2.v <= c2) && (this.cb.call(null, b2), true);
        } }], [{ key: "getBrowser", value: function() {
          var a2, b2, d2 = navigator.userAgent, f2 = /ipad|ipod|iphone|android/i.test(d2);
          if (/bot|googlebot|slurp|mediapartners|adsbot|bingbot|google web preview|like firefox|chromeframe|seamonkey|opera mini|min|meego|netfront|moblin|maemo|arora|camino|flot|k-meleon|fennec|kazehakase|galeon|epiphany|rekonq|symbian|webos/i.test(d2)) a2 = "x";
          else if (/Trident.(\d+\.\d+)/i.test(d2)) a2 = "io";
          else if (/MSIE.(\d+\.\d+)/i.test(d2)) a2 = "i";
          else if (/Chrome.(\d+\.\d+)/i.test(d2)) a2 = "c";
          else if (/Firefox.(\d+\.\d+)/i.test(d2)) a2 = "f";
          else if (/Version.(\d+.\d+).{0,10}Safari/i.test(d2)) a2 = "s";
          else if (/Safari.(\d+)/i.test(d2)) a2 = "so";
          else if (/Opera.*Version.(\d+\.?\d+)/i.test(d2)) a2 = "o";
          else if (/Opera.(\d+\.?\d+)/i.test(d2)) a2 = "o";
          else {
            if (!/Netscape.(\d+)/i.test(d2)) return { n: "x", v: 0, t: c[a2] };
            a2 = "n";
          }
          return "x" == a2 ? { n: "x", v: 0, t: c[a2] } : (b2 = new Number(RegExp.$1), "so" == a2 && (b2 = (100 > b2 ? 1 : 130 > b2 && 1.2) || 320 > b2 && 1.3 || 520 > b2 && 2 || 524 > b2 && 3 || 526 > b2 && 3.2 || 4, a2 = "s"), "i" == a2 && 7 == b2 && window.XDomainRequest && (b2 = 8), "io" == a2 && (a2 = "i", b2 = 5 < b2 ? 10 : 4 < b2 ? 9 : 3.1 < b2 ? 8 : 3 < b2 ? 7 : 9), { n: a2, v: b2, t: c[a2] + " " + b2, isMobile: f2 });
        } }]), f;
      }();
    });
  })(index_min);
  var index_minExports = index_min.exports;
  const oldBrowserDetector = /* @__PURE__ */ getDefaultExportFromCjs(index_minExports);
  var PipsMode;
  (function(PipsMode2) {
    PipsMode2["Range"] = "range";
    PipsMode2["Steps"] = "steps";
    PipsMode2["Positions"] = "positions";
    PipsMode2["Count"] = "count";
    PipsMode2["Values"] = "values";
  })(PipsMode || (PipsMode = {}));
  var PipsType;
  (function(PipsType2) {
    PipsType2[PipsType2["None"] = -1] = "None";
    PipsType2[PipsType2["NoValue"] = 0] = "NoValue";
    PipsType2[PipsType2["LargeValue"] = 1] = "LargeValue";
    PipsType2[PipsType2["SmallValue"] = 2] = "SmallValue";
  })(PipsType || (PipsType = {}));
  function isValidFormatter(entry) {
    return isValidPartialFormatter(entry) && typeof entry.from === "function";
  }
  function isValidPartialFormatter(entry) {
    return typeof entry === "object" && typeof entry.to === "function";
  }
  function removeElement(el2) {
    el2.parentElement.removeChild(el2);
  }
  function isSet(value) {
    return value !== null && value !== void 0;
  }
  function preventDefault(e) {
    e.preventDefault();
  }
  function unique(array) {
    return array.filter(function(a) {
      return !this[a] ? this[a] = true : false;
    }, {});
  }
  function closest(value, to) {
    return Math.round(value / to) * to;
  }
  function offset(elem, orientation) {
    var rect = elem.getBoundingClientRect();
    var doc = elem.ownerDocument;
    var docElem = doc.documentElement;
    var pageOffset = getPageOffset(doc);
    if (/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)) {
      pageOffset.x = 0;
    }
    return orientation ? rect.top + pageOffset.y - docElem.clientTop : rect.left + pageOffset.x - docElem.clientLeft;
  }
  function isNumeric(a) {
    return typeof a === "number" && !isNaN(a) && isFinite(a);
  }
  function addClassFor(element, className, duration) {
    if (duration > 0) {
      addClass(element, className);
      setTimeout(function() {
        removeClass(element, className);
      }, duration);
    }
  }
  function limit(a) {
    return Math.max(Math.min(a, 100), 0);
  }
  function asArray(a) {
    return Array.isArray(a) ? a : [a];
  }
  function countDecimals(numStr) {
    numStr = String(numStr);
    var pieces = numStr.split(".");
    return pieces.length > 1 ? pieces[1].length : 0;
  }
  function addClass(el2, className) {
    if (el2.classList && !/\s/.test(className)) {
      el2.classList.add(className);
    } else {
      el2.className += " " + className;
    }
  }
  function removeClass(el2, className) {
    if (el2.classList && !/\s/.test(className)) {
      el2.classList.remove(className);
    } else {
      el2.className = el2.className.replace(new RegExp("(^|\\b)" + className.split(" ").join("|") + "(\\b|$)", "gi"), " ");
    }
  }
  function hasClass(el2, className) {
    return el2.classList ? el2.classList.contains(className) : new RegExp("\\b" + className + "\\b").test(el2.className);
  }
  function getPageOffset(doc) {
    var supportPageOffset = window.pageXOffset !== void 0;
    var isCSS1Compat = (doc.compatMode || "") === "CSS1Compat";
    var x = supportPageOffset ? window.pageXOffset : isCSS1Compat ? doc.documentElement.scrollLeft : doc.body.scrollLeft;
    var y = supportPageOffset ? window.pageYOffset : isCSS1Compat ? doc.documentElement.scrollTop : doc.body.scrollTop;
    return {
      x,
      y
    };
  }
  function getActions() {
    return window.navigator.pointerEnabled ? {
      start: "pointerdown",
      move: "pointermove",
      end: "pointerup"
    } : window.navigator.msPointerEnabled ? {
      start: "MSPointerDown",
      move: "MSPointerMove",
      end: "MSPointerUp"
    } : {
      start: "mousedown touchstart",
      move: "mousemove touchmove",
      end: "mouseup touchend"
    };
  }
  function getSupportsPassive() {
    var supportsPassive = false;
    try {
      var opts = Object.defineProperty({}, "passive", {
        get: function() {
          supportsPassive = true;
        }
      });
      window.addEventListener("test", null, opts);
    } catch (e) {
    }
    return supportsPassive;
  }
  function getSupportsTouchActionNone() {
    return window.CSS && CSS.supports && CSS.supports("touch-action", "none");
  }
  function subRangeRatio(pa, pb) {
    return 100 / (pb - pa);
  }
  function fromPercentage(range, value, startRange) {
    return value * 100 / (range[startRange + 1] - range[startRange]);
  }
  function toPercentage(range, value) {
    return fromPercentage(range, range[0] < 0 ? value + Math.abs(range[0]) : value - range[0], 0);
  }
  function isPercentage(range, value) {
    return value * (range[1] - range[0]) / 100 + range[0];
  }
  function getJ(value, arr) {
    var j = 1;
    while (value >= arr[j]) {
      j += 1;
    }
    return j;
  }
  function toStepping(xVal, xPct, value) {
    if (value >= xVal.slice(-1)[0]) {
      return 100;
    }
    var j = getJ(value, xVal);
    var va = xVal[j - 1];
    var vb = xVal[j];
    var pa = xPct[j - 1];
    var pb = xPct[j];
    return pa + toPercentage([va, vb], value) / subRangeRatio(pa, pb);
  }
  function fromStepping(xVal, xPct, value) {
    if (value >= 100) {
      return xVal.slice(-1)[0];
    }
    var j = getJ(value, xPct);
    var va = xVal[j - 1];
    var vb = xVal[j];
    var pa = xPct[j - 1];
    var pb = xPct[j];
    return isPercentage([va, vb], (value - pa) * subRangeRatio(pa, pb));
  }
  function getStep(xPct, xSteps, snap, value) {
    if (value === 100) {
      return value;
    }
    var j = getJ(value, xPct);
    var a = xPct[j - 1];
    var b = xPct[j];
    if (snap) {
      if (value - a > (b - a) / 2) {
        return b;
      }
      return a;
    }
    if (!xSteps[j - 1]) {
      return value;
    }
    return xPct[j - 1] + closest(value - xPct[j - 1], xSteps[j - 1]);
  }
  var Spectrum = (
    /** @class */
    function() {
      function Spectrum2(entry, snap, singleStep) {
        this.xPct = [];
        this.xVal = [];
        this.xSteps = [];
        this.xNumSteps = [];
        this.xHighestCompleteStep = [];
        this.xSteps = [singleStep || false];
        this.xNumSteps = [false];
        this.snap = snap;
        var index;
        var ordered = [];
        Object.keys(entry).forEach(function(index2) {
          ordered.push([asArray(entry[index2]), index2]);
        });
        ordered.sort(function(a, b) {
          return a[0][0] - b[0][0];
        });
        for (index = 0; index < ordered.length; index++) {
          this.handleEntryPoint(ordered[index][1], ordered[index][0]);
        }
        this.xNumSteps = this.xSteps.slice(0);
        for (index = 0; index < this.xNumSteps.length; index++) {
          this.handleStepPoint(index, this.xNumSteps[index]);
        }
      }
      Spectrum2.prototype.getDistance = function(value) {
        var distances = [];
        for (var index = 0; index < this.xNumSteps.length - 1; index++) {
          distances[index] = fromPercentage(this.xVal, value, index);
        }
        return distances;
      };
      Spectrum2.prototype.getAbsoluteDistance = function(value, distances, direction) {
        var xPct_index = 0;
        if (value < this.xPct[this.xPct.length - 1]) {
          while (value > this.xPct[xPct_index + 1]) {
            xPct_index++;
          }
        } else if (value === this.xPct[this.xPct.length - 1]) {
          xPct_index = this.xPct.length - 2;
        }
        if (!direction && value === this.xPct[xPct_index + 1]) {
          xPct_index++;
        }
        if (distances === null) {
          distances = [];
        }
        var start_factor;
        var rest_factor = 1;
        var rest_rel_distance = distances[xPct_index];
        var range_pct = 0;
        var rel_range_distance = 0;
        var abs_distance_counter = 0;
        var range_counter = 0;
        if (direction) {
          start_factor = (value - this.xPct[xPct_index]) / (this.xPct[xPct_index + 1] - this.xPct[xPct_index]);
        } else {
          start_factor = (this.xPct[xPct_index + 1] - value) / (this.xPct[xPct_index + 1] - this.xPct[xPct_index]);
        }
        while (rest_rel_distance > 0) {
          range_pct = this.xPct[xPct_index + 1 + range_counter] - this.xPct[xPct_index + range_counter];
          if (distances[xPct_index + range_counter] * rest_factor + 100 - start_factor * 100 > 100) {
            rel_range_distance = range_pct * start_factor;
            rest_factor = (rest_rel_distance - 100 * start_factor) / distances[xPct_index + range_counter];
            start_factor = 1;
          } else {
            rel_range_distance = distances[xPct_index + range_counter] * range_pct / 100 * rest_factor;
            rest_factor = 0;
          }
          if (direction) {
            abs_distance_counter = abs_distance_counter - rel_range_distance;
            if (this.xPct.length + range_counter >= 1) {
              range_counter--;
            }
          } else {
            abs_distance_counter = abs_distance_counter + rel_range_distance;
            if (this.xPct.length - range_counter >= 1) {
              range_counter++;
            }
          }
          rest_rel_distance = distances[xPct_index + range_counter] * rest_factor;
        }
        return value + abs_distance_counter;
      };
      Spectrum2.prototype.toStepping = function(value) {
        value = toStepping(this.xVal, this.xPct, value);
        return value;
      };
      Spectrum2.prototype.fromStepping = function(value) {
        return fromStepping(this.xVal, this.xPct, value);
      };
      Spectrum2.prototype.getStep = function(value) {
        value = getStep(this.xPct, this.xSteps, this.snap, value);
        return value;
      };
      Spectrum2.prototype.getDefaultStep = function(value, isDown, size) {
        var j = getJ(value, this.xPct);
        if (value === 100 || isDown && value === this.xPct[j - 1]) {
          j = Math.max(j - 1, 1);
        }
        return (this.xVal[j] - this.xVal[j - 1]) / size;
      };
      Spectrum2.prototype.getNearbySteps = function(value) {
        var j = getJ(value, this.xPct);
        return {
          stepBefore: {
            startValue: this.xVal[j - 2],
            step: this.xNumSteps[j - 2],
            highestStep: this.xHighestCompleteStep[j - 2]
          },
          thisStep: {
            startValue: this.xVal[j - 1],
            step: this.xNumSteps[j - 1],
            highestStep: this.xHighestCompleteStep[j - 1]
          },
          stepAfter: {
            startValue: this.xVal[j],
            step: this.xNumSteps[j],
            highestStep: this.xHighestCompleteStep[j]
          }
        };
      };
      Spectrum2.prototype.countStepDecimals = function() {
        var stepDecimals = this.xNumSteps.map(countDecimals);
        return Math.max.apply(null, stepDecimals);
      };
      Spectrum2.prototype.hasNoSize = function() {
        return this.xVal[0] === this.xVal[this.xVal.length - 1];
      };
      Spectrum2.prototype.convert = function(value) {
        return this.getStep(this.toStepping(value));
      };
      Spectrum2.prototype.handleEntryPoint = function(index, value) {
        var percentage;
        if (index === "min") {
          percentage = 0;
        } else if (index === "max") {
          percentage = 100;
        } else {
          percentage = parseFloat(index);
        }
        if (!isNumeric(percentage) || !isNumeric(value[0])) {
          throw new Error("noUiSlider: 'range' value isn't numeric.");
        }
        this.xPct.push(percentage);
        this.xVal.push(value[0]);
        var value1 = Number(value[1]);
        if (!percentage) {
          if (!isNaN(value1)) {
            this.xSteps[0] = value1;
          }
        } else {
          this.xSteps.push(isNaN(value1) ? false : value1);
        }
        this.xHighestCompleteStep.push(0);
      };
      Spectrum2.prototype.handleStepPoint = function(i, n) {
        if (!n) {
          return;
        }
        if (this.xVal[i] === this.xVal[i + 1]) {
          this.xSteps[i] = this.xHighestCompleteStep[i] = this.xVal[i];
          return;
        }
        this.xSteps[i] = fromPercentage([this.xVal[i], this.xVal[i + 1]], n, 0) / subRangeRatio(this.xPct[i], this.xPct[i + 1]);
        var totalSteps = (this.xVal[i + 1] - this.xVal[i]) / this.xNumSteps[i];
        var highestStep = Math.ceil(Number(totalSteps.toFixed(3)) - 1);
        var step = this.xVal[i] + this.xNumSteps[i] * highestStep;
        this.xHighestCompleteStep[i] = step;
      };
      return Spectrum2;
    }()
  );
  var defaultFormatter = {
    to: function(value) {
      return value === void 0 ? "" : value.toFixed(2);
    },
    from: Number
  };
  var cssClasses = {
    target: "target",
    base: "base",
    origin: "origin",
    handle: "handle",
    handleLower: "handle-lower",
    handleUpper: "handle-upper",
    touchArea: "touch-area",
    horizontal: "horizontal",
    vertical: "vertical",
    background: "background",
    connect: "connect",
    connects: "connects",
    ltr: "ltr",
    rtl: "rtl",
    textDirectionLtr: "txt-dir-ltr",
    textDirectionRtl: "txt-dir-rtl",
    draggable: "draggable",
    drag: "state-drag",
    tap: "state-tap",
    active: "active",
    tooltip: "tooltip",
    pips: "pips",
    pipsHorizontal: "pips-horizontal",
    pipsVertical: "pips-vertical",
    marker: "marker",
    markerHorizontal: "marker-horizontal",
    markerVertical: "marker-vertical",
    markerNormal: "marker-normal",
    markerLarge: "marker-large",
    markerSub: "marker-sub",
    value: "value",
    valueHorizontal: "value-horizontal",
    valueVertical: "value-vertical",
    valueNormal: "value-normal",
    valueLarge: "value-large",
    valueSub: "value-sub"
  };
  var INTERNAL_EVENT_NS = {
    tooltips: ".__tooltips",
    aria: ".__aria"
  };
  function testStep(parsed, entry) {
    if (!isNumeric(entry)) {
      throw new Error("noUiSlider: 'step' is not numeric.");
    }
    parsed.singleStep = entry;
  }
  function testKeyboardPageMultiplier(parsed, entry) {
    if (!isNumeric(entry)) {
      throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");
    }
    parsed.keyboardPageMultiplier = entry;
  }
  function testKeyboardMultiplier(parsed, entry) {
    if (!isNumeric(entry)) {
      throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");
    }
    parsed.keyboardMultiplier = entry;
  }
  function testKeyboardDefaultStep(parsed, entry) {
    if (!isNumeric(entry)) {
      throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");
    }
    parsed.keyboardDefaultStep = entry;
  }
  function testRange(parsed, entry) {
    if (typeof entry !== "object" || Array.isArray(entry)) {
      throw new Error("noUiSlider: 'range' is not an object.");
    }
    if (entry.min === void 0 || entry.max === void 0) {
      throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");
    }
    parsed.spectrum = new Spectrum(entry, parsed.snap || false, parsed.singleStep);
  }
  function testStart(parsed, entry) {
    entry = asArray(entry);
    if (!Array.isArray(entry) || !entry.length) {
      throw new Error("noUiSlider: 'start' option is incorrect.");
    }
    parsed.handles = entry.length;
    parsed.start = entry;
  }
  function testSnap(parsed, entry) {
    if (typeof entry !== "boolean") {
      throw new Error("noUiSlider: 'snap' option must be a boolean.");
    }
    parsed.snap = entry;
  }
  function testAnimate(parsed, entry) {
    if (typeof entry !== "boolean") {
      throw new Error("noUiSlider: 'animate' option must be a boolean.");
    }
    parsed.animate = entry;
  }
  function testAnimationDuration(parsed, entry) {
    if (typeof entry !== "number") {
      throw new Error("noUiSlider: 'animationDuration' option must be a number.");
    }
    parsed.animationDuration = entry;
  }
  function testConnect(parsed, entry) {
    var connect = [false];
    var i;
    if (entry === "lower") {
      entry = [true, false];
    } else if (entry === "upper") {
      entry = [false, true];
    }
    if (entry === true || entry === false) {
      for (i = 1; i < parsed.handles; i++) {
        connect.push(entry);
      }
      connect.push(false);
    } else if (!Array.isArray(entry) || !entry.length || entry.length !== parsed.handles + 1) {
      throw new Error("noUiSlider: 'connect' option doesn't match handle count.");
    } else {
      connect = entry;
    }
    parsed.connect = connect;
  }
  function testOrientation(parsed, entry) {
    switch (entry) {
      case "horizontal":
        parsed.ort = 0;
        break;
      case "vertical":
        parsed.ort = 1;
        break;
      default:
        throw new Error("noUiSlider: 'orientation' option is invalid.");
    }
  }
  function testMargin(parsed, entry) {
    if (!isNumeric(entry)) {
      throw new Error("noUiSlider: 'margin' option must be numeric.");
    }
    if (entry === 0) {
      return;
    }
    parsed.margin = parsed.spectrum.getDistance(entry);
  }
  function testLimit(parsed, entry) {
    if (!isNumeric(entry)) {
      throw new Error("noUiSlider: 'limit' option must be numeric.");
    }
    parsed.limit = parsed.spectrum.getDistance(entry);
    if (!parsed.limit || parsed.handles < 2) {
      throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.");
    }
  }
  function testPadding(parsed, entry) {
    var index;
    if (!isNumeric(entry) && !Array.isArray(entry)) {
      throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");
    }
    if (Array.isArray(entry) && !(entry.length === 2 || isNumeric(entry[0]) || isNumeric(entry[1]))) {
      throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");
    }
    if (entry === 0) {
      return;
    }
    if (!Array.isArray(entry)) {
      entry = [entry, entry];
    }
    parsed.padding = [parsed.spectrum.getDistance(entry[0]), parsed.spectrum.getDistance(entry[1])];
    for (index = 0; index < parsed.spectrum.xNumSteps.length - 1; index++) {
      if (parsed.padding[0][index] < 0 || parsed.padding[1][index] < 0) {
        throw new Error("noUiSlider: 'padding' option must be a positive number(s).");
      }
    }
    var totalPadding = entry[0] + entry[1];
    var firstValue = parsed.spectrum.xVal[0];
    var lastValue = parsed.spectrum.xVal[parsed.spectrum.xVal.length - 1];
    if (totalPadding / (lastValue - firstValue) > 1) {
      throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.");
    }
  }
  function testDirection(parsed, entry) {
    switch (entry) {
      case "ltr":
        parsed.dir = 0;
        break;
      case "rtl":
        parsed.dir = 1;
        break;
      default:
        throw new Error("noUiSlider: 'direction' option was not recognized.");
    }
  }
  function testBehaviour(parsed, entry) {
    if (typeof entry !== "string") {
      throw new Error("noUiSlider: 'behaviour' must be a string containing options.");
    }
    var tap = entry.indexOf("tap") >= 0;
    var drag = entry.indexOf("drag") >= 0;
    var fixed = entry.indexOf("fixed") >= 0;
    var snap = entry.indexOf("snap") >= 0;
    var hover = entry.indexOf("hover") >= 0;
    var unconstrained = entry.indexOf("unconstrained") >= 0;
    var invertConnects = entry.indexOf("invert-connects") >= 0;
    var dragAll = entry.indexOf("drag-all") >= 0;
    var smoothSteps = entry.indexOf("smooth-steps") >= 0;
    if (fixed) {
      if (parsed.handles !== 2) {
        throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");
      }
      testMargin(parsed, parsed.start[1] - parsed.start[0]);
    }
    if (invertConnects && parsed.handles !== 2) {
      throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");
    }
    if (unconstrained && (parsed.margin || parsed.limit)) {
      throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");
    }
    parsed.events = {
      tap: tap || snap,
      drag,
      dragAll,
      smoothSteps,
      fixed,
      snap,
      hover,
      unconstrained,
      invertConnects
    };
  }
  function testTooltips(parsed, entry) {
    if (entry === false) {
      return;
    }
    if (entry === true || isValidPartialFormatter(entry)) {
      parsed.tooltips = [];
      for (var i = 0; i < parsed.handles; i++) {
        parsed.tooltips.push(entry);
      }
    } else {
      entry = asArray(entry);
      if (entry.length !== parsed.handles) {
        throw new Error("noUiSlider: must pass a formatter for all handles.");
      }
      entry.forEach(function(formatter) {
        if (typeof formatter !== "boolean" && !isValidPartialFormatter(formatter)) {
          throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.");
        }
      });
      parsed.tooltips = entry;
    }
  }
  function testHandleAttributes(parsed, entry) {
    if (entry.length !== parsed.handles) {
      throw new Error("noUiSlider: must pass a attributes for all handles.");
    }
    parsed.handleAttributes = entry;
  }
  function testAriaFormat(parsed, entry) {
    if (!isValidPartialFormatter(entry)) {
      throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");
    }
    parsed.ariaFormat = entry;
  }
  function testFormat(parsed, entry) {
    if (!isValidFormatter(entry)) {
      throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");
    }
    parsed.format = entry;
  }
  function testKeyboardSupport(parsed, entry) {
    if (typeof entry !== "boolean") {
      throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");
    }
    parsed.keyboardSupport = entry;
  }
  function testDocumentElement(parsed, entry) {
    parsed.documentElement = entry;
  }
  function testCssPrefix(parsed, entry) {
    if (typeof entry !== "string" && entry !== false) {
      throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");
    }
    parsed.cssPrefix = entry;
  }
  function testCssClasses(parsed, entry) {
    if (typeof entry !== "object") {
      throw new Error("noUiSlider: 'cssClasses' must be an object.");
    }
    if (typeof parsed.cssPrefix === "string") {
      parsed.cssClasses = {};
      Object.keys(entry).forEach(function(key) {
        parsed.cssClasses[key] = parsed.cssPrefix + entry[key];
      });
    } else {
      parsed.cssClasses = entry;
    }
  }
  function testOptions(options) {
    var parsed = {
      margin: null,
      limit: null,
      padding: null,
      animate: true,
      animationDuration: 300,
      ariaFormat: defaultFormatter,
      format: defaultFormatter
    };
    var tests = {
      step: { r: false, t: testStep },
      keyboardPageMultiplier: { r: false, t: testKeyboardPageMultiplier },
      keyboardMultiplier: { r: false, t: testKeyboardMultiplier },
      keyboardDefaultStep: { r: false, t: testKeyboardDefaultStep },
      start: { r: true, t: testStart },
      connect: { r: true, t: testConnect },
      direction: { r: true, t: testDirection },
      snap: { r: false, t: testSnap },
      animate: { r: false, t: testAnimate },
      animationDuration: { r: false, t: testAnimationDuration },
      range: { r: true, t: testRange },
      orientation: { r: false, t: testOrientation },
      margin: { r: false, t: testMargin },
      limit: { r: false, t: testLimit },
      padding: { r: false, t: testPadding },
      behaviour: { r: true, t: testBehaviour },
      ariaFormat: { r: false, t: testAriaFormat },
      format: { r: false, t: testFormat },
      tooltips: { r: false, t: testTooltips },
      keyboardSupport: { r: true, t: testKeyboardSupport },
      documentElement: { r: false, t: testDocumentElement },
      cssPrefix: { r: true, t: testCssPrefix },
      cssClasses: { r: true, t: testCssClasses },
      handleAttributes: { r: false, t: testHandleAttributes }
    };
    var defaults = {
      connect: false,
      direction: "ltr",
      behaviour: "tap",
      orientation: "horizontal",
      keyboardSupport: true,
      cssPrefix: "noUi-",
      cssClasses,
      keyboardPageMultiplier: 5,
      keyboardMultiplier: 1,
      keyboardDefaultStep: 10
    };
    if (options.format && !options.ariaFormat) {
      options.ariaFormat = options.format;
    }
    Object.keys(tests).forEach(function(name2) {
      if (!isSet(options[name2]) && defaults[name2] === void 0) {
        if (tests[name2].r) {
          throw new Error("noUiSlider: '" + name2 + "' is required.");
        }
        return;
      }
      tests[name2].t(parsed, !isSet(options[name2]) ? defaults[name2] : options[name2]);
    });
    parsed.pips = options.pips;
    var d = document.createElement("div");
    var msPrefix = d.style.msTransform !== void 0;
    var noPrefix = d.style.transform !== void 0;
    parsed.transformRule = noPrefix ? "transform" : msPrefix ? "msTransform" : "webkitTransform";
    var styles = [
      ["left", "top"],
      ["right", "bottom"]
    ];
    parsed.style = styles[parsed.dir][parsed.ort];
    return parsed;
  }
  function scope(target, options, originalOptions) {
    var actions = getActions();
    var supportsTouchActionNone = getSupportsTouchActionNone();
    var supportsPassive = supportsTouchActionNone && getSupportsPassive();
    var scope_Target = target;
    var scope_Base;
    var scope_ConnectBase;
    var scope_Handles;
    var scope_Connects;
    var scope_Pips;
    var scope_Tooltips;
    var scope_Spectrum = options.spectrum;
    var scope_Values = [];
    var scope_Locations = [];
    var scope_HandleNumbers = [];
    var scope_ActiveHandlesCount = 0;
    var scope_Events = {};
    var scope_ConnectsInverted = false;
    var scope_Document = target.ownerDocument;
    var scope_DocumentElement = options.documentElement || scope_Document.documentElement;
    var scope_Body = scope_Document.body;
    var scope_DirOffset = scope_Document.dir === "rtl" || options.ort === 1 ? 0 : 100;
    function addNodeTo(addTarget, className) {
      var div = scope_Document.createElement("div");
      if (className) {
        addClass(div, className);
      }
      addTarget.appendChild(div);
      return div;
    }
    function addOrigin(base, handleNumber) {
      var origin = addNodeTo(base, options.cssClasses.origin);
      var handle = addNodeTo(origin, options.cssClasses.handle);
      addNodeTo(handle, options.cssClasses.touchArea);
      handle.setAttribute("data-handle", String(handleNumber));
      if (options.keyboardSupport) {
        handle.setAttribute("tabindex", "0");
        handle.addEventListener("keydown", function(event) {
          return eventKeydown(event, handleNumber);
        });
      }
      if (options.handleAttributes !== void 0) {
        var attributes_1 = options.handleAttributes[handleNumber];
        Object.keys(attributes_1).forEach(function(attribute) {
          handle.setAttribute(attribute, attributes_1[attribute]);
        });
      }
      handle.setAttribute("role", "slider");
      handle.setAttribute("aria-orientation", options.ort ? "vertical" : "horizontal");
      if (handleNumber === 0) {
        addClass(handle, options.cssClasses.handleLower);
      } else if (handleNumber === options.handles - 1) {
        addClass(handle, options.cssClasses.handleUpper);
      }
      origin.handle = handle;
      return origin;
    }
    function addConnect(base, add) {
      if (!add) {
        return false;
      }
      return addNodeTo(base, options.cssClasses.connect);
    }
    function addElements(connectOptions, base) {
      scope_ConnectBase = addNodeTo(base, options.cssClasses.connects);
      scope_Handles = [];
      scope_Connects = [];
      scope_Connects.push(addConnect(scope_ConnectBase, connectOptions[0]));
      for (var i = 0; i < options.handles; i++) {
        scope_Handles.push(addOrigin(base, i));
        scope_HandleNumbers[i] = i;
        scope_Connects.push(addConnect(scope_ConnectBase, connectOptions[i + 1]));
      }
    }
    function addSlider(addTarget) {
      addClass(addTarget, options.cssClasses.target);
      if (options.dir === 0) {
        addClass(addTarget, options.cssClasses.ltr);
      } else {
        addClass(addTarget, options.cssClasses.rtl);
      }
      if (options.ort === 0) {
        addClass(addTarget, options.cssClasses.horizontal);
      } else {
        addClass(addTarget, options.cssClasses.vertical);
      }
      var textDirection = getComputedStyle(addTarget).direction;
      if (textDirection === "rtl") {
        addClass(addTarget, options.cssClasses.textDirectionRtl);
      } else {
        addClass(addTarget, options.cssClasses.textDirectionLtr);
      }
      return addNodeTo(addTarget, options.cssClasses.base);
    }
    function addTooltip(handle, handleNumber) {
      if (!options.tooltips || !options.tooltips[handleNumber]) {
        return false;
      }
      return addNodeTo(handle.firstChild, options.cssClasses.tooltip);
    }
    function isSliderDisabled() {
      return scope_Target.hasAttribute("disabled");
    }
    function isHandleDisabled(handleNumber) {
      var handleOrigin = scope_Handles[handleNumber];
      return handleOrigin.hasAttribute("disabled");
    }
    function disable(handleNumber) {
      if (handleNumber !== null && handleNumber !== void 0) {
        scope_Handles[handleNumber].setAttribute("disabled", "");
        scope_Handles[handleNumber].handle.removeAttribute("tabindex");
      } else {
        scope_Target.setAttribute("disabled", "");
        scope_Handles.forEach(function(handle) {
          handle.handle.removeAttribute("tabindex");
        });
      }
    }
    function enable(handleNumber) {
      if (handleNumber !== null && handleNumber !== void 0) {
        scope_Handles[handleNumber].removeAttribute("disabled");
        scope_Handles[handleNumber].handle.setAttribute("tabindex", "0");
      } else {
        scope_Target.removeAttribute("disabled");
        scope_Handles.forEach(function(handle) {
          handle.removeAttribute("disabled");
          handle.handle.setAttribute("tabindex", "0");
        });
      }
    }
    function removeTooltips() {
      if (scope_Tooltips) {
        removeEvent("update" + INTERNAL_EVENT_NS.tooltips);
        scope_Tooltips.forEach(function(tooltip) {
          if (tooltip) {
            removeElement(tooltip);
          }
        });
        scope_Tooltips = null;
      }
    }
    function tooltips() {
      removeTooltips();
      scope_Tooltips = scope_Handles.map(addTooltip);
      bindEvent("update" + INTERNAL_EVENT_NS.tooltips, function(values, handleNumber, unencoded) {
        if (!scope_Tooltips || !options.tooltips) {
          return;
        }
        if (scope_Tooltips[handleNumber] === false) {
          return;
        }
        var formattedValue = values[handleNumber];
        if (options.tooltips[handleNumber] !== true) {
          formattedValue = options.tooltips[handleNumber].to(unencoded[handleNumber]);
        }
        scope_Tooltips[handleNumber].innerHTML = formattedValue;
      });
    }
    function aria() {
      removeEvent("update" + INTERNAL_EVENT_NS.aria);
      bindEvent("update" + INTERNAL_EVENT_NS.aria, function(values, handleNumber, unencoded, tap, positions) {
        scope_HandleNumbers.forEach(function(index) {
          var handle = scope_Handles[index];
          var min = checkHandlePosition(scope_Locations, index, 0, true, true, true);
          var max = checkHandlePosition(scope_Locations, index, 100, true, true, true);
          var now = positions[index];
          var text = String(options.ariaFormat.to(unencoded[index]));
          min = scope_Spectrum.fromStepping(min).toFixed(1);
          max = scope_Spectrum.fromStepping(max).toFixed(1);
          now = scope_Spectrum.fromStepping(now).toFixed(1);
          handle.children[0].setAttribute("aria-valuemin", min);
          handle.children[0].setAttribute("aria-valuemax", max);
          handle.children[0].setAttribute("aria-valuenow", now);
          handle.children[0].setAttribute("aria-valuetext", text);
        });
      });
    }
    function getGroup(pips2) {
      if (pips2.mode === PipsMode.Range || pips2.mode === PipsMode.Steps) {
        return scope_Spectrum.xVal;
      }
      if (pips2.mode === PipsMode.Count) {
        if (pips2.values < 2) {
          throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");
        }
        var interval = pips2.values - 1;
        var spread = 100 / interval;
        var values = [];
        while (interval--) {
          values[interval] = interval * spread;
        }
        values.push(100);
        return mapToRange(values, pips2.stepped);
      }
      if (pips2.mode === PipsMode.Positions) {
        return mapToRange(pips2.values, pips2.stepped);
      }
      if (pips2.mode === PipsMode.Values) {
        if (pips2.stepped) {
          return pips2.values.map(function(value) {
            return scope_Spectrum.fromStepping(scope_Spectrum.getStep(scope_Spectrum.toStepping(value)));
          });
        }
        return pips2.values;
      }
      return [];
    }
    function mapToRange(values, stepped) {
      return values.map(function(value) {
        return scope_Spectrum.fromStepping(stepped ? scope_Spectrum.getStep(value) : value);
      });
    }
    function generateSpread(pips2) {
      function safeIncrement(value, increment) {
        return Number((value + increment).toFixed(7));
      }
      var group = getGroup(pips2);
      var indexes = {};
      var firstInRange = scope_Spectrum.xVal[0];
      var lastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length - 1];
      var ignoreFirst = false;
      var ignoreLast = false;
      var prevPct = 0;
      group = unique(group.slice().sort(function(a, b) {
        return a - b;
      }));
      if (group[0] !== firstInRange) {
        group.unshift(firstInRange);
        ignoreFirst = true;
      }
      if (group[group.length - 1] !== lastInRange) {
        group.push(lastInRange);
        ignoreLast = true;
      }
      group.forEach(function(current, index) {
        var step;
        var i;
        var q;
        var low = current;
        var high = group[index + 1];
        var newPct;
        var pctDifference;
        var pctPos;
        var type;
        var steps;
        var realSteps;
        var stepSize;
        var isSteps = pips2.mode === PipsMode.Steps;
        if (isSteps) {
          step = scope_Spectrum.xNumSteps[index];
        }
        if (!step) {
          step = high - low;
        }
        if (high === void 0) {
          high = low;
        }
        step = Math.max(step, 1e-7);
        for (i = low; i <= high; i = safeIncrement(i, step)) {
          newPct = scope_Spectrum.toStepping(i);
          pctDifference = newPct - prevPct;
          steps = pctDifference / (pips2.density || 1);
          realSteps = Math.round(steps);
          stepSize = pctDifference / realSteps;
          for (q = 1; q <= realSteps; q += 1) {
            pctPos = prevPct + q * stepSize;
            indexes[pctPos.toFixed(5)] = [scope_Spectrum.fromStepping(pctPos), 0];
          }
          type = group.indexOf(i) > -1 ? PipsType.LargeValue : isSteps ? PipsType.SmallValue : PipsType.NoValue;
          if (!index && ignoreFirst && i !== high) {
            type = 0;
          }
          if (!(i === high && ignoreLast)) {
            indexes[newPct.toFixed(5)] = [i, type];
          }
          prevPct = newPct;
        }
      });
      return indexes;
    }
    function addMarking(spread, filterFunc, formatter) {
      var _a, _b;
      var element = scope_Document.createElement("div");
      var valueSizeClasses = (_a = {}, _a[PipsType.None] = "", _a[PipsType.NoValue] = options.cssClasses.valueNormal, _a[PipsType.LargeValue] = options.cssClasses.valueLarge, _a[PipsType.SmallValue] = options.cssClasses.valueSub, _a);
      var markerSizeClasses = (_b = {}, _b[PipsType.None] = "", _b[PipsType.NoValue] = options.cssClasses.markerNormal, _b[PipsType.LargeValue] = options.cssClasses.markerLarge, _b[PipsType.SmallValue] = options.cssClasses.markerSub, _b);
      var valueOrientationClasses = [options.cssClasses.valueHorizontal, options.cssClasses.valueVertical];
      var markerOrientationClasses = [options.cssClasses.markerHorizontal, options.cssClasses.markerVertical];
      addClass(element, options.cssClasses.pips);
      addClass(element, options.ort === 0 ? options.cssClasses.pipsHorizontal : options.cssClasses.pipsVertical);
      function getClasses(type, source) {
        var a = source === options.cssClasses.value;
        var orientationClasses = a ? valueOrientationClasses : markerOrientationClasses;
        var sizeClasses = a ? valueSizeClasses : markerSizeClasses;
        return source + " " + orientationClasses[options.ort] + " " + sizeClasses[type];
      }
      function addSpread(offset2, value, type) {
        type = filterFunc ? filterFunc(value, type) : type;
        if (type === PipsType.None) {
          return;
        }
        var node = addNodeTo(element, false);
        node.className = getClasses(type, options.cssClasses.marker);
        node.style[options.style] = offset2 + "%";
        if (type > PipsType.NoValue) {
          node = addNodeTo(element, false);
          node.className = getClasses(type, options.cssClasses.value);
          node.setAttribute("data-value", String(value));
          node.style[options.style] = offset2 + "%";
          node.innerHTML = String(formatter.to(value));
        }
      }
      Object.keys(spread).forEach(function(offset2) {
        addSpread(offset2, spread[offset2][0], spread[offset2][1]);
      });
      return element;
    }
    function removePips() {
      if (scope_Pips) {
        removeElement(scope_Pips);
        scope_Pips = null;
      }
    }
    function pips(pips2) {
      removePips();
      var spread = generateSpread(pips2);
      var filter = pips2.filter;
      var format = pips2.format || {
        to: function(value) {
          return String(Math.round(value));
        }
      };
      scope_Pips = scope_Target.appendChild(addMarking(spread, filter, format));
      return scope_Pips;
    }
    function baseSize() {
      var rect = scope_Base.getBoundingClientRect();
      var alt = "offset" + ["Width", "Height"][options.ort];
      return options.ort === 0 ? rect.width || scope_Base[alt] : rect.height || scope_Base[alt];
    }
    function attachEvent(events, element, callback, data2) {
      var method = function(event) {
        var e = fixEvent(event, data2.pageOffset, data2.target || element);
        if (!e) {
          return false;
        }
        if (isSliderDisabled() && !data2.doNotReject) {
          return false;
        }
        if (hasClass(scope_Target, options.cssClasses.tap) && !data2.doNotReject) {
          return false;
        }
        if (events === actions.start && e.buttons !== void 0 && e.buttons > 1) {
          return false;
        }
        if (data2.hover && e.buttons) {
          return false;
        }
        if (!supportsPassive) {
          e.preventDefault();
        }
        e.calcPoint = e.points[options.ort];
        callback(e, data2);
        return;
      };
      var methods = [];
      events.split(" ").forEach(function(eventName) {
        element.addEventListener(eventName, method, supportsPassive ? { passive: true } : false);
        methods.push([eventName, method]);
      });
      return methods;
    }
    function fixEvent(e, pageOffset, eventTarget) {
      var touch = e.type.indexOf("touch") === 0;
      var mouse = e.type.indexOf("mouse") === 0;
      var pointer = e.type.indexOf("pointer") === 0;
      var x = 0;
      var y = 0;
      if (e.type.indexOf("MSPointer") === 0) {
        pointer = true;
      }
      if (e.type === "mousedown" && !e.buttons && !e.touches) {
        return false;
      }
      if (touch) {
        var isTouchOnTarget = function(checkTouch) {
          var target2 = checkTouch.target;
          return target2 === eventTarget || eventTarget.contains(target2) || e.composed && e.composedPath().shift() === eventTarget;
        };
        if (e.type === "touchstart") {
          var targetTouches = Array.prototype.filter.call(e.touches, isTouchOnTarget);
          if (targetTouches.length > 1) {
            return false;
          }
          x = targetTouches[0].pageX;
          y = targetTouches[0].pageY;
        } else {
          var targetTouch = Array.prototype.find.call(e.changedTouches, isTouchOnTarget);
          if (!targetTouch) {
            return false;
          }
          x = targetTouch.pageX;
          y = targetTouch.pageY;
        }
      }
      pageOffset = pageOffset || getPageOffset(scope_Document);
      if (mouse || pointer) {
        x = e.clientX + pageOffset.x;
        y = e.clientY + pageOffset.y;
      }
      e.pageOffset = pageOffset;
      e.points = [x, y];
      e.cursor = mouse || pointer;
      return e;
    }
    function calcPointToPercentage(calcPoint) {
      var location2 = calcPoint - offset(scope_Base, options.ort);
      var proposal = location2 * 100 / baseSize();
      proposal = limit(proposal);
      return options.dir ? 100 - proposal : proposal;
    }
    function getClosestHandle(clickedPosition) {
      var smallestDifference = 100;
      var handleNumber = false;
      scope_Handles.forEach(function(handle, index) {
        if (isHandleDisabled(index)) {
          return;
        }
        var handlePosition = scope_Locations[index];
        var differenceWithThisHandle = Math.abs(handlePosition - clickedPosition);
        var clickAtEdge = differenceWithThisHandle === 100 && smallestDifference === 100;
        var isCloser = differenceWithThisHandle < smallestDifference;
        var isCloserAfter = differenceWithThisHandle <= smallestDifference && clickedPosition > handlePosition;
        if (isCloser || isCloserAfter || clickAtEdge) {
          handleNumber = index;
          smallestDifference = differenceWithThisHandle;
        }
      });
      return handleNumber;
    }
    function documentLeave(event, data2) {
      if (event.type === "mouseout" && event.target.nodeName === "HTML" && event.relatedTarget === null) {
        eventEnd(event, data2);
      }
    }
    function eventMove(event, data2) {
      if (navigator.appVersion.indexOf("MSIE 9") === -1 && event.buttons === 0 && data2.buttonsProperty !== 0) {
        return eventEnd(event, data2);
      }
      var movement = (options.dir ? -1 : 1) * (event.calcPoint - data2.startCalcPoint);
      var proposal = movement * 100 / data2.baseSize;
      moveHandles(movement > 0, proposal, data2.locations, data2.handleNumbers, data2.connect);
    }
    function eventEnd(event, data2) {
      if (data2.handle) {
        removeClass(data2.handle, options.cssClasses.active);
        scope_ActiveHandlesCount -= 1;
      }
      data2.listeners.forEach(function(c) {
        scope_DocumentElement.removeEventListener(c[0], c[1]);
      });
      if (scope_ActiveHandlesCount === 0) {
        removeClass(scope_Target, options.cssClasses.drag);
        setZindex();
        if (event.cursor) {
          scope_Body.style.cursor = "";
          scope_Body.removeEventListener("selectstart", preventDefault);
        }
      }
      if (options.events.smoothSteps) {
        data2.handleNumbers.forEach(function(handleNumber) {
          setHandle(handleNumber, scope_Locations[handleNumber], true, true, false, false);
        });
        data2.handleNumbers.forEach(function(handleNumber) {
          fireEvent("update", handleNumber);
        });
      }
      data2.handleNumbers.forEach(function(handleNumber) {
        fireEvent("change", handleNumber);
        fireEvent("set", handleNumber);
        fireEvent("end", handleNumber);
      });
    }
    function eventStart(event, data2) {
      if (data2.handleNumbers.some(isHandleDisabled)) {
        return;
      }
      var handle;
      if (data2.handleNumbers.length === 1) {
        var handleOrigin = scope_Handles[data2.handleNumbers[0]];
        handle = handleOrigin.children[0];
        scope_ActiveHandlesCount += 1;
        addClass(handle, options.cssClasses.active);
      }
      event.stopPropagation();
      var listeners = [];
      var moveEvent = attachEvent(actions.move, scope_DocumentElement, eventMove, {
        // The event target has changed so we need to propagate the original one so that we keep
        // relying on it to extract target touches.
        target: event.target,
        handle,
        connect: data2.connect,
        listeners,
        startCalcPoint: event.calcPoint,
        baseSize: baseSize(),
        pageOffset: event.pageOffset,
        handleNumbers: data2.handleNumbers,
        buttonsProperty: event.buttons,
        locations: scope_Locations.slice()
      });
      var endEvent = attachEvent(actions.end, scope_DocumentElement, eventEnd, {
        target: event.target,
        handle,
        listeners,
        doNotReject: true,
        handleNumbers: data2.handleNumbers
      });
      var outEvent = attachEvent("mouseout", scope_DocumentElement, documentLeave, {
        target: event.target,
        handle,
        listeners,
        doNotReject: true,
        handleNumbers: data2.handleNumbers
      });
      listeners.push.apply(listeners, moveEvent.concat(endEvent, outEvent));
      if (event.cursor) {
        scope_Body.style.cursor = getComputedStyle(event.target).cursor;
        if (scope_Handles.length > 1) {
          addClass(scope_Target, options.cssClasses.drag);
        }
        scope_Body.addEventListener("selectstart", preventDefault, false);
      }
      data2.handleNumbers.forEach(function(handleNumber) {
        fireEvent("start", handleNumber);
      });
    }
    function eventTap(event) {
      event.stopPropagation();
      var proposal = calcPointToPercentage(event.calcPoint);
      var handleNumber = getClosestHandle(proposal);
      if (handleNumber === false) {
        return;
      }
      if (!options.events.snap) {
        addClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);
      }
      setHandle(handleNumber, proposal, true, true);
      setZindex();
      fireEvent("slide", handleNumber, true);
      fireEvent("update", handleNumber, true);
      if (!options.events.snap) {
        fireEvent("change", handleNumber, true);
        fireEvent("set", handleNumber, true);
      } else {
        eventStart(event, { handleNumbers: [handleNumber] });
      }
    }
    function eventHover(event) {
      var proposal = calcPointToPercentage(event.calcPoint);
      var to = scope_Spectrum.getStep(proposal);
      var value = scope_Spectrum.fromStepping(to);
      Object.keys(scope_Events).forEach(function(targetEvent) {
        if ("hover" === targetEvent.split(".")[0]) {
          scope_Events[targetEvent].forEach(function(callback) {
            callback.call(scope_Self, value);
          });
        }
      });
    }
    function eventKeydown(event, handleNumber) {
      if (isSliderDisabled() || isHandleDisabled(handleNumber)) {
        return false;
      }
      var horizontalKeys = ["Left", "Right"];
      var verticalKeys = ["Down", "Up"];
      var largeStepKeys = ["PageDown", "PageUp"];
      var edgeKeys = ["Home", "End"];
      if (options.dir && !options.ort) {
        horizontalKeys.reverse();
      } else if (options.ort && !options.dir) {
        verticalKeys.reverse();
        largeStepKeys.reverse();
      }
      var key = event.key.replace("Arrow", "");
      var isLargeDown = key === largeStepKeys[0];
      var isLargeUp = key === largeStepKeys[1];
      var isDown = key === verticalKeys[0] || key === horizontalKeys[0] || isLargeDown;
      var isUp = key === verticalKeys[1] || key === horizontalKeys[1] || isLargeUp;
      var isMin = key === edgeKeys[0];
      var isMax = key === edgeKeys[1];
      if (!isDown && !isUp && !isMin && !isMax) {
        return true;
      }
      event.preventDefault();
      var to;
      if (isUp || isDown) {
        var direction = isDown ? 0 : 1;
        var steps = getNextStepsForHandle(handleNumber);
        var step = steps[direction];
        if (step === null) {
          return false;
        }
        if (step === false) {
          step = scope_Spectrum.getDefaultStep(scope_Locations[handleNumber], isDown, options.keyboardDefaultStep);
        }
        if (isLargeUp || isLargeDown) {
          step *= options.keyboardPageMultiplier;
        } else {
          step *= options.keyboardMultiplier;
        }
        step = Math.max(step, 1e-7);
        step = (isDown ? -1 : 1) * step;
        to = scope_Values[handleNumber] + step;
      } else if (isMax) {
        to = options.spectrum.xVal[options.spectrum.xVal.length - 1];
      } else {
        to = options.spectrum.xVal[0];
      }
      setHandle(handleNumber, scope_Spectrum.toStepping(to), true, true);
      fireEvent("slide", handleNumber);
      fireEvent("update", handleNumber);
      fireEvent("change", handleNumber);
      fireEvent("set", handleNumber);
      return false;
    }
    function bindSliderEvents(behaviour) {
      if (!behaviour.fixed) {
        scope_Handles.forEach(function(handle, index) {
          attachEvent(actions.start, handle.children[0], eventStart, {
            handleNumbers: [index]
          });
        });
      }
      if (behaviour.tap) {
        attachEvent(actions.start, scope_Base, eventTap, {});
      }
      if (behaviour.hover) {
        attachEvent(actions.move, scope_Base, eventHover, {
          hover: true
        });
      }
      if (behaviour.drag) {
        scope_Connects.forEach(function(connect, index) {
          if (connect === false || index === 0 || index === scope_Connects.length - 1) {
            return;
          }
          var handleBefore = scope_Handles[index - 1];
          var handleAfter = scope_Handles[index];
          var eventHolders = [connect];
          var handlesToDrag = [handleBefore, handleAfter];
          var handleNumbersToDrag = [index - 1, index];
          addClass(connect, options.cssClasses.draggable);
          if (behaviour.fixed) {
            eventHolders.push(handleBefore.children[0]);
            eventHolders.push(handleAfter.children[0]);
          }
          if (behaviour.dragAll) {
            handlesToDrag = scope_Handles;
            handleNumbersToDrag = scope_HandleNumbers;
          }
          eventHolders.forEach(function(eventHolder) {
            attachEvent(actions.start, eventHolder, eventStart, {
              handles: handlesToDrag,
              handleNumbers: handleNumbersToDrag,
              connect
            });
          });
        });
      }
    }
    function bindEvent(namespacedEvent, callback) {
      scope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [];
      scope_Events[namespacedEvent].push(callback);
      if (namespacedEvent.split(".")[0] === "update") {
        scope_Handles.forEach(function(a, index) {
          fireEvent("update", index);
        });
      }
    }
    function isInternalNamespace(namespace) {
      return namespace === INTERNAL_EVENT_NS.aria || namespace === INTERNAL_EVENT_NS.tooltips;
    }
    function removeEvent(namespacedEvent) {
      var event = namespacedEvent && namespacedEvent.split(".")[0];
      var namespace = event ? namespacedEvent.substring(event.length) : namespacedEvent;
      Object.keys(scope_Events).forEach(function(bind) {
        var tEvent = bind.split(".")[0];
        var tNamespace = bind.substring(tEvent.length);
        if ((!event || event === tEvent) && (!namespace || namespace === tNamespace)) {
          if (!isInternalNamespace(tNamespace) || namespace === tNamespace) {
            delete scope_Events[bind];
          }
        }
      });
    }
    function fireEvent(eventName, handleNumber, tap) {
      Object.keys(scope_Events).forEach(function(targetEvent) {
        var eventType = targetEvent.split(".")[0];
        if (eventName === eventType) {
          scope_Events[targetEvent].forEach(function(callback) {
            callback.call(
              // Use the slider public API as the scope ('this')
              scope_Self,
              // Return values as array, so arg_1[arg_2] is always valid.
              scope_Values.map(options.format.to),
              // Handle index, 0 or 1
              handleNumber,
              // Un-formatted slider values
              scope_Values.slice(),
              // Event is fired by tap, true or false
              tap || false,
              // Left offset of the handle, in relation to the slider
              scope_Locations.slice(),
              // add the slider public API to an accessible parameter when this is unavailable
              scope_Self
            );
          });
        }
      });
    }
    function checkHandlePosition(reference, handleNumber, to, lookBackward, lookForward, getValue, smoothSteps) {
      var distance;
      if (scope_Handles.length > 1 && !options.events.unconstrained) {
        if (lookBackward && handleNumber > 0) {
          distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber - 1], options.margin, false);
          to = Math.max(to, distance);
        }
        if (lookForward && handleNumber < scope_Handles.length - 1) {
          distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber + 1], options.margin, true);
          to = Math.min(to, distance);
        }
      }
      if (scope_Handles.length > 1 && options.limit) {
        if (lookBackward && handleNumber > 0) {
          distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber - 1], options.limit, false);
          to = Math.min(to, distance);
        }
        if (lookForward && handleNumber < scope_Handles.length - 1) {
          distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber + 1], options.limit, true);
          to = Math.max(to, distance);
        }
      }
      if (options.padding) {
        if (handleNumber === 0) {
          distance = scope_Spectrum.getAbsoluteDistance(0, options.padding[0], false);
          to = Math.max(to, distance);
        }
        if (handleNumber === scope_Handles.length - 1) {
          distance = scope_Spectrum.getAbsoluteDistance(100, options.padding[1], true);
          to = Math.min(to, distance);
        }
      }
      if (!smoothSteps) {
        to = scope_Spectrum.getStep(to);
      }
      to = limit(to);
      if (to === reference[handleNumber] && !getValue) {
        return false;
      }
      return to;
    }
    function inRuleOrder(v, a) {
      var o = options.ort;
      return (o ? a : v) + ", " + (o ? v : a);
    }
    function moveHandles(upward, proposal, locations, handleNumbers, connect) {
      var proposals = locations.slice();
      var firstHandle = handleNumbers[0];
      var smoothSteps = options.events.smoothSteps;
      var b = [!upward, upward];
      var f = [upward, !upward];
      handleNumbers = handleNumbers.slice();
      if (upward) {
        handleNumbers.reverse();
      }
      if (handleNumbers.length > 1) {
        handleNumbers.forEach(function(handleNumber, o) {
          var to = checkHandlePosition(proposals, handleNumber, proposals[handleNumber] + proposal, b[o], f[o], false, smoothSteps);
          if (to === false) {
            proposal = 0;
          } else {
            proposal = to - proposals[handleNumber];
            proposals[handleNumber] = to;
          }
        });
      } else {
        b = f = [true];
      }
      var state = false;
      handleNumbers.forEach(function(handleNumber, o) {
        state = setHandle(handleNumber, locations[handleNumber] + proposal, b[o], f[o], false, smoothSteps) || state;
      });
      if (state) {
        handleNumbers.forEach(function(handleNumber) {
          fireEvent("update", handleNumber);
          fireEvent("slide", handleNumber);
        });
        if (connect != void 0) {
          fireEvent("drag", firstHandle);
        }
      }
    }
    function transformDirection(a, b) {
      return options.dir ? 100 - a - b : a;
    }
    function updateHandlePosition(handleNumber, to) {
      scope_Locations[handleNumber] = to;
      scope_Values[handleNumber] = scope_Spectrum.fromStepping(to);
      var translation = transformDirection(to, 0) - scope_DirOffset;
      var translateRule = "translate(" + inRuleOrder(translation + "%", "0") + ")";
      scope_Handles[handleNumber].style[options.transformRule] = translateRule;
      if (options.events.invertConnects && scope_Locations.length > 1) {
        var handlesAreInOrder = scope_Locations.every(function(position, index, locations) {
          return index === 0 || position >= locations[index - 1];
        });
        if (scope_ConnectsInverted !== !handlesAreInOrder) {
          invertConnects();
          return;
        }
      }
      updateConnect(handleNumber);
      updateConnect(handleNumber + 1);
      if (scope_ConnectsInverted) {
        updateConnect(handleNumber - 1);
        updateConnect(handleNumber + 2);
      }
    }
    function setZindex() {
      scope_HandleNumbers.forEach(function(handleNumber) {
        var dir = scope_Locations[handleNumber] > 50 ? -1 : 1;
        var zIndex = 3 + (scope_Handles.length + dir * handleNumber);
        scope_Handles[handleNumber].style.zIndex = String(zIndex);
      });
    }
    function setHandle(handleNumber, to, lookBackward, lookForward, exactInput, smoothSteps) {
      if (!exactInput) {
        to = checkHandlePosition(scope_Locations, handleNumber, to, lookBackward, lookForward, false, smoothSteps);
      }
      if (to === false) {
        return false;
      }
      updateHandlePosition(handleNumber, to);
      return true;
    }
    function updateConnect(index) {
      if (!scope_Connects[index]) {
        return;
      }
      var locations = scope_Locations.slice();
      if (scope_ConnectsInverted) {
        locations.sort(function(a, b) {
          return a - b;
        });
      }
      var l = 0;
      var h = 100;
      if (index !== 0) {
        l = locations[index - 1];
      }
      if (index !== scope_Connects.length - 1) {
        h = locations[index];
      }
      var connectWidth = h - l;
      var translateRule = "translate(" + inRuleOrder(transformDirection(l, connectWidth) + "%", "0") + ")";
      var scaleRule = "scale(" + inRuleOrder(connectWidth / 100, "1") + ")";
      scope_Connects[index].style[options.transformRule] = translateRule + " " + scaleRule;
    }
    function resolveToValue(to, handleNumber) {
      if (to === null || to === false || to === void 0) {
        return scope_Locations[handleNumber];
      }
      if (typeof to === "number") {
        to = String(to);
      }
      to = options.format.from(to);
      if (to !== false) {
        to = scope_Spectrum.toStepping(to);
      }
      if (to === false || isNaN(to)) {
        return scope_Locations[handleNumber];
      }
      return to;
    }
    function valueSet(input, fireSetEvent, exactInput) {
      var values = asArray(input);
      var isInit = scope_Locations[0] === void 0;
      fireSetEvent = fireSetEvent === void 0 ? true : fireSetEvent;
      if (options.animate && !isInit) {
        addClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);
      }
      scope_HandleNumbers.forEach(function(handleNumber) {
        setHandle(handleNumber, resolveToValue(values[handleNumber], handleNumber), true, false, exactInput);
      });
      var i = scope_HandleNumbers.length === 1 ? 0 : 1;
      if (isInit && scope_Spectrum.hasNoSize()) {
        exactInput = true;
        scope_Locations[0] = 0;
        if (scope_HandleNumbers.length > 1) {
          var space_1 = 100 / (scope_HandleNumbers.length - 1);
          scope_HandleNumbers.forEach(function(handleNumber) {
            scope_Locations[handleNumber] = handleNumber * space_1;
          });
        }
      }
      for (; i < scope_HandleNumbers.length; ++i) {
        scope_HandleNumbers.forEach(function(handleNumber) {
          setHandle(handleNumber, scope_Locations[handleNumber], true, true, exactInput);
        });
      }
      setZindex();
      scope_HandleNumbers.forEach(function(handleNumber) {
        fireEvent("update", handleNumber);
        if (values[handleNumber] !== null && fireSetEvent) {
          fireEvent("set", handleNumber);
        }
      });
    }
    function valueReset(fireSetEvent) {
      valueSet(options.start, fireSetEvent);
    }
    function valueSetHandle(handleNumber, value, fireSetEvent, exactInput) {
      handleNumber = Number(handleNumber);
      if (!(handleNumber >= 0 && handleNumber < scope_HandleNumbers.length)) {
        throw new Error("noUiSlider: invalid handle number, got: " + handleNumber);
      }
      setHandle(handleNumber, resolveToValue(value, handleNumber), true, true, exactInput);
      fireEvent("update", handleNumber);
      if (fireSetEvent) {
        fireEvent("set", handleNumber);
      }
    }
    function valueGet(unencoded) {
      if (unencoded === void 0) {
        unencoded = false;
      }
      if (unencoded) {
        return scope_Values.length === 1 ? scope_Values[0] : scope_Values.slice(0);
      }
      var values = scope_Values.map(options.format.to);
      if (values.length === 1) {
        return values[0];
      }
      return values;
    }
    function destroy() {
      removeEvent(INTERNAL_EVENT_NS.aria);
      removeEvent(INTERNAL_EVENT_NS.tooltips);
      Object.keys(options.cssClasses).forEach(function(key) {
        removeClass(scope_Target, options.cssClasses[key]);
      });
      while (scope_Target.firstChild) {
        scope_Target.removeChild(scope_Target.firstChild);
      }
      delete scope_Target.noUiSlider;
    }
    function getNextStepsForHandle(handleNumber) {
      var location2 = scope_Locations[handleNumber];
      var nearbySteps = scope_Spectrum.getNearbySteps(location2);
      var value = scope_Values[handleNumber];
      var increment = nearbySteps.thisStep.step;
      var decrement = null;
      if (options.snap) {
        return [
          value - nearbySteps.stepBefore.startValue || null,
          nearbySteps.stepAfter.startValue - value || null
        ];
      }
      if (increment !== false) {
        if (value + increment > nearbySteps.stepAfter.startValue) {
          increment = nearbySteps.stepAfter.startValue - value;
        }
      }
      if (value > nearbySteps.thisStep.startValue) {
        decrement = nearbySteps.thisStep.step;
      } else if (nearbySteps.stepBefore.step === false) {
        decrement = false;
      } else {
        decrement = value - nearbySteps.stepBefore.highestStep;
      }
      if (location2 === 100) {
        increment = null;
      } else if (location2 === 0) {
        decrement = null;
      }
      var stepDecimals = scope_Spectrum.countStepDecimals();
      if (increment !== null && increment !== false) {
        increment = Number(increment.toFixed(stepDecimals));
      }
      if (decrement !== null && decrement !== false) {
        decrement = Number(decrement.toFixed(stepDecimals));
      }
      return [decrement, increment];
    }
    function getNextSteps() {
      return scope_HandleNumbers.map(getNextStepsForHandle);
    }
    function updateOptions(optionsToUpdate, fireSetEvent) {
      var v = valueGet();
      var updateAble = [
        "margin",
        "limit",
        "padding",
        "range",
        "animate",
        "snap",
        "step",
        "format",
        "pips",
        "tooltips",
        "connect"
      ];
      updateAble.forEach(function(name2) {
        if (optionsToUpdate[name2] !== void 0) {
          originalOptions[name2] = optionsToUpdate[name2];
        }
      });
      var newOptions = testOptions(originalOptions);
      updateAble.forEach(function(name2) {
        if (optionsToUpdate[name2] !== void 0) {
          options[name2] = newOptions[name2];
        }
      });
      scope_Spectrum = newOptions.spectrum;
      options.margin = newOptions.margin;
      options.limit = newOptions.limit;
      options.padding = newOptions.padding;
      if (options.pips) {
        pips(options.pips);
      } else {
        removePips();
      }
      if (options.tooltips) {
        tooltips();
      } else {
        removeTooltips();
      }
      scope_Locations = [];
      valueSet(isSet(optionsToUpdate.start) ? optionsToUpdate.start : v, fireSetEvent);
      if (optionsToUpdate.connect) {
        updateConnectOption();
      }
    }
    function updateConnectOption() {
      while (scope_ConnectBase.firstChild) {
        scope_ConnectBase.removeChild(scope_ConnectBase.firstChild);
      }
      for (var i = 0; i <= options.handles; i++) {
        scope_Connects[i] = addConnect(scope_ConnectBase, options.connect[i]);
        updateConnect(i);
      }
      bindSliderEvents({ drag: options.events.drag, fixed: true });
    }
    function invertConnects() {
      scope_ConnectsInverted = !scope_ConnectsInverted;
      testConnect(
        options,
        // inverse the connect boolean array
        options.connect.map(function(b) {
          return !b;
        })
      );
      updateConnectOption();
    }
    function setupSlider() {
      scope_Base = addSlider(scope_Target);
      addElements(options.connect, scope_Base);
      bindSliderEvents(options.events);
      valueSet(options.start);
      if (options.pips) {
        pips(options.pips);
      }
      if (options.tooltips) {
        tooltips();
      }
      aria();
    }
    setupSlider();
    var scope_Self = {
      destroy,
      steps: getNextSteps,
      on: bindEvent,
      off: removeEvent,
      get: valueGet,
      set: valueSet,
      setHandle: valueSetHandle,
      reset: valueReset,
      disable,
      enable,
      // Exposed for unit testing, don't use this in your application.
      __moveHandles: function(upward, proposal, handleNumbers) {
        moveHandles(upward, proposal, scope_Locations, handleNumbers);
      },
      options: originalOptions,
      updateOptions,
      target: scope_Target,
      removePips,
      removeTooltips,
      getPositions: function() {
        return scope_Locations.slice();
      },
      getTooltips: function() {
        return scope_Tooltips;
      },
      getOrigins: function() {
        return scope_Handles;
      },
      pips
      // Issue #594
    };
    return scope_Self;
  }
  function initialize(target, originalOptions) {
    if (!target || !target.nodeName) {
      throw new Error("noUiSlider: create requires a single element, got: " + target);
    }
    if (target.noUiSlider) {
      throw new Error("noUiSlider: Slider was already initialized.");
    }
    var options = testOptions(originalOptions);
    var api = scope(target, options, originalOptions);
    target.noUiSlider = api;
    return api;
  }
  const noUiSlider = {
    // Exposed for unit testing, don't use this in your application.
    __spectrum: Spectrum,
    // A reference to the default classes, allows global changes.
    // Use the cssClasses option for changes to one slider.
    cssClasses,
    create: initialize
  };
  (() => {
    var Xe = Object.defineProperty;
    var Ze = (o, e, t) => e in o ? Xe(o, e, { enumerable: true, configurable: true, writable: true, value: t }) : o[e] = t;
    var u = (o, e, t) => (Ze(o, typeof e != "symbol" ? e + "" : e, t), t);
    var N = (o, e = "flex") => new Promise((t) => {
      o.style.opacity = "0", o.style.display = e, function n() {
        let r = parseFloat(o.style.opacity);
        if (r >= 1) {
          t();
          return;
        }
        let s = r + 0.1;
        o.style.opacity = s.toString(), requestAnimationFrame(n);
      }();
    }), U = (o) => new Promise((e) => {
      o.style.opacity = "1", function t() {
        let r = parseFloat(o.style.opacity) - 0.1;
        o.style.opacity = r.toString(), r <= 0 ? (o.style.display = "none", e()) : requestAnimationFrame(t);
      }();
    });
    var x = class {
      static activateAlerts() {
        this.alertsActivated = true;
      }
      static alert(e, t) {
        if (this.alertsActivated && window.alert(e), t === "error") throw new Error(e);
      }
    };
    u(x, "alertsActivated", false);
    var w = (o, e) => !!o && e.includes(o);
    var A = (o, e) => (Array.isArray(e) || (e = [e]), e.map((n) => o.dispatchEvent(new Event(n, { bubbles: true }))).every((n) => n));
    function pe(o, e, t, n = true) {
      let r = [t];
      if (!o) return r;
      let s = o.split(",").reduce((i, a) => {
        let c = a.trim();
        return (!n || c) && i.push(c), i;
      }, []);
      if (e) {
        let i = s.filter((a) => w(a, e));
        return i.length ? i : r;
      }
      return s;
    }
    var ue = (o) => Object.entries(o);
    var j = (o) => Object.keys(o);
    var Q = (o) => {
      let { overflow: e } = getComputedStyle(o);
      return e === "auto" || e === "scroll";
    };
    var Ae = (o) => !!(o.offsetWidth || o.offsetHeight || o.getClientRects().length);
    var y = (o, e, t = document) => {
      let n = t.querySelector(o);
      if (n instanceof e) return n;
    };
    var me = (o) => o.replace(/\/+$/, "");
    var X = (o, e = true) => (e !== o.checked && (o.checked = e, A(o, ["click", "input", "change"])), o.type === "checkbox" ? o.checked : o.value);
    var ke = (o) => new Promise((e) => setTimeout(e, o));
    var Z = class {
      constructor({ element: e, duration: t }) {
        u(this, "element");
        u(this, "active", false);
        u(this, "running", false);
        u(this, "runningPromise");
        u(this, "duration");
        u(this, "isActive", () => this.active);
        u(this, "isRunning", () => this.running);
        u(this, "untilFinished", () => this.runningPromise);
        var n, r;
        this.element = typeof e == "string" ? y(e, HTMLElement) || x.alert(`No interaction with the ${e} selector was found.`, "error") : e, this.duration = { first: typeof t == "number" ? t : (n = t == null ? void 0 : t.first) != null ? n : 0, second: typeof t == "number" ? t : (r = t == null ? void 0 : t.second) != null ? r : 0 };
      }
      async trigger(e) {
        return e === "first" && this.active || e === "second" && !this.active ? false : (e || (e = this.active ? "second" : "first"), A(this.element, "click"), this.running = true, this.runningPromise = ke(this.duration[e]), await this.runningPromise, this.running = false, this.active = e === "first", true);
      }
    };
    var k = class {
      constructor({ element: e, interaction: t, displayProperty: n, noTransition: r, startsHidden: s }) {
        u(this, "interaction");
        u(this, "noTransition");
        u(this, "displayProperty");
        u(this, "visible");
        u(this, "element");
        u(this, "isVisible", () => this.visible);
        if (this.element = typeof e == "string" ? y(e, HTMLElement) || x.alert(`No element with the ${e} selector was found.`, "error") : e, this.noTransition = r, this.displayProperty = n || "block", s ? (this.element.style.display = "none", this.visible = false) : this.visible = Ae(this.element), t) {
          let { element: i, duration: a } = t;
          this.interaction = new Z({ element: i, duration: a });
        }
      }
      async show() {
        this.visible || (this.interaction ? await this.interaction.trigger("first") : this.noTransition ? this.element.style.display = this.displayProperty : await N(this.element, this.displayProperty), this.visible = true);
      }
      async hide() {
        this.visible && (this.interaction ? await this.interaction.trigger("second") : this.noTransition ? this.element.style.display = "none" : await U(this.element), this.visible = false);
      }
    };
    u(k, "displayProperties", ["block", "flex", "grid", "inline-block", "inline"]);
    var he = (o = document) => o.documentElement.getAttribute("data-wf-site");
    var ye = async (o) => {
      var t, n;
      let { Webflow: e } = window;
      if (!(!e || !("destroy" in e) || !("ready" in e) || !("require" in e)) && !(o && !o.length)) {
        if (o || (e.destroy(), e.ready()), !o || o.includes("ix2")) {
          let r = e.require("ix2");
          if (r) {
            let { store: s, actions: i } = r, { eventState: a } = s.getState().ixSession, c = Object.entries(a);
            o || r.destroy(), r.init(), await Promise.all(c.map((l) => s.dispatch(i.eventStateChanged(...l))));
          }
        }
        if (!o || o.includes("commerce")) {
          let r = e.require("commerce"), s = he();
          r && s && (r.destroy(), r.init({ siteId: s, apiUrl: "https://render.webflow.com" }));
        }
        if (o != null && o.includes("lightbox") && ((t = e.require("lightbox")) == null || t.ready()), o != null && o.includes("slider")) {
          let r = e.require("slider");
          r && (r.redraw(), r.ready());
        }
        return o != null && o.includes("tabs") && ((n = e.require("tabs")) == null || n.redraw()), new Promise((r) => e.push(() => r(void 0)));
      }
    };
    function et2(o) {
      if (Array.isArray(o)) {
        for (var e = 0, t = Array(o.length); e < o.length; e++) t[e] = o[e];
        return t;
      } else return Array.from(o);
    }
    var be2 = false;
    typeof window != "undefined" && (ge = { get passive() {
      be2 = true;
    } }, window.addEventListener("testPassive", null, ge), window.removeEventListener("testPassive", null, ge));
    var ge, ee = typeof window != "undefined" && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === "MacIntel" && window.navigator.maxTouchPoints > 1), P = [], te = false, we = -1, R = void 0, M = void 0, B = void 0, Me = function(e) {
      return P.some(function(t) {
        return !!(t.options.allowTouchMove && t.options.allowTouchMove(e));
      });
    }, oe = function(e) {
      var t = e || window.event;
      return Me(t.target) || t.touches.length > 1 ? true : (t.preventDefault && t.preventDefault(), false);
    }, tt = function(e) {
      if (B === void 0) {
        var t = !!e && e.reserveScrollBarGap === true, n = window.innerWidth - document.documentElement.clientWidth;
        if (t && n > 0) {
          let r = parseInt(window.getComputedStyle(window.top.document.body).getPropertyValue("padding-right"), 10);
          B = window.top.document.body.style.paddingRight, window.top.document.body.style.paddingRight = `${r + n}px`;
        }
      }
      R === void 0 && (R = window.top.document.body.style.overflow, window.top.document.body.style.overflow = "hidden");
    }, ot = function() {
      B !== void 0 && (window.top.document.body.style.paddingRight = B, B = void 0), R !== void 0 && (window.top.document.body.style.overflow = R, R = void 0);
    }, nt = function() {
      return window.requestAnimationFrame(function() {
        if (M === void 0) {
          M = { position: window.top.body.style.position, top: window.top.body.style.top, left: window.top.body.style.left };
          let { scrollY: e, scrollX: t, innerHeight: n } = window;
          window.top.document.body.style.position = "fixed", window.top.document.body.style.top = `${-e}px`, window.top.document.body.style.left = `${-t}px`;
        }
      });
    }, rt = function() {
      if (M !== void 0) {
        let e = -parseInt(window.top.document.body.style.top, 10), t = -parseInt(window.top.document.body.style.left, 10);
        window.top.body.style.position = M.position, window.top.body.style.top = M.top, window.top.body.style.left = M.left, window.scrollTo(t, e), M = void 0;
      }
    }, it2 = function(e) {
      return e ? e.scrollHeight - e.scrollTop <= e.clientHeight : false;
    }, st = function(e, t) {
      var n = e.targetTouches[0].clientY - we;
      return Me(e.target) ? false : t && t.scrollTop === 0 && n > 0 || it2(t) && n < 0 ? oe(e) : (e.stopPropagation(), true);
    }, Ie = function(e, t) {
      if (!e) {
        console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");
        return;
      }
      if (!P.some(function(r) {
        return r.targetElement === e;
      })) {
        var n = { targetElement: e, options: t || {} };
        P = [].concat(et2(P), [n]), ee ? nt() : tt(t), ee && (e.ontouchstart = function(r) {
          r.targetTouches.length === 1 && (we = r.targetTouches[0].clientY);
        }, e.ontouchmove = function(r) {
          r.targetTouches.length === 1 && st(r, e);
        }, te || (document.addEventListener("touchmove", oe, be2 ? { passive: false } : void 0), te = true));
      }
    }, Pe = function() {
      ee && (P.forEach(function(e) {
        e.targetElement.ontouchstart = null, e.targetElement.ontouchmove = null;
      }), te && (document.removeEventListener("touchmove", oe, be2 ? { passive: false } : void 0), te = false), we = -1), ee ? rt() : ot(), P = [];
    };
    var v = /* @__PURE__ */ new WeakMap(), S = /* @__PURE__ */ new WeakMap(), b = /* @__PURE__ */ new WeakMap();
    var ie = Symbol("anyProducer"), Le = Promise.resolve(), se = Symbol("listenerAdded"), ae = Symbol("listenerRemoved"), ce = false, ve = false;
    function L(o) {
      if (typeof o != "string" && typeof o != "symbol" && typeof o != "number") throw new TypeError("`eventName` must be a string, symbol, or number");
    }
    function ne(o) {
      if (typeof o != "function") throw new TypeError("listener must be a function");
    }
    function $2(o, e) {
      let t = S.get(o);
      if (t.has(e)) return t.get(e);
    }
    function H(o, e) {
      let t = typeof e == "string" || typeof e == "symbol" || typeof e == "number" ? e : ie, n = b.get(o);
      if (n.has(t)) return n.get(t);
    }
    function at(o, e, t) {
      let n = b.get(o);
      if (n.has(e)) for (let r of n.get(e)) r.enqueue(t);
      if (n.has(ie)) {
        let r = Promise.all([e, t]);
        for (let s of n.get(ie)) s.enqueue(r);
      }
    }
    function $e(o, e) {
      e = Array.isArray(e) ? e : [e];
      let t = false, n = () => {
      }, r = [], s = { enqueue(i) {
        r.push(i), n();
      }, finish() {
        t = true, n();
      } };
      for (let i of e) {
        let a = H(o, i);
        a || (a = /* @__PURE__ */ new Set(), b.get(o).set(i, a)), a.add(s);
      }
      return { async next() {
        return r ? r.length === 0 ? t ? (r = void 0, this.next()) : (await new Promise((i) => {
          n = i;
        }), this.next()) : { done: false, value: await r.shift() } : { done: true };
      }, async return(i) {
        r = void 0;
        for (let a of e) {
          let c = H(o, a);
          c && (c.delete(s), c.size === 0 && b.get(o).delete(a));
        }
        return n(), arguments.length > 0 ? { done: true, value: await i } : { done: true };
      }, [Symbol.asyncIterator]() {
        return this;
      } };
    }
    function Fe(o) {
      if (o === void 0) return De;
      if (!Array.isArray(o)) throw new TypeError("`methodNames` must be an array of strings");
      for (let e of o) if (!De.includes(e)) throw typeof e != "string" ? new TypeError("`methodNames` element must be a string") : new Error(`${e} is not Emittery method`);
      return o;
    }
    var F = (o) => o === se || o === ae;
    function re(o, e, t) {
      if (F(e)) try {
        ce = true, o.emit(e, t);
      } finally {
        ce = false;
      }
    }
    var h = class o {
      static mixin(e, t) {
        return t = Fe(t), (n) => {
          if (typeof n != "function") throw new TypeError("`target` must be function");
          for (let i of t) if (n.prototype[i] !== void 0) throw new Error(`The property \`${i}\` already exists on \`target\``);
          function r() {
            return Object.defineProperty(this, e, { enumerable: false, value: new o() }), this[e];
          }
          Object.defineProperty(n.prototype, e, { enumerable: false, get: r });
          let s = (i) => function(...a) {
            return this[e][i](...a);
          };
          for (let i of t) Object.defineProperty(n.prototype, i, { enumerable: false, value: s(i) });
          return n;
        };
      }
      static get isDebugEnabled() {
        var t, n;
        if (typeof ((t = globalThis.process) == null ? void 0 : t.env) != "object") return ve;
        let { env: e } = (n = globalThis.process) != null ? n : { env: {} };
        return e.DEBUG === "emittery" || e.DEBUG === "*" || ve;
      }
      static set isDebugEnabled(e) {
        ve = e;
      }
      constructor(e = {}) {
        var t;
        v.set(this, /* @__PURE__ */ new Set()), S.set(this, /* @__PURE__ */ new Map()), b.set(this, /* @__PURE__ */ new Map()), b.get(this).set(ie, /* @__PURE__ */ new Set()), this.debug = (t = e.debug) != null ? t : {}, this.debug.enabled === void 0 && (this.debug.enabled = false), this.debug.logger || (this.debug.logger = (n, r, s, i) => {
          try {
            i = JSON.stringify(i);
          } catch {
            i = `Object with the following keys failed to stringify: ${Object.keys(i).join(",")}`;
          }
          (typeof s == "symbol" || typeof s == "number") && (s = s.toString());
          let a = /* @__PURE__ */ new Date(), c = `${a.getHours()}:${a.getMinutes()}:${a.getSeconds()}.${a.getMilliseconds()}`;
          console.log(`[${c}][emittery:${n}][${r}] Event Name: ${s}
	data: ${i}`);
        });
      }
      logIfDebugEnabled(e, t, n) {
        (o.isDebugEnabled || this.debug.enabled) && this.debug.logger(e, this.debug.name, t, n);
      }
      on(e, t) {
        ne(t), e = Array.isArray(e) ? e : [e];
        for (let n of e) {
          L(n);
          let r = $2(this, n);
          r || (r = /* @__PURE__ */ new Set(), S.get(this).set(n, r)), r.add(t), this.logIfDebugEnabled("subscribe", n, void 0), F(n) || re(this, se, { eventName: n, listener: t });
        }
        return this.off.bind(this, e, t);
      }
      off(e, t) {
        ne(t), e = Array.isArray(e) ? e : [e];
        for (let n of e) {
          L(n);
          let r = $2(this, n);
          r && (r.delete(t), r.size === 0 && S.get(this).delete(n)), this.logIfDebugEnabled("unsubscribe", n, void 0), F(n) || re(this, ae, { eventName: n, listener: t });
        }
      }
      once(e) {
        let t, n = new Promise((r) => {
          t = this.on(e, (s) => {
            t(), r(s);
          });
        });
        return n.off = t, n;
      }
      events(e) {
        e = Array.isArray(e) ? e : [e];
        for (let t of e) L(t);
        return $e(this, e);
      }
      async emit(e, t) {
        var a;
        if (L(e), F(e) && !ce) throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");
        this.logIfDebugEnabled("emit", e, t), at(this, e, t);
        let n = (a = $2(this, e)) != null ? a : /* @__PURE__ */ new Set(), r = v.get(this), s = [...n], i = F(e) ? [] : [...r];
        await Le, await Promise.all([...s.map(async (c) => {
          if (n.has(c)) return c(t);
        }), ...i.map(async (c) => {
          if (r.has(c)) return c(e, t);
        })]);
      }
      async emitSerial(e, t) {
        var a;
        if (L(e), F(e) && !ce) throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");
        this.logIfDebugEnabled("emitSerial", e, t);
        let n = (a = $2(this, e)) != null ? a : /* @__PURE__ */ new Set(), r = v.get(this), s = [...n], i = [...r];
        await Le;
        for (let c of s) n.has(c) && await c(t);
        for (let c of i) r.has(c) && await c(e, t);
      }
      onAny(e) {
        return ne(e), this.logIfDebugEnabled("subscribeAny", void 0, void 0), v.get(this).add(e), re(this, se, { listener: e }), this.offAny.bind(this, e);
      }
      anyEvent() {
        return $e(this);
      }
      offAny(e) {
        ne(e), this.logIfDebugEnabled("unsubscribeAny", void 0, void 0), re(this, ae, { listener: e }), v.get(this).delete(e);
      }
      clearListeners(e) {
        e = Array.isArray(e) ? e : [e];
        for (let t of e) if (this.logIfDebugEnabled("clear", t, void 0), typeof t == "string" || typeof t == "symbol" || typeof t == "number") {
          let n = $2(this, t);
          n && n.clear();
          let r = H(this, t);
          if (r) {
            for (let s of r) s.finish();
            r.clear();
          }
        } else {
          v.get(this).clear();
          for (let [n, r] of S.get(this).entries()) r.clear(), S.get(this).delete(n);
          for (let [n, r] of b.get(this).entries()) {
            for (let s of r) s.finish();
            r.clear(), b.get(this).delete(n);
          }
        }
      }
      listenerCount(e) {
        var n, r, s, i, a, c;
        e = Array.isArray(e) ? e : [e];
        let t = 0;
        for (let l of e) {
          if (typeof l == "string") {
            t += v.get(this).size + ((r = (n = $2(this, l)) == null ? void 0 : n.size) != null ? r : 0) + ((i = (s = H(this, l)) == null ? void 0 : s.size) != null ? i : 0) + ((c = (a = H(this)) == null ? void 0 : a.size) != null ? c : 0);
            continue;
          }
          typeof l != "undefined" && L(l), t += v.get(this).size;
          for (let p of S.get(this).values()) t += p.size;
          for (let p of b.get(this).values()) t += p.size;
        }
        return t;
      }
      bindMethods(e, t) {
        if (typeof e != "object" || e === null) throw new TypeError("`target` must be an object");
        t = Fe(t);
        for (let n of t) {
          if (e[n] !== void 0) throw new Error(`The property \`${n}\` already exists on \`target\``);
          Object.defineProperty(e, n, { enumerable: false, value: this[n].bind(this) });
        }
      }
    }, De = Object.getOwnPropertyNames(h.prototype).filter((o) => o !== "constructor");
    Object.defineProperty(h, "listenerAdded", { value: se, writable: false, enumerable: true, configurable: false });
    Object.defineProperty(h, "listenerRemoved", { value: ae, writable: false, enumerable: true, configurable: false });
    var ct = ["essential"], Ce = ["personalization", "analytics", "marketing"], Ee = "uncategorized", le = [...ct, ...Ce, Ee], f = "fs-cc", _e = ["informational", "opt-in", "opt-out"], K = { allow: "allow", deny: "deny", submit: "submit" }, C = { banner: `[${f}="banner"]`, preferences: `[${f}="preferences"]`, manager: `[${f}="manager"]` }, T = { allow: `[${f}="${K.allow}"]`, deny: `[${f}="${K.deny}"]`, submit: `[${f}="${K.submit}"]`, openPreferences: `[${f}="open-preferences"]`, close: `[${f}="close"]` }, xe = { interactionTrigger: `[${f}="interaction"]` }, m = { categories: [`${f}-category`, `${f}-categories`], disableScroll: `${f}-scroll`, displayProperty: `${f}-display`, cookieMaxAge: `${f}-expires`, mode: `${f}-mode`, debugMode: `${f}-debug`, endpoint: `${f}-endpoint`, componentsSource: `${f}-source`, src: `${f}-src`, placeholder: `${f}-placeholder`, domain: `${f}-domain`, consentMode: `${f}-consentmode` }, D = { main: f, consentsUpdated: `${f}-updated` };
    var _ = { checkbox: (o) => `[${f}-checkbox="${o}"]`, gtmEvent: (o) => `${o}-activated` };
    var Ne = `<style>${C.banner},${C.manager},${C.preferences},${xe.interactionTrigger}{display:none}</style>`;
    var lt = { info: "green", warning: "yellow", error: "red" }, d = class {
      static activate() {
        this.init(), this.active = true;
      }
      static init() {
        this.element = document.createElement("div"), Object.assign(this.element.style, { position: "fixed", left: "auto", top: "auto", right: "16px", bottom: "0px", "z-index": "999999", "max-width": "320px", "font-size": "14px", "line-height": "1.25" }), document.body.appendChild(this.element);
      }
      static alert(e, t) {
        if (!this.active) return;
        let n = document.createElement("div");
        Object.assign(n.style, { position: "relative", padding: "16px", opacity: "0", "margin-bottom": "16px", "border-left": `4px solid ${lt[t]}`, "background-color": "#fff", "box-shadow": "1px 1px 3px 0 rgba(0, 0, 0, 0.1)", "word-break": "break-all" });
        let r = document.createElement("div");
        r.innerText = e, n.appendChild(r), n.insertAdjacentHTML("beforeend", `<div ${f}="close" style="position: absolute; left: auto; top: 4px; right: 8px; bottom: auto; cursor: pointer">✖</div>`), this.handleCard(n);
      }
      static handleCard(e) {
        let t = (n) => {
          n.target instanceof Element && n.target.closest(T.close) && (e.removeEventListener("click", t), e.remove());
        };
        e.addEventListener("click", t), this.element.insertAdjacentElement("afterbegin", e), N(e);
      }
    };
    d.active = false;
    var de2 = Object.freeze({ analytics: false, essential: true, marketing: false, personalization: false, uncategorized: false }), q = Object.freeze({ analytics: true, essential: true, marketing: true, personalization: true, uncategorized: true }), Ue = "180";
    var z = class {
      constructor() {
        this.confirmed = false;
        this.bannerText = "empty";
        this.scripts = [];
        this.iFrames = [];
        this.userHasConfirmed = () => this.confirmed;
        this.getStoredElements = () => [...this.scripts, ...this.iFrames];
        this.getActivableElements = () => this.getStoredElements().filter(({ active: e2, categories: t2 }) => !e2 && t2.every((n2) => this.consents[n2]));
        this.getConsents = () => this.consents;
        this.getConsentsEntries = () => ue(this.consents);
        this.getConsent = (e2) => this.consents[e2];
        this.getBannerText = () => this.bannerText;
        let { currentScript: e } = document, t = e == null ? void 0 : e.getAttribute(m.mode);
        switch (this.mode = w(t, _e) ? t : "opt-in", this.mode) {
          case "informational":
          case "opt-out":
            this.consents = { ...q };
            break;
          default:
            this.consents = { ...de2 };
        }
        this.cookieMaxAge = parseInt((e == null ? void 0 : e.getAttribute(m.cookieMaxAge)) || Ue);
        let n = e == null ? void 0 : e.getAttribute(m.debugMode);
        this.debugMode = n === "" || n === "true", this.debugMode && d.activate();
        let r = e == null ? void 0 : e.getAttribute(m.consentMode);
        this.consentMode = r === "true", this.endpoint = e == null ? void 0 : e.getAttribute(m.endpoint), this.componentsSource = e == null ? void 0 : e.getAttribute(m.componentsSource), this.domain = e == null ? void 0 : e.getAttribute(m.domain), d.alert(`The cookie banner is set to ${this.mode} mode with a consent expiry time of ${this.cookieMaxAge} days.${this.endpoint ? `The consents will be POSTed to ${this.endpoint}` : ""}`, "info");
      }
      storeScript(e) {
        this.scripts.push({ ...e, type: "script" });
      }
      storeIFrame(e) {
        this.iFrames.push({ ...e, type: "iframe" });
      }
      storeConsents(e) {
        let t = [];
        return j(e).forEach((n) => {
          if (n === "essential") return;
          let r = e[n];
          r === void 0 || r === this.consents[n] || (this.consents[n] = r, t.push(n));
        }), this.confirmed = true, t;
      }
      storeBannerText(e) {
        e && e.textContent && (this.bannerText = e.textContent);
      }
    };
    var je = async (o) => {
      let { origin: e, pathname: t, href: n } = window.location, { origin: r, pathname: s, href: i } = new URL(document.baseURI);
      try {
        if (o.startsWith("/")) {
          let g = i === n ? e : r + s;
          o = me(g) + o;
        }
        let { origin: a, pathname: c } = new URL(o);
        if (a + c === e + t) return;
        let p = await (await fetch(o)).text(), G = new DOMParser().parseFromString(p, "text/html");
        Object.values(C).forEach((g) => {
          let J = G.querySelector(g);
          J && document.body.appendChild(J);
        }), ye(["ix2"]);
      } catch (a) {
        d.alert(`${a}`, "error");
      }
    }, Re = (o) => {
      if (Q(o)) return o;
      let e = o.querySelectorAll("*");
      for (let t of e) if (Q(t)) return t;
    }, Be = ({ element: o }) => {
      let e = document.createElement("script");
      return e.type = "text/javascript", e.innerText = o.innerText, e.text = o.text, o.src && (e.src = o.src), e;
    }, He = ({ element: o, src: e, placeholder: t }) => {
      let n = document.createElement("iframe");
      for (let { name: r, value: s } of o.attributes) n.setAttribute(r, s);
      return n.innerText = o.innerText, n.src = e, t && n.addEventListener("load", () => U(t)), n;
    };
    var W = class extends h {
      constructor(t, n) {
        super();
        this.element = t;
        this.store = n;
        this.checkboxes = /* @__PURE__ */ new Map();
        this.initElements(), this.listenEvents(), this.updateCheckboxes();
      }
      initElements() {
        let t = Ce.filter((n) => {
          let r = _.checkbox(n), s = this.element.querySelector(`input${r}, ${r} input`);
          return !s || s.type !== "checkbox" ? true : (s.checked && X(s, false), this.checkboxes.set(n, s), false);
        });
        t.length && d.alert(`The Consents Form is missing the following checkboxes: ${t.map((n) => _.checkbox(n)).join(", ")}.`, "warning");
      }
      listenEvents() {
        this.element.addEventListener("submit", (t) => this.handleSubmit(t));
      }
      handleSubmit(t) {
        t.preventDefault(), t.stopPropagation();
        let n = {};
        this.checkboxes.forEach((r, s) => {
          var i;
          n[s] = (i = r.checked) != null ? i : false;
        }), this.emit("submit", n);
      }
      updateCheckboxes() {
        let t = this.store.getConsents();
        this.checkboxes.forEach((n, r) => {
          !!t[r] !== n.checked && X(n, t[r]);
        });
      }
      submit() {
        A(this.element, "submit");
      }
    };
    var I = class extends h {
      constructor(t, n) {
        super();
        this.selector = t;
        this.store = n;
        this.disableScrollOnOpen = false;
        this.ready = false;
        this.isReady = () => this.ready;
        document.readyState === "complete" ? this.init() : window.addEventListener("load", () => this.init());
      }
      init() {
        let { banner: t, manager: n, preferences: r } = C;
        if (!this.initElements()) {
          switch (this.selector) {
            case t:
              d.alert(`No element with the ${t} attribute was found, it is required to have it!`, "error");
              break;
            case n:
              d.alert(`No element with the ${n} attribute was found, did you want to use the Manager component?`, "info");
              break;
            case r:
              d.alert(`No element with the ${r} attribute was found, did you want to use the Preferences component?`, "info");
              break;
          }
          return;
        }
        this.handleAccessibility(), this.listenEvents(), this.ready = true, this.emit("ready", this.element);
      }
      initElements() {
        this.element = y(this.selector, HTMLElement);
        let { element: t, store: n } = this;
        if (!t) return false;
        let r = y("form", HTMLFormElement, t);
        r && (this.form = new W(r, n));
        let s = t.getAttribute(m.displayProperty);
        this.disableScrollOnOpen = t.getAttribute(m.disableScroll) === "disable", this.disableScrollOnOpen && (this.scrollableElement = Re(t));
        let i = y(xe.interactionTrigger, HTMLElement, t);
        return this.displayController = new k({ element: t, interaction: i ? { element: i } : void 0, displayProperty: w(s, k.displayProperties) ? s : "flex", startsHidden: true }), true;
      }
      handleAccessibility() {
        let { element: t } = this;
        t && j(T).forEach((n) => {
          let r = t.querySelector(T[n]);
          r && (r.setAttribute("role", "button"), r.setAttribute("tabindex", "0"));
        });
      }
      listenEvents() {
        let { element: t, form: n } = this;
        t && (t.addEventListener("click", (r) => this.handleMouseAndKeyboard(r)), t.addEventListener("keydown", (r) => this.handleMouseAndKeyboard(r)), n == null || n.on("submit", (r) => this.handleFormSubmit(r)));
      }
      handleMouseAndKeyboard(t) {
        var c;
        let { target: n } = t, { allow: r, deny: s, close: i, submit: a } = T;
        n instanceof Element && ("key" in t && t.key !== "Enter" || (n.closest(r) ? (this.emit("allow"), this.close()) : n.closest(s) ? (this.emit("deny"), this.close()) : n.closest(i) ? this.close() : n.closest(a) && ((c = this.form) == null || c.submit())));
      }
      handleFormSubmit(t) {
        this.emit("formsubmit", t), this.close();
      }
      show(t = true) {
        let { element: n, displayController: r, disableScrollOnOpen: s, scrollableElement: i } = this;
        !n || !r || r.isVisible() === t || (r[t ? "show" : "hide"](), s && (t ? Ie(i || n, { reserveScrollBarGap: true }) : Pe()), this.emit(t ? "open" : "close"));
      }
      open() {
        this.ready ? this.show() : this.once("ready").then(() => this.show());
      }
      close() {
        this.ready ? this.show(false) : this.once("ready").then(() => this.show(false));
      }
    };
    var Ke = (o = 21) => crypto.getRandomValues(new Uint8Array(o)).reduce((e, t) => (t &= 63, t < 36 ? e += t.toString(36) : t < 62 ? e += (t - 26).toString(36).toUpperCase() : t > 62 ? e += "-" : e += "_", e), "");
    var qe = async ({ id: o, endpoint: e, consents: t, action: n, bannerText: r }) => {
      if (e) try {
        let s = JSON.stringify({ id: o, action: n, consents: t, bannerText: r, url: window.location.href, userAgent: navigator.userAgent }), i = await fetch(e, { body: s, method: "POST" });
        if (i.ok) d.alert("The new consents were successfully POSTed to the API endpoint.", "info");
        else throw new Error(`The API returned a ${i.status} status.`);
      } catch (s) {
        d.alert(`There was an error while POSTing to the API: ${s}`, "error");
      }
    };
    function fe(o) {
      for (var e = 1; e < arguments.length; e++) {
        var t = arguments[e];
        for (var n in t) o[n] = t[n];
      }
      return o;
    }
    var dt = { read: function(o) {
      return o[0] === '"' && (o = o.slice(1, -1)), o.replace(/(%[\dA-F]{2})+/gi, decodeURIComponent);
    }, write: function(o) {
      return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent);
    } };
    function Se(o, e) {
      function t(r, s, i) {
        if (typeof document != "undefined") {
          i = fe({}, e, i), typeof i.expires == "number" && (i.expires = new Date(Date.now() + i.expires * 864e5)), i.expires && (i.expires = i.expires.toUTCString()), r = encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);
          var a = "";
          for (var c in i) i[c] && (a += "; " + c, i[c] !== true && (a += "=" + i[c].split(";")[0]));
          return document.cookie = r + "=" + o.write(s, r) + a;
        }
      }
      function n(r) {
        if (!(typeof document == "undefined" || arguments.length && !r)) {
          for (var s = document.cookie ? document.cookie.split("; ") : [], i = {}, a = 0; a < s.length; a++) {
            var c = s[a].split("="), l = c.slice(1).join("=");
            try {
              var p = decodeURIComponent(c[0]);
              if (i[p] = o.read(l, p), r === p) break;
            } catch {
            }
          }
          return r ? i[r] : i;
        }
      }
      return Object.create({ set: t, get: n, remove: function(r, s) {
        t(r, "", fe({}, s, { expires: -1 }));
      }, withAttributes: function(r) {
        return Se(this.converter, fe({}, this.attributes, r));
      }, withConverter: function(r) {
        return Se(fe({}, this.converter, r), this.attributes);
      } }, { attributes: { value: Object.freeze(e) }, converter: { value: Object.freeze(o) } });
    }
    var E = Se(dt, { path: "/" });
    var ze = (o) => Object.keys(o).every((e) => w(e, le));
    var We = (o) => {
      if (!o) return;
      let { hostname: e } = window.location;
      return e.includes("webflow.io") ? e : o;
    }, Ve = () => {
      let o = E.get(D.main);
      if (!o) return;
      let e = JSON.parse(decodeURIComponent(o));
      if (e.consents && ze(e.consents)) return e.consents;
    }, Ye = (o, e, t = 120, n) => {
      let s = encodeURIComponent(JSON.stringify({ id: o, consents: e }));
      n = We(n), E.set(D.main, s, { expires: t, domain: n });
    }, Ge = () => {
      let o = E.get();
      for (let e in o) {
        if (e === D.main) continue;
        let t = window.location.host.split(".");
        for (; t.length > 1; ) E.remove(e), E.remove(e, { domain: `.${t.join(".")}` }), E.remove(e, { domain: `${t.join(".")}` }), t.splice(0, 1);
      }
    }, Je = () => !!E.get(D.consentsUpdated), Qe = (o = 120, e) => {
      e = We(e), E.set(D.consentsUpdated, "true", { expires: o, domain: e });
    };
    var Te = (o, e) => {
      ft("consent", o, e);
    }, Oe = (o) => {
      window.dataLayer = window.dataLayer || [], !window.dataLayer.find((t) => typeof t == "object" && "event" in t && t.event === o) && (window.dataLayer.push({ event: o }), d.alert(`The GTM event ${o} has been fired with its equivalent consent mode.`, "info"));
    };
    function ft(...o) {
      window.dataLayer = window.dataLayer || [], window.dataLayer.push(arguments);
    }
    var V = class extends h {
      constructor(t) {
        super();
        this.store = t;
        this.loadConsents(), this.storeElements(), document.readyState !== "complete" && window.addEventListener("load", () => {
          this.storeElements(), this.applyConsents();
        }), this.applyConsents();
      }
      storeElements() {
        let { store: t } = this, n = document.querySelectorAll(`script[type="${f}"], iframe[${m.src}]`), r = t.getStoredElements();
        [...n].filter((i) => !r.find(({ element: a }) => i === a)).forEach((i) => {
          let a = pe(i.getAttribute(m.categories[0]) || i.getAttribute(m.categories[1]), le, Ee);
          if (i instanceof HTMLScriptElement && t.storeScript({ categories: a, element: i, active: false }), i instanceof HTMLIFrameElement) {
            let c = i.getAttribute(m.src);
            if (!c) return;
            i.src = "";
            let l = i.getAttribute(m.placeholder), p = l ? y(l, HTMLElement) : void 0;
            t.storeIFrame({ categories: a, element: i, src: c, placeholder: p, active: false });
          }
          d.alert(`Stored the element: ${i.outerHTML} in the categories: ${a.join(", ")}`, "info");
        });
      }
      loadConsents() {
        let t = Ve();
        if (this.store.consentMode && Te("default", { ad_storage: t != null && t.marketing ? "granted" : "denied", ad_user_data: t != null && t.marketing ? "granted" : "denied", ad_personalization: t != null && t.marketing ? "granted" : "denied", analytics_storage: t != null && t.analytics ? "granted" : "denied", functionality_storage: t != null && t.personalization ? "granted" : "denied", personalization_storage: t != null && t.personalization ? "granted" : "denied", security_storage: "granted" }), !t) return;
        for (let r in t || {}) {
          let s = r;
          if (t[s]) {
            let a = _.gtmEvent(s);
            Oe(a);
          }
        }
        d.alert(`The following consents were loaded from the stored cookies: ${JSON.stringify(t)}`, "info"), this.store.storeConsents(t), Je() && (Ge(), d.alert("Previously denied cookies have been deleted.", "info"));
      }
      async applyConsents() {
        for (let t of this.store.getActivableElements()) await new Promise((n) => {
          let { element: r } = t, { src: s, parentElement: i } = r, a;
          if (t.type === "script") a = Be(t);
          else if (t.type === "iframe") a = He(t);
          else {
            n(void 0);
            return;
          }
          let c = () => {
            t.element = a, t.active = true, n(void 0);
          };
          s && a.addEventListener("load", c), i == null || i.insertBefore(a, r), r.remove(), s || c();
        });
      }
      updateConsents(t, n) {
        let { store: r } = this, { cookieMaxAge: s, endpoint: i, domain: a } = r, c = r.storeConsents(t), l = Ke();
        Ye(l, r.getConsents(), s, a);
        let p = {};
        for (let O of c) {
          let G = t[O], g = G ? "granted" : "denied";
          if (O === "marketing" && (p.ad_storage = g, p.ad_user_data = g, p.ad_personalization = g), O === "analytics" && (p.analytics_storage = g), O === "personalization" && (p.functionality_storage = g, p.personalization_storage = g), G) {
            let J = _.gtmEvent(O);
            Oe(J);
          }
        }
        r.consentMode && Te("update", p), i && qe({ action: n, endpoint: i, id: l, consents: r.getConsents(), bannerText: r.getBannerText() || "" }), c.length && (Qe(s, a), this.applyConsents(), d.alert(`The following consents were updated: ${c.join(", ")}`, "info")), this.emit("updateconsents");
      }
    };
    var Y = class {
      constructor(e = []) {
        this.store = new z();
        this.consentController = new V(this.store), this.initComponents().then(() => this.init(e));
      }
      async initComponents() {
        let { store: e } = this, { componentsSource: t } = e, { banner: n, preferences: r, manager: s } = C;
        t && await je(t), this.banner = new I(n, e), this.preferences = new I(r, e), this.manager = new I(s, e);
      }
      init(e = []) {
        let { store: t, manager: n, banner: r } = this;
        document.head.insertAdjacentHTML("beforeend", Ne), !/bot|crawler|spider|crawling/i.test(navigator.userAgent) && (this.push(...e), t.userHasConfirmed() ? n.open() : r.open(), this.listenEvents());
      }
      listenEvents() {
        let { allow: e, deny: t, submit: n } = K, r = ["banner", "manager", "preferences"], { store: s, consentController: i, banner: a, manager: c } = this;
        document.addEventListener("click", (l) => this.handleMouseAndKeyboard(l)), document.addEventListener("keydown", (l) => this.handleMouseAndKeyboard(l)), a.isReady() ? s.storeBannerText(a.element) : a.on("ready", (l) => s.storeBannerText(l)), i.on("updateconsents", () => {
          r.forEach((l) => {
            var p;
            return (p = this[l].form) == null ? void 0 : p.updateCheckboxes();
          });
        }), r.forEach((l) => {
          this[l].on("allow", () => {
            d.alert(`Allow button was clicked in the ${l} component.`, "info"), i.updateConsents(q, e);
          }), this[l].on("deny", () => {
            d.alert(`Deny button was clicked in the ${l} component.`, "info"), i.updateConsents(de2, t);
          }), this[l].on("formsubmit", (p) => {
            d.alert(`Consents Form was submitted in the ${l} component with the following consents: ${JSON.stringify(p)}`, "info"), i.updateConsents(p, n);
          }), l !== "manager" && this[l].on("close", () => {
            d.alert(`The ${l} component was closed.`, "info"), s.mode === "informational" && (d.alert(`All cookies were accepted because the mode is set to ${s.mode}.`, "warning"), i.updateConsents(q, e)), c.open();
          });
        });
      }
      handleMouseAndKeyboard(e) {
        let { target: t } = e, { banner: n, manager: r, preferences: s } = this;
        t instanceof Element && ("key" in e && e.key !== "Enter" || t.closest(T.openPreferences) && (n.close(), r.close(), s.open(), d.alert("Open Preferences button was clicked.", "info")));
      }
      push(...e) {
        e.forEach((t) => t(this));
      }
    };
    var pt = Array.isArray(window.FsCC) ? window.FsCC : [];
    window.FsCC = new Y(pt);
  })();
  /*! Bundled license information:
  
    js-cookie/dist/js.cookie.mjs:
      (*! js-cookie v3.0.5 | MIT *)
    */
  var uaParser = { exports: {} };
  (function(module, exports) {
    (function(window2, undefined$1) {
      var LIBVERSION = "1.0.39", EMPTY = "", UNKNOWN = "?", FUNC_TYPE = "function", UNDEF_TYPE = "undefined", OBJ_TYPE = "object", STR_TYPE = "string", MAJOR = "major", MODEL = "model", NAME = "name", TYPE = "type", VENDOR = "vendor", VERSION = "version", ARCHITECTURE = "architecture", CONSOLE = "console", MOBILE = "mobile", TABLET = "tablet", SMARTTV = "smarttv", WEARABLE = "wearable", EMBEDDED = "embedded", UA_MAX_LENGTH = 500;
      var AMAZON = "Amazon", APPLE = "Apple", ASUS = "ASUS", BLACKBERRY = "BlackBerry", BROWSER = "Browser", CHROME = "Chrome", EDGE = "Edge", FIREFOX = "Firefox", GOOGLE = "Google", HUAWEI = "Huawei", LG = "LG", MICROSOFT = "Microsoft", MOTOROLA = "Motorola", OPERA = "Opera", SAMSUNG = "Samsung", SHARP = "Sharp", SONY = "Sony", XIAOMI = "Xiaomi", ZEBRA = "Zebra", FACEBOOK = "Facebook", CHROMIUM_OS = "Chromium OS", MAC_OS = "Mac OS", SUFFIX_BROWSER = " Browser";
      var extend = function(regexes2, extensions) {
        var mergedRegexes = {};
        for (var i in regexes2) {
          if (extensions[i] && extensions[i].length % 2 === 0) {
            mergedRegexes[i] = extensions[i].concat(regexes2[i]);
          } else {
            mergedRegexes[i] = regexes2[i];
          }
        }
        return mergedRegexes;
      }, enumerize = function(arr) {
        var enums = {};
        for (var i = 0; i < arr.length; i++) {
          enums[arr[i].toUpperCase()] = arr[i];
        }
        return enums;
      }, has = function(str1, str2) {
        return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;
      }, lowerize = function(str) {
        return str.toLowerCase();
      }, majorize = function(version) {
        return typeof version === STR_TYPE ? version.replace(/[^\d\.]/g, EMPTY).split(".")[0] : undefined$1;
      }, trim = function(str, len) {
        if (typeof str === STR_TYPE) {
          str = str.replace(/^\s\s*/, EMPTY);
          return typeof len === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);
        }
      };
      var rgxMapper = function(ua, arrays) {
        var i = 0, j, k, p, q, matches, match;
        while (i < arrays.length && !matches) {
          var regex = arrays[i], props = arrays[i + 1];
          j = k = 0;
          while (j < regex.length && !matches) {
            if (!regex[j]) {
              break;
            }
            matches = regex[j++].exec(ua);
            if (!!matches) {
              for (p = 0; p < props.length; p++) {
                match = matches[++k];
                q = props[p];
                if (typeof q === OBJ_TYPE && q.length > 0) {
                  if (q.length === 2) {
                    if (typeof q[1] == FUNC_TYPE) {
                      this[q[0]] = q[1].call(this, match);
                    } else {
                      this[q[0]] = q[1];
                    }
                  } else if (q.length === 3) {
                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {
                      this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined$1;
                    } else {
                      this[q[0]] = match ? match.replace(q[1], q[2]) : undefined$1;
                    }
                  } else if (q.length === 4) {
                    this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined$1;
                  }
                } else {
                  this[q] = match ? match : undefined$1;
                }
              }
            }
          }
          i += 2;
        }
      }, strMapper = function(str, map) {
        for (var i in map) {
          if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {
            for (var j = 0; j < map[i].length; j++) {
              if (has(map[i][j], str)) {
                return i === UNKNOWN ? undefined$1 : i;
              }
            }
          } else if (has(map[i], str)) {
            return i === UNKNOWN ? undefined$1 : i;
          }
        }
        return map.hasOwnProperty("*") ? map["*"] : str;
      };
      var oldSafariMap = {
        "1.0": "/8",
        "1.2": "/1",
        "1.3": "/3",
        "2.0": "/412",
        "2.0.2": "/416",
        "2.0.3": "/417",
        "2.0.4": "/419",
        "?": "/"
      }, windowsVersionMap = {
        "ME": "4.90",
        "NT 3.11": "NT3.51",
        "NT 4.0": "NT4.0",
        "2000": "NT 5.0",
        "XP": ["NT 5.1", "NT 5.2"],
        "Vista": "NT 6.0",
        "7": "NT 6.1",
        "8": "NT 6.2",
        "8.1": "NT 6.3",
        "10": ["NT 6.4", "NT 10.0"],
        "RT": "ARM"
      };
      var regexes = {
        browser: [
          [
            /\b(?:crmo|crios)\/([\w\.]+)/i
            // Chrome for Android/iOS
          ],
          [VERSION, [NAME, "Chrome"]],
          [
            /edg(?:e|ios|a)?\/([\w\.]+)/i
            // Microsoft Edge
          ],
          [VERSION, [NAME, "Edge"]],
          [
            // Presto based
            /(opera mini)\/([-\w\.]+)/i,
            // Opera Mini
            /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,
            // Opera Mobi/Tablet
            /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i
            // Opera
          ],
          [NAME, VERSION],
          [
            /opios[\/ ]+([\w\.]+)/i
            // Opera mini on iphone >= 8.0
          ],
          [VERSION, [NAME, OPERA + " Mini"]],
          [
            /\bop(?:rg)?x\/([\w\.]+)/i
            // Opera GX
          ],
          [VERSION, [NAME, OPERA + " GX"]],
          [
            /\bopr\/([\w\.]+)/i
            // Opera Webkit
          ],
          [VERSION, [NAME, OPERA]],
          [
            // Mixed
            /\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i
            // Baidu
          ],
          [VERSION, [NAME, "Baidu"]],
          [
            /(kindle)\/([\w\.]+)/i,
            // Kindle
            /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,
            // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir
            // Trident based
            /(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,
            // Avant/IEMobile/SlimBrowser
            /(?:ms|\()(ie) ([\w\.]+)/i,
            // Internet Explorer
            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon
            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,
            // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio
            /(heytap|ovi)browser\/([\d\.]+)/i,
            // HeyTap/Ovi
            /(weibo)__([\d\.]+)/i
            // Weibo
          ],
          [NAME, VERSION],
          [
            /quark(?:pc)?\/([-\w\.]+)/i
            // Quark
          ],
          [VERSION, [NAME, "Quark"]],
          [
            /\bddg\/([\w\.]+)/i
            // DuckDuckGo
          ],
          [VERSION, [NAME, "DuckDuckGo"]],
          [
            /(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i
            // UCBrowser
          ],
          [VERSION, [NAME, "UC" + BROWSER]],
          [
            /microm.+\bqbcore\/([\w\.]+)/i,
            // WeChat Desktop for Windows Built-in Browser
            /\bqbcore\/([\w\.]+).+microm/i,
            /micromessenger\/([\w\.]+)/i
            // WeChat
          ],
          [VERSION, [NAME, "WeChat"]],
          [
            /konqueror\/([\w\.]+)/i
            // Konqueror
          ],
          [VERSION, [NAME, "Konqueror"]],
          [
            /trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i
            // IE11
          ],
          [VERSION, [NAME, "IE"]],
          [
            /ya(?:search)?browser\/([\w\.]+)/i
            // Yandex
          ],
          [VERSION, [NAME, "Yandex"]],
          [
            /slbrowser\/([\w\.]+)/i
            // Smart Lenovo Browser
          ],
          [VERSION, [NAME, "Smart Lenovo " + BROWSER]],
          [
            /(avast|avg)\/([\w\.]+)/i
            // Avast/AVG Secure Browser
          ],
          [[NAME, /(.+)/, "$1 Secure " + BROWSER], VERSION],
          [
            /\bfocus\/([\w\.]+)/i
            // Firefox Focus
          ],
          [VERSION, [NAME, FIREFOX + " Focus"]],
          [
            /\bopt\/([\w\.]+)/i
            // Opera Touch
          ],
          [VERSION, [NAME, OPERA + " Touch"]],
          [
            /coc_coc\w+\/([\w\.]+)/i
            // Coc Coc Browser
          ],
          [VERSION, [NAME, "Coc Coc"]],
          [
            /dolfin\/([\w\.]+)/i
            // Dolphin
          ],
          [VERSION, [NAME, "Dolphin"]],
          [
            /coast\/([\w\.]+)/i
            // Opera Coast
          ],
          [VERSION, [NAME, OPERA + " Coast"]],
          [
            /miuibrowser\/([\w\.]+)/i
            // MIUI Browser
          ],
          [VERSION, [NAME, "MIUI " + BROWSER]],
          [
            /fxios\/([-\w\.]+)/i
            // Firefox for iOS
          ],
          [VERSION, [NAME, FIREFOX]],
          [
            /\bqihu|(qi?ho?o?|360)browser/i
            // 360
          ],
          [[NAME, "360" + SUFFIX_BROWSER]],
          [
            /\b(qq)\/([\w\.]+)/i
            // QQ
          ],
          [[NAME, /(.+)/, "$1Browser"], VERSION],
          [
            /(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i
          ],
          [[NAME, /(.+)/, "$1" + SUFFIX_BROWSER], VERSION],
          [
            // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser
            /samsungbrowser\/([\w\.]+)/i
            // Samsung Internet
          ],
          [VERSION, [NAME, SAMSUNG + " Internet"]],
          [
            /(comodo_dragon)\/([\w\.]+)/i
            // Comodo Dragon
          ],
          [[NAME, /_/g, " "], VERSION],
          [
            /metasr[\/ ]?([\d\.]+)/i
            // Sogou Explorer
          ],
          [VERSION, [NAME, "Sogou Explorer"]],
          [
            /(sogou)mo\w+\/([\d\.]+)/i
            // Sogou Mobile
          ],
          [[NAME, "Sogou Mobile"], VERSION],
          [
            /(electron)\/([\w\.]+) safari/i,
            // Electron-based App
            /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,
            // Tesla
            /m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i
            // QQBrowser/2345 Browser
          ],
          [NAME, VERSION],
          [
            /(lbbrowser|rekonq)/i,
            // LieBao Browser/Rekonq
            /\[(linkedin)app\]/i
            // LinkedIn App for iOS & Android
          ],
          [NAME],
          [
            // WebView
            /((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i
            // Facebook App for iOS & Android
          ],
          [[NAME, FACEBOOK], VERSION],
          [
            /(Klarna)\/([\w\.]+)/i,
            // Klarna Shopping Browser for iOS & Android
            /(kakao(?:talk|story))[\/ ]([\w\.]+)/i,
            // Kakao App
            /(naver)\(.*?(\d+\.[\w\.]+).*\)/i,
            // Naver InApp
            /safari (line)\/([\w\.]+)/i,
            // Line App for iOS
            /\b(line)\/([\w\.]+)\/iab/i,
            // Line App for Android
            /(alipay)client\/([\w\.]+)/i,
            // Alipay
            /(twitter)(?:and| f.+e\/([\w\.]+))/i,
            // Twitter
            /(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i
            // Chromium/Instagram/Snapchat
          ],
          [NAME, VERSION],
          [
            /\bgsa\/([\w\.]+) .*safari\//i
            // Google Search Appliance on iOS
          ],
          [VERSION, [NAME, "GSA"]],
          [
            /musical_ly(?:.+app_?version\/|_)([\w\.]+)/i
            // TikTok
          ],
          [VERSION, [NAME, "TikTok"]],
          [
            /headlesschrome(?:\/([\w\.]+)| )/i
            // Chrome Headless
          ],
          [VERSION, [NAME, CHROME + " Headless"]],
          [
            / wv\).+(chrome)\/([\w\.]+)/i
            // Chrome WebView
          ],
          [[NAME, CHROME + " WebView"], VERSION],
          [
            /droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i
            // Android Browser
          ],
          [VERSION, [NAME, "Android " + BROWSER]],
          [
            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i
            // Chrome/OmniWeb/Arora/Tizen/Nokia
          ],
          [NAME, VERSION],
          [
            /version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i
            // Mobile Safari
          ],
          [VERSION, [NAME, "Mobile Safari"]],
          [
            /version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i
            // Safari & Safari Mobile
          ],
          [VERSION, NAME],
          [
            /webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i
            // Safari < 3.0
          ],
          [NAME, [VERSION, strMapper, oldSafariMap]],
          [
            /(webkit|khtml)\/([\w\.]+)/i
          ],
          [NAME, VERSION],
          [
            // Gecko based
            /(navigator|netscape\d?)\/([-\w\.]+)/i
            // Netscape
          ],
          [[NAME, "Netscape"], VERSION],
          [
            /(wolvic)\/([\w\.]+)/i
            // Wolvic
          ],
          [NAME, VERSION],
          [
            /mobile vr; rv:([\w\.]+)\).+firefox/i
            // Firefox Reality
          ],
          [VERSION, [NAME, FIREFOX + " Reality"]],
          [
            /ekiohf.+(flow)\/([\w\.]+)/i,
            // Flow
            /(swiftfox)/i,
            // Swiftfox
            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,
            // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror
            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,
            // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix
            /(firefox)\/([\w\.]+)/i,
            // Other Firefox-based
            /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,
            // Mozilla
            // Other
            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,
            // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser
            /(links) \(([\w\.]+)/i
            // Links
          ],
          [NAME, [VERSION, /_/g, "."]],
          [
            /(cobalt)\/([\w\.]+)/i
            // Cobalt
          ],
          [NAME, [VERSION, /master.|lts./, ""]]
        ],
        cpu: [
          [
            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i
            // AMD64 (x64)
          ],
          [[ARCHITECTURE, "amd64"]],
          [
            /(ia32(?=;))/i
            // IA32 (quicktime)
          ],
          [[ARCHITECTURE, lowerize]],
          [
            /((?:i[346]|x)86)[;\)]/i
            // IA32 (x86)
          ],
          [[ARCHITECTURE, "ia32"]],
          [
            /\b(aarch64|arm(v?8e?l?|_?64))\b/i
            // ARM64
          ],
          [[ARCHITECTURE, "arm64"]],
          [
            /\b(arm(?:v[67])?ht?n?[fl]p?)\b/i
            // ARMHF
          ],
          [[ARCHITECTURE, "armhf"]],
          [
            // PocketPC mistakenly identified as PowerPC
            /windows (ce|mobile); ppc;/i
          ],
          [[ARCHITECTURE, "arm"]],
          [
            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i
            // PowerPC
          ],
          [[ARCHITECTURE, /ower/, EMPTY, lowerize]],
          [
            /(sun4\w)[;\)]/i
            // SPARC
          ],
          [[ARCHITECTURE, "sparc"]],
          [
            /((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i
            // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC
          ],
          [[ARCHITECTURE, lowerize]]
        ],
        device: [
          [
            //////////////////////////
            // MOBILES & TABLETS
            /////////////////////////
            // Samsung
            /\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i
          ],
          [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]],
          [
            /\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,
            /samsung[- ]((?!sm-[lr])[-\w]+)/i,
            /sec-(sgh\w+)/i
          ],
          [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]],
          [
            // Apple
            /(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i
            // iPod/iPhone
          ],
          [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]],
          [
            /\((ipad);[-\w\),; ]+apple/i,
            // iPad
            /applecoremedia\/[\w\.]+ \((ipad)/i,
            /\b(ipad)\d\d?,\d\d?[;\]].+ios/i
          ],
          [MODEL, [VENDOR, APPLE], [TYPE, TABLET]],
          [
            /(macintosh);/i
          ],
          [MODEL, [VENDOR, APPLE]],
          [
            // Sharp
            /\b(sh-?[altvz]?\d\d[a-ekm]?)/i
          ],
          [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]],
          [
            // Huawei
            /\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i
          ],
          [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]],
          [
            /(?:huawei|honor)([-\w ]+)[;\)]/i,
            /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i
          ],
          [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]],
          [
            // Xiaomi
            /\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,
            // Xiaomi POCO
            /\b; (\w+) build\/hm\1/i,
            // Xiaomi Hongmi 'numeric' models
            /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,
            // Xiaomi Hongmi
            /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,
            // Xiaomi Redmi
            /oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,
            // Xiaomi Redmi 'numeric' models
            /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i
            // Xiaomi Mi
          ],
          [[MODEL, /_/g, " "], [VENDOR, XIAOMI], [TYPE, MOBILE]],
          [
            /oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,
            // Redmi Pad
            /\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i
            // Mi Pad tablets
          ],
          [[MODEL, /_/g, " "], [VENDOR, XIAOMI], [TYPE, TABLET]],
          [
            // OPPO
            /; (\w+) bui.+ oppo/i,
            /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i
          ],
          [MODEL, [VENDOR, "OPPO"], [TYPE, MOBILE]],
          [
            /\b(opd2\d{3}a?) bui/i
          ],
          [MODEL, [VENDOR, "OPPO"], [TYPE, TABLET]],
          [
            // Vivo
            /vivo (\w+)(?: bui|\))/i,
            /\b(v[12]\d{3}\w?[at])(?: bui|;)/i
          ],
          [MODEL, [VENDOR, "Vivo"], [TYPE, MOBILE]],
          [
            // Realme
            /\b(rmx[1-3]\d{3})(?: bui|;|\))/i
          ],
          [MODEL, [VENDOR, "Realme"], [TYPE, MOBILE]],
          [
            // Motorola
            /\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,
            /\bmot(?:orola)?[- ](\w*)/i,
            /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i
          ],
          [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]],
          [
            /\b(mz60\d|xoom[2 ]{0,2}) build\//i
          ],
          [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]],
          [
            // LG
            /((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i
          ],
          [MODEL, [VENDOR, LG], [TYPE, TABLET]],
          [
            /(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,
            /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,
            /\blg-?([\d\w]+) bui/i
          ],
          [MODEL, [VENDOR, LG], [TYPE, MOBILE]],
          [
            // Lenovo
            /(ideatab[-\w ]+)/i,
            /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i
          ],
          [MODEL, [VENDOR, "Lenovo"], [TYPE, TABLET]],
          [
            // Nokia
            /(?:maemo|nokia).*(n900|lumia \d+)/i,
            /nokia[-_ ]?([-\w\.]*)/i
          ],
          [[MODEL, /_/g, " "], [VENDOR, "Nokia"], [TYPE, MOBILE]],
          [
            // Google
            /(pixel c)\b/i
            // Google Pixel C
          ],
          [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]],
          [
            /droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i
            // Google Pixel
          ],
          [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]],
          [
            // Sony
            /droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i
          ],
          [MODEL, [VENDOR, SONY], [TYPE, MOBILE]],
          [
            /sony tablet [ps]/i,
            /\b(?:sony)?sgp\w+(?: bui|\))/i
          ],
          [[MODEL, "Xperia Tablet"], [VENDOR, SONY], [TYPE, TABLET]],
          [
            // OnePlus
            / (kb2005|in20[12]5|be20[12][59])\b/i,
            /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i
          ],
          [MODEL, [VENDOR, "OnePlus"], [TYPE, MOBILE]],
          [
            // Amazon
            /(alexa)webm/i,
            /(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,
            // Kindle Fire without Silk / Echo Show
            /(kf[a-z]+)( bui|\)).+silk\//i
            // Kindle Fire HD
          ],
          [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]],
          [
            /((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i
            // Fire Phone
          ],
          [[MODEL, /(.+)/g, "Fire Phone $1"], [VENDOR, AMAZON], [TYPE, MOBILE]],
          [
            // BlackBerry
            /(playbook);[-\w\),; ]+(rim)/i
            // BlackBerry PlayBook
          ],
          [MODEL, VENDOR, [TYPE, TABLET]],
          [
            /\b((?:bb[a-f]|st[hv])100-\d)/i,
            /\(bb10; (\w+)/i
            // BlackBerry 10
          ],
          [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]],
          [
            // Asus
            /(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i
          ],
          [MODEL, [VENDOR, ASUS], [TYPE, TABLET]],
          [
            / (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i
          ],
          [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]],
          [
            // HTC
            /(nexus 9)/i
            // HTC Nexus 9
          ],
          [MODEL, [VENDOR, "HTC"], [TYPE, TABLET]],
          [
            /(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,
            // HTC
            // ZTE
            /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,
            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i
            // Alcatel/GeeksPhone/Nexian/Panasonic/Sony
          ],
          [VENDOR, [MODEL, /_/g, " "], [TYPE, MOBILE]],
          [
            // TCL
            /droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i
          ],
          [MODEL, [VENDOR, "TCL"], [TYPE, TABLET]],
          [
            // itel
            /(itel) ((\w+))/i
          ],
          [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { "tablet": ["p10001l", "w7001"], "*": "mobile" }]],
          [
            // Acer
            /droid.+; ([ab][1-7]-?[0178a]\d\d?)/i
          ],
          [MODEL, [VENDOR, "Acer"], [TYPE, TABLET]],
          [
            // Meizu
            /droid.+; (m[1-5] note) bui/i,
            /\bmz-([-\w]{2,})/i
          ],
          [MODEL, [VENDOR, "Meizu"], [TYPE, MOBILE]],
          [
            // Ulefone
            /; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i
          ],
          [MODEL, [VENDOR, "Ulefone"], [TYPE, MOBILE]],
          [
            // Nothing
            /droid.+; (a(?:015|06[35]|142p?))/i
          ],
          [MODEL, [VENDOR, "Nothing"], [TYPE, MOBILE]],
          [
            // MIXED
            /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,
            // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron
            /(hp) ([\w ]+\w)/i,
            // HP iPAQ
            /(asus)-?(\w+)/i,
            // Asus
            /(microsoft); (lumia[\w ]+)/i,
            // Microsoft Lumia
            /(lenovo)[-_ ]?([-\w]+)/i,
            // Lenovo
            /(jolla)/i,
            // Jolla
            /(oppo) ?([\w ]+) bui/i
            // OPPO
          ],
          [VENDOR, MODEL, [TYPE, MOBILE]],
          [
            /(kobo)\s(ereader|touch)/i,
            // Kobo
            /(archos) (gamepad2?)/i,
            // Archos
            /(hp).+(touchpad(?!.+tablet)|tablet)/i,
            // HP TouchPad
            /(kindle)\/([\w\.]+)/i,
            // Kindle
            /(nook)[\w ]+build\/(\w+)/i,
            // Nook
            /(dell) (strea[kpr\d ]*[\dko])/i,
            // Dell Streak
            /(le[- ]+pan)[- ]+(\w{1,9}) bui/i,
            // Le Pan Tablets
            /(trinity)[- ]*(t\d{3}) bui/i,
            // Trinity Tablets
            /(gigaset)[- ]+(q\w{1,9}) bui/i,
            // Gigaset Tablets
            /(vodafone) ([\w ]+)(?:\)| bui)/i
            // Vodafone
          ],
          [VENDOR, MODEL, [TYPE, TABLET]],
          [
            /(surface duo)/i
            // Surface Duo
          ],
          [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]],
          [
            /droid [\d\.]+; (fp\du?)(?: b|\))/i
            // Fairphone
          ],
          [MODEL, [VENDOR, "Fairphone"], [TYPE, MOBILE]],
          [
            /(u304aa)/i
            // AT&T
          ],
          [MODEL, [VENDOR, "AT&T"], [TYPE, MOBILE]],
          [
            /\bsie-(\w*)/i
            // Siemens
          ],
          [MODEL, [VENDOR, "Siemens"], [TYPE, MOBILE]],
          [
            /\b(rct\w+) b/i
            // RCA Tablets
          ],
          [MODEL, [VENDOR, "RCA"], [TYPE, TABLET]],
          [
            /\b(venue[\d ]{2,7}) b/i
            // Dell Venue Tablets
          ],
          [MODEL, [VENDOR, "Dell"], [TYPE, TABLET]],
          [
            /\b(q(?:mv|ta)\w+) b/i
            // Verizon Tablet
          ],
          [MODEL, [VENDOR, "Verizon"], [TYPE, TABLET]],
          [
            /\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i
            // Barnes & Noble Tablet
          ],
          [MODEL, [VENDOR, "Barnes & Noble"], [TYPE, TABLET]],
          [
            /\b(tm\d{3}\w+) b/i
          ],
          [MODEL, [VENDOR, "NuVision"], [TYPE, TABLET]],
          [
            /\b(k88) b/i
            // ZTE K Series Tablet
          ],
          [MODEL, [VENDOR, "ZTE"], [TYPE, TABLET]],
          [
            /\b(nx\d{3}j) b/i
            // ZTE Nubia
          ],
          [MODEL, [VENDOR, "ZTE"], [TYPE, MOBILE]],
          [
            /\b(gen\d{3}) b.+49h/i
            // Swiss GEN Mobile
          ],
          [MODEL, [VENDOR, "Swiss"], [TYPE, MOBILE]],
          [
            /\b(zur\d{3}) b/i
            // Swiss ZUR Tablet
          ],
          [MODEL, [VENDOR, "Swiss"], [TYPE, TABLET]],
          [
            /\b((zeki)?tb.*\b) b/i
            // Zeki Tablets
          ],
          [MODEL, [VENDOR, "Zeki"], [TYPE, TABLET]],
          [
            /\b([yr]\d{2}) b/i,
            /\b(dragon[- ]+touch |dt)(\w{5}) b/i
            // Dragon Touch Tablet
          ],
          [[VENDOR, "Dragon Touch"], MODEL, [TYPE, TABLET]],
          [
            /\b(ns-?\w{0,9}) b/i
            // Insignia Tablets
          ],
          [MODEL, [VENDOR, "Insignia"], [TYPE, TABLET]],
          [
            /\b((nxa|next)-?\w{0,9}) b/i
            // NextBook Tablets
          ],
          [MODEL, [VENDOR, "NextBook"], [TYPE, TABLET]],
          [
            /\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i
            // Voice Xtreme Phones
          ],
          [[VENDOR, "Voice"], MODEL, [TYPE, MOBILE]],
          [
            /\b(lvtel\-)?(v1[12]) b/i
            // LvTel Phones
          ],
          [[VENDOR, "LvTel"], MODEL, [TYPE, MOBILE]],
          [
            /\b(ph-1) /i
            // Essential PH-1
          ],
          [MODEL, [VENDOR, "Essential"], [TYPE, MOBILE]],
          [
            /\b(v(100md|700na|7011|917g).*\b) b/i
            // Envizen Tablets
          ],
          [MODEL, [VENDOR, "Envizen"], [TYPE, TABLET]],
          [
            /\b(trio[-\w\. ]+) b/i
            // MachSpeed Tablets
          ],
          [MODEL, [VENDOR, "MachSpeed"], [TYPE, TABLET]],
          [
            /\btu_(1491) b/i
            // Rotor Tablets
          ],
          [MODEL, [VENDOR, "Rotor"], [TYPE, TABLET]],
          [
            /(shield[\w ]+) b/i
            // Nvidia Shield Tablets
          ],
          [MODEL, [VENDOR, "Nvidia"], [TYPE, TABLET]],
          [
            /(sprint) (\w+)/i
            // Sprint Phones
          ],
          [VENDOR, MODEL, [TYPE, MOBILE]],
          [
            /(kin\.[onetw]{3})/i
            // Microsoft Kin
          ],
          [[MODEL, /\./g, " "], [VENDOR, MICROSOFT], [TYPE, MOBILE]],
          [
            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i
            // Zebra
          ],
          [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]],
          [
            /droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i
          ],
          [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]],
          [
            ///////////////////
            // SMARTTVS
            ///////////////////
            /smart-tv.+(samsung)/i
            // Samsung
          ],
          [VENDOR, [TYPE, SMARTTV]],
          [
            /hbbtv.+maple;(\d+)/i
          ],
          [[MODEL, /^/, "SmartTV"], [VENDOR, SAMSUNG], [TYPE, SMARTTV]],
          [
            /(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i
            // LG SmartTV
          ],
          [[VENDOR, LG], [TYPE, SMARTTV]],
          [
            /(apple) ?tv/i
            // Apple TV
          ],
          [VENDOR, [MODEL, APPLE + " TV"], [TYPE, SMARTTV]],
          [
            /crkey/i
            // Google Chromecast
          ],
          [[MODEL, CHROME + "cast"], [VENDOR, GOOGLE], [TYPE, SMARTTV]],
          [
            /droid.+aft(\w+)( bui|\))/i
            // Fire TV
          ],
          [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]],
          [
            /\(dtv[\);].+(aquos)/i,
            /(aquos-tv[\w ]+)\)/i
            // Sharp
          ],
          [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],
          [
            /(bravia[\w ]+)( bui|\))/i
            // Sony
          ],
          [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]],
          [
            /(mitv-\w{5}) bui/i
            // Xiaomi
          ],
          [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]],
          [
            /Hbbtv.*(technisat) (.*);/i
            // TechniSAT
          ],
          [VENDOR, MODEL, [TYPE, SMARTTV]],
          [
            /\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,
            // Roku
            /hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i
            // HbbTV devices
          ],
          [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]],
          [
            /\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i
            // SmartTV from Unidentified Vendors
          ],
          [[TYPE, SMARTTV]],
          [
            ///////////////////
            // CONSOLES
            ///////////////////
            /(ouya)/i,
            // Ouya
            /(nintendo) ([wids3utch]+)/i
            // Nintendo
          ],
          [VENDOR, MODEL, [TYPE, CONSOLE]],
          [
            /droid.+; (shield) bui/i
            // Nvidia
          ],
          [MODEL, [VENDOR, "Nvidia"], [TYPE, CONSOLE]],
          [
            /(playstation [345portablevi]+)/i
            // Playstation
          ],
          [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]],
          [
            /\b(xbox(?: one)?(?!; xbox))[\); ]/i
            // Microsoft Xbox
          ],
          [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]],
          [
            ///////////////////
            // WEARABLES
            ///////////////////
            /\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i
            // Samsung Galaxy Watch
          ],
          [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]],
          [
            /((pebble))app/i
            // Pebble
          ],
          [VENDOR, MODEL, [TYPE, WEARABLE]],
          [
            /(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i
            // Apple Watch
          ],
          [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]],
          [
            /droid.+; (glass) \d/i
            // Google Glass
          ],
          [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]],
          [
            /droid.+; (wt63?0{2,3})\)/i
          ],
          [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]],
          [
            /(quest( \d| pro)?)/i
            // Oculus Quest
          ],
          [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]],
          [
            ///////////////////
            // EMBEDDED
            ///////////////////
            /(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i
            // Tesla
          ],
          [VENDOR, [TYPE, EMBEDDED]],
          [
            /(aeobc)\b/i
            // Echo Dot
          ],
          [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]],
          [
            ////////////////////
            // MIXED (GENERIC)
            ///////////////////
            /droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i
            // Android Phones from Unidentified Vendors
          ],
          [MODEL, [TYPE, MOBILE]],
          [
            /droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i
            // Android Tablets from Unidentified Vendors
          ],
          [MODEL, [TYPE, TABLET]],
          [
            /\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i
            // Unidentifiable Tablet
          ],
          [[TYPE, TABLET]],
          [
            /(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i
            // Unidentifiable Mobile
          ],
          [[TYPE, MOBILE]],
          [
            /(android[-\w\. ]{0,9});.+buil/i
            // Generic Android Device
          ],
          [MODEL, [VENDOR, "Generic"]]
        ],
        engine: [
          [
            /windows.+ edge\/([\w\.]+)/i
            // EdgeHTML
          ],
          [VERSION, [NAME, EDGE + "HTML"]],
          [
            /webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i
            // Blink
          ],
          [VERSION, [NAME, "Blink"]],
          [
            /(presto)\/([\w\.]+)/i,
            // Presto
            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,
            // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna
            /ekioh(flow)\/([\w\.]+)/i,
            // Flow
            /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,
            // KHTML/Tasman/Links
            /(icab)[\/ ]([23]\.[\d\.]+)/i,
            // iCab
            /\b(libweb)/i
          ],
          [NAME, VERSION],
          [
            /rv\:([\w\.]{1,9})\b.+(gecko)/i
            // Gecko
          ],
          [VERSION, NAME]
        ],
        os: [
          [
            // Windows
            /microsoft (windows) (vista|xp)/i
            // Windows (iTunes)
          ],
          [NAME, VERSION],
          [
            /(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i
            // Windows Phone
          ],
          [NAME, [VERSION, strMapper, windowsVersionMap]],
          [
            /windows nt 6\.2; (arm)/i,
            // Windows RT
            /windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,
            /(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i
          ],
          [[VERSION, strMapper, windowsVersionMap], [NAME, "Windows"]],
          [
            // iOS/macOS
            /ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,
            // iOS
            /(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,
            /cfnetwork\/.+darwin/i
          ],
          [[VERSION, /_/g, "."], [NAME, "iOS"]],
          [
            /(mac os x) ?([\w\. ]*)/i,
            /(macintosh|mac_powerpc\b)(?!.+haiku)/i
            // Mac OS
          ],
          [[NAME, MAC_OS], [VERSION, /_/g, "."]],
          [
            // Mobile OSes
            /droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i
            // Android-x86/HarmonyOS
          ],
          [VERSION, NAME],
          [
            // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS
            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,
            /(blackberry)\w*\/([\w\.]*)/i,
            // Blackberry
            /(tizen|kaios)[\/ ]([\w\.]+)/i,
            // Tizen/KaiOS
            /\((series40);/i
            // Series 40
          ],
          [NAME, VERSION],
          [
            /\(bb(10);/i
            // BlackBerry 10
          ],
          [VERSION, [NAME, BLACKBERRY]],
          [
            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i
            // Symbian
          ],
          [VERSION, [NAME, "Symbian"]],
          [
            /mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i
            // Firefox OS
          ],
          [VERSION, [NAME, FIREFOX + " OS"]],
          [
            /web0s;.+rt(tv)/i,
            /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i
            // WebOS
          ],
          [VERSION, [NAME, "webOS"]],
          [
            /watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i
            // watchOS
          ],
          [VERSION, [NAME, "watchOS"]],
          [
            // Google Chromecast
            /crkey\/([\d\.]+)/i
            // Google Chromecast
          ],
          [VERSION, [NAME, CHROME + "cast"]],
          [
            /(cros) [\w]+(?:\)| ([\w\.]+)\b)/i
            // Chromium OS
          ],
          [[NAME, CHROMIUM_OS], VERSION],
          [
            // Smart TVs
            /panasonic;(viera)/i,
            // Panasonic Viera
            /(netrange)mmh/i,
            // Netrange
            /(nettv)\/(\d+\.[\w\.]+)/i,
            // NetTV
            // Console
            /(nintendo|playstation) ([wids345portablevuch]+)/i,
            // Nintendo/Playstation
            /(xbox); +xbox ([^\);]+)/i,
            // Microsoft Xbox (360, One, X, S, Series X, Series S)
            // Other
            /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,
            // Joli/Palm
            /(mint)[\/\(\) ]?(\w*)/i,
            // Mint
            /(mageia|vectorlinux)[; ]/i,
            // Mageia/VectorLinux
            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,
            // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire
            /(hurd|linux) ?([\w\.]*)/i,
            // Hurd/Linux
            /(gnu) ?([\w\.]*)/i,
            // GNU
            /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,
            // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly
            /(haiku) (\w+)/i
            // Haiku
          ],
          [NAME, VERSION],
          [
            /(sunos) ?([\w\.\d]*)/i
            // Solaris
          ],
          [[NAME, "Solaris"], VERSION],
          [
            /((?:open)?solaris)[-\/ ]?([\w\.]*)/i,
            // Solaris
            /(aix) ((\d)(?=\.|\)| )[\w\.])*/i,
            // AIX
            /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,
            // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS
            /(unix) ?([\w\.]*)/i
            // UNIX
          ],
          [NAME, VERSION]
        ]
      };
      var UAParser = function(ua, extensions) {
        if (typeof ua === OBJ_TYPE) {
          extensions = ua;
          ua = undefined$1;
        }
        if (!(this instanceof UAParser)) {
          return new UAParser(ua, extensions).getResult();
        }
        var _navigator = typeof window2 !== UNDEF_TYPE && window2.navigator ? window2.navigator : undefined$1;
        var _ua = ua || (_navigator && _navigator.userAgent ? _navigator.userAgent : EMPTY);
        var _uach = _navigator && _navigator.userAgentData ? _navigator.userAgentData : undefined$1;
        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;
        var _isSelfNav = _navigator && _navigator.userAgent == _ua;
        this.getBrowser = function() {
          var _browser = {};
          _browser[NAME] = undefined$1;
          _browser[VERSION] = undefined$1;
          rgxMapper.call(_browser, _ua, _rgxmap.browser);
          _browser[MAJOR] = majorize(_browser[VERSION]);
          if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {
            _browser[NAME] = "Brave";
          }
          return _browser;
        };
        this.getCPU = function() {
          var _cpu = {};
          _cpu[ARCHITECTURE] = undefined$1;
          rgxMapper.call(_cpu, _ua, _rgxmap.cpu);
          return _cpu;
        };
        this.getDevice = function() {
          var _device = {};
          _device[VENDOR] = undefined$1;
          _device[MODEL] = undefined$1;
          _device[TYPE] = undefined$1;
          rgxMapper.call(_device, _ua, _rgxmap.device);
          if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {
            _device[TYPE] = MOBILE;
          }
          if (_isSelfNav && _device[MODEL] == "Macintosh" && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {
            _device[MODEL] = "iPad";
            _device[TYPE] = TABLET;
          }
          return _device;
        };
        this.getEngine = function() {
          var _engine = {};
          _engine[NAME] = undefined$1;
          _engine[VERSION] = undefined$1;
          rgxMapper.call(_engine, _ua, _rgxmap.engine);
          return _engine;
        };
        this.getOS = function() {
          var _os = {};
          _os[NAME] = undefined$1;
          _os[VERSION] = undefined$1;
          rgxMapper.call(_os, _ua, _rgxmap.os);
          if (_isSelfNav && !_os[NAME] && _uach && _uach.platform && _uach.platform != "Unknown") {
            _os[NAME] = _uach.platform.replace(/chrome os/i, CHROMIUM_OS).replace(/macos/i, MAC_OS);
          }
          return _os;
        };
        this.getResult = function() {
          return {
            ua: this.getUA(),
            browser: this.getBrowser(),
            engine: this.getEngine(),
            os: this.getOS(),
            device: this.getDevice(),
            cpu: this.getCPU()
          };
        };
        this.getUA = function() {
          return _ua;
        };
        this.setUA = function(ua2) {
          _ua = typeof ua2 === STR_TYPE && ua2.length > UA_MAX_LENGTH ? trim(ua2, UA_MAX_LENGTH) : ua2;
          return this;
        };
        this.setUA(_ua);
        return this;
      };
      UAParser.VERSION = LIBVERSION;
      UAParser.BROWSER = enumerize([NAME, VERSION, MAJOR]);
      UAParser.CPU = enumerize([ARCHITECTURE]);
      UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);
      UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);
      {
        if (module.exports) {
          exports = module.exports = UAParser;
        }
        exports.UAParser = UAParser;
      }
      var $2 = typeof window2 !== UNDEF_TYPE && (window2.jQuery || window2.Zepto);
      if ($2 && !$2.ua) {
        var parser = new UAParser();
        $2.ua = parser.getResult();
        $2.ua.get = function() {
          return parser.getUA();
        };
        $2.ua.set = function(ua) {
          parser.setUA(ua);
          var result = parser.getResult();
          for (var prop in result) {
            $2.ua[prop] = result[prop];
          }
        };
      }
    })(typeof window === "object" ? window : commonjsGlobal);
  })(uaParser, uaParser.exports);
  var uaParserExports = uaParser.exports;
  (function(exports) {
    !function(root, factory) {
      {
        factory(root, require$$0);
      }
    }(commonjsGlobal, function(global2, $2) {
      var PLUGIN_NAME = "remodal";
      var NAMESPACE = global2.REMODAL_GLOBALS && global2.REMODAL_GLOBALS.NAMESPACE || PLUGIN_NAME;
      var ANIMATIONSTART_EVENTS = $2.map(
        ["animationstart", "webkitAnimationStart", "MSAnimationStart", "oAnimationStart"],
        function(eventName) {
          return eventName + "." + NAMESPACE;
        }
      ).join(" ");
      var ANIMATIONEND_EVENTS = $2.map(
        ["animationend", "webkitAnimationEnd", "MSAnimationEnd", "oAnimationEnd"],
        function(eventName) {
          return eventName + "." + NAMESPACE;
        }
      ).join(" ");
      var DEFAULTS = $2.extend({
        hashTracking: true,
        closeOnConfirm: true,
        closeOnCancel: true,
        closeOnEscape: true,
        closeOnOutsideClick: true,
        modifier: "",
        appendTo: null
      }, global2.REMODAL_GLOBALS && global2.REMODAL_GLOBALS.DEFAULTS);
      var STATES = {
        CLOSING: "closing",
        CLOSED: "closed",
        OPENING: "opening",
        OPENED: "opened"
      };
      var STATE_CHANGE_REASONS = {
        CONFIRMATION: "confirmation",
        CANCELLATION: "cancellation"
      };
      var IS_ANIMATION = function() {
        var style = document.createElement("div").style;
        return style.animationName !== void 0 || style.WebkitAnimationName !== void 0 || style.MozAnimationName !== void 0 || style.msAnimationName !== void 0 || style.OAnimationName !== void 0;
      }();
      var IS_IOS = /iPad|iPhone|iPod/.test(navigator.platform);
      var current;
      var scrollTop;
      function getAnimationDuration($elem) {
        if (IS_ANIMATION && $elem.css("animation-name") === "none" && $elem.css("-webkit-animation-name") === "none" && $elem.css("-moz-animation-name") === "none" && $elem.css("-o-animation-name") === "none" && $elem.css("-ms-animation-name") === "none") {
          return 0;
        }
        var duration = $elem.css("animation-duration") || $elem.css("-webkit-animation-duration") || $elem.css("-moz-animation-duration") || $elem.css("-o-animation-duration") || $elem.css("-ms-animation-duration") || "0s";
        var delay = $elem.css("animation-delay") || $elem.css("-webkit-animation-delay") || $elem.css("-moz-animation-delay") || $elem.css("-o-animation-delay") || $elem.css("-ms-animation-delay") || "0s";
        var iterationCount = $elem.css("animation-iteration-count") || $elem.css("-webkit-animation-iteration-count") || $elem.css("-moz-animation-iteration-count") || $elem.css("-o-animation-iteration-count") || $elem.css("-ms-animation-iteration-count") || "1";
        var max;
        var len;
        var num;
        var i;
        duration = duration.split(", ");
        delay = delay.split(", ");
        iterationCount = iterationCount.split(", ");
        for (i = 0, len = duration.length, max = Number.NEGATIVE_INFINITY; i < len; i++) {
          num = parseFloat(duration[i]) * parseInt(iterationCount[i], 10) + parseFloat(delay[i]);
          if (num > max) {
            max = num;
          }
        }
        return max;
      }
      function getScrollbarWidth() {
        if ($2(document).height() <= $2(window).height()) {
          return 0;
        }
        var outer = document.createElement("div");
        var inner = document.createElement("div");
        var widthNoScroll;
        var widthWithScroll;
        outer.style.visibility = "hidden";
        outer.style.width = "100px";
        document.body.appendChild(outer);
        widthNoScroll = outer.offsetWidth;
        outer.style.overflow = "scroll";
        inner.style.width = "100%";
        outer.appendChild(inner);
        widthWithScroll = inner.offsetWidth;
        outer.parentNode.removeChild(outer);
        return widthNoScroll - widthWithScroll;
      }
      function lockScreen() {
        if (IS_IOS) {
          return;
        }
        var $html = $2("html");
        var lockedClass = namespacify("is-locked");
        var paddingRight;
        var $body;
        if (!$html.hasClass(lockedClass)) {
          $body = $2(document.body);
          paddingRight = parseInt($body.css("padding-right"), 10) + getScrollbarWidth();
          $body.css("padding-right", paddingRight + "px");
          $html.addClass(lockedClass);
        }
      }
      function unlockScreen() {
        if (IS_IOS) {
          return;
        }
        var $html = $2("html");
        var lockedClass = namespacify("is-locked");
        var paddingRight;
        var $body;
        if ($html.hasClass(lockedClass)) {
          $body = $2(document.body);
          paddingRight = parseInt($body.css("padding-right"), 10) - getScrollbarWidth();
          $body.css("padding-right", paddingRight + "px");
          $html.removeClass(lockedClass);
        }
      }
      function setState(instance, state, isSilent, reason) {
        var newState = namespacify("is", state);
        var allStates = [
          namespacify("is", STATES.CLOSING),
          namespacify("is", STATES.OPENING),
          namespacify("is", STATES.CLOSED),
          namespacify("is", STATES.OPENED)
        ].join(" ");
        instance.$bg.removeClass(allStates).addClass(newState);
        instance.$overlay.removeClass(allStates).addClass(newState);
        instance.$wrapper.removeClass(allStates).addClass(newState);
        instance.$modal.removeClass(allStates).addClass(newState);
        instance.state = state;
        !isSilent && instance.$modal.trigger({
          type: state,
          reason
        }, [{ reason }]);
      }
      function syncWithAnimation(doBeforeAnimation, doAfterAnimation, instance) {
        var runningAnimationsCount = 0;
        var handleAnimationStart = function(e) {
          if (e.target !== this) {
            return;
          }
          runningAnimationsCount++;
        };
        var handleAnimationEnd = function(e) {
          if (e.target !== this) {
            return;
          }
          if (--runningAnimationsCount === 0) {
            $2.each(["$bg", "$overlay", "$wrapper", "$modal"], function(index, elemName) {
              instance[elemName].off(ANIMATIONSTART_EVENTS + " " + ANIMATIONEND_EVENTS);
            });
            doAfterAnimation();
          }
        };
        $2.each(["$bg", "$overlay", "$wrapper", "$modal"], function(index, elemName) {
          instance[elemName].on(ANIMATIONSTART_EVENTS, handleAnimationStart).on(ANIMATIONEND_EVENTS, handleAnimationEnd);
        });
        doBeforeAnimation();
        if (getAnimationDuration(instance.$bg) === 0 && getAnimationDuration(instance.$overlay) === 0 && getAnimationDuration(instance.$wrapper) === 0 && getAnimationDuration(instance.$modal) === 0) {
          $2.each(["$bg", "$overlay", "$wrapper", "$modal"], function(index, elemName) {
            instance[elemName].off(ANIMATIONSTART_EVENTS + " " + ANIMATIONEND_EVENTS);
          });
          doAfterAnimation();
        }
      }
      function halt(instance) {
        if (instance.state === STATES.CLOSED) {
          return;
        }
        $2.each(["$bg", "$overlay", "$wrapper", "$modal"], function(index, elemName) {
          instance[elemName].off(ANIMATIONSTART_EVENTS + " " + ANIMATIONEND_EVENTS);
        });
        instance.$bg.removeClass(instance.settings.modifier);
        instance.$overlay.removeClass(instance.settings.modifier).hide();
        instance.$wrapper.hide();
        unlockScreen();
        setState(instance, STATES.CLOSED, true);
      }
      function parseOptions(str) {
        var obj = {};
        var arr;
        var len;
        var val;
        var i;
        str = str.replace(/\s*:\s*/g, ":").replace(/\s*,\s*/g, ",");
        arr = str.split(",");
        for (i = 0, len = arr.length; i < len; i++) {
          arr[i] = arr[i].split(":");
          val = arr[i][1];
          if (typeof val === "string" || val instanceof String) {
            val = val === "true" || (val === "false" ? false : val);
          }
          if (typeof val === "string" || val instanceof String) {
            val = !isNaN(val) ? +val : val;
          }
          obj[arr[i][0]] = val;
        }
        return obj;
      }
      function namespacify() {
        var result = NAMESPACE;
        for (var i = 0; i < arguments.length; ++i) {
          result += "-" + arguments[i];
        }
        return result;
      }
      function handleHashChangeEvent() {
        var id = location.hash.replace("#", "");
        var instance;
        var $elem;
        if (!id) {
          if (current && current.state === STATES.OPENED && current.settings.hashTracking) {
            current.close();
          }
        } else {
          try {
            $elem = $2(
              "[data-" + PLUGIN_NAME + '-id="' + id + '"]'
            );
          } catch (err) {
          }
          if ($elem && $elem.length) {
            instance = $2[PLUGIN_NAME].lookup[$elem.data(PLUGIN_NAME)];
            if (instance && instance.settings.hashTracking) {
              instance.open();
            }
          }
        }
      }
      function Remodal($modal, options) {
        var $body = $2(document.body);
        var $appendTo = $body;
        var remodal = this;
        remodal.settings = $2.extend({}, DEFAULTS, options);
        remodal.index = $2[PLUGIN_NAME].lookup.push(remodal) - 1;
        remodal.state = STATES.CLOSED;
        remodal.$overlay = $2("." + namespacify("overlay"));
        if (remodal.settings.appendTo !== null && remodal.settings.appendTo.length) {
          $appendTo = $2(remodal.settings.appendTo);
        }
        if (!remodal.$overlay.length) {
          remodal.$overlay = $2("<div>").addClass(namespacify("overlay") + " " + namespacify("is", STATES.CLOSED)).hide();
          $appendTo.append(remodal.$overlay);
        }
        remodal.$bg = $2("." + namespacify("bg")).addClass(namespacify("is", STATES.CLOSED));
        remodal.$modal = $modal.addClass(
          NAMESPACE + " " + namespacify("is-initialized") + " " + remodal.settings.modifier + " " + namespacify("is", STATES.CLOSED)
        ).attr("tabindex", "-1");
        remodal.$wrapper = $2("<div>").addClass(
          namespacify("wrapper") + " " + remodal.settings.modifier + " " + namespacify("is", STATES.CLOSED)
        ).hide().append(remodal.$modal);
        $appendTo.append(remodal.$wrapper);
        remodal.$wrapper.on("click." + NAMESPACE, "[data-" + PLUGIN_NAME + '-action="close"]', function(e) {
          e.preventDefault();
          remodal.close();
        });
        remodal.$wrapper.on("click." + NAMESPACE, "[data-" + PLUGIN_NAME + '-action="cancel"]', function(e) {
          e.preventDefault();
          remodal.$modal.trigger(STATE_CHANGE_REASONS.CANCELLATION);
          if (remodal.settings.closeOnCancel) {
            remodal.close(STATE_CHANGE_REASONS.CANCELLATION);
          }
        });
        remodal.$wrapper.on("click." + NAMESPACE, "[data-" + PLUGIN_NAME + '-action="confirm"]', function(e) {
          e.preventDefault();
          remodal.$modal.trigger(STATE_CHANGE_REASONS.CONFIRMATION);
          if (remodal.settings.closeOnConfirm) {
            remodal.close(STATE_CHANGE_REASONS.CONFIRMATION);
          }
        });
        remodal.$wrapper.on("click." + NAMESPACE, function(e) {
          var $target = $2(e.target);
          if (!$target.hasClass(namespacify("wrapper"))) {
            return;
          }
          if (remodal.settings.closeOnOutsideClick) {
            remodal.close();
          }
        });
      }
      Remodal.prototype.open = function() {
        var remodal = this;
        var id;
        if (remodal.state === STATES.OPENING || remodal.state === STATES.CLOSING) {
          return;
        }
        id = remodal.$modal.attr("data-" + PLUGIN_NAME + "-id");
        if (id && remodal.settings.hashTracking) {
          scrollTop = $2(window).scrollTop();
          location.hash = id;
        }
        if (current && current !== remodal) {
          halt(current);
        }
        current = remodal;
        lockScreen();
        remodal.$bg.addClass(remodal.settings.modifier);
        remodal.$overlay.addClass(remodal.settings.modifier).show();
        remodal.$wrapper.show().scrollTop(0);
        remodal.$modal.focus();
        syncWithAnimation(
          function() {
            setState(remodal, STATES.OPENING);
          },
          function() {
            setState(remodal, STATES.OPENED);
          },
          remodal
        );
      };
      Remodal.prototype.close = function(reason) {
        var remodal = this;
        if (remodal.state === STATES.OPENING || remodal.state === STATES.CLOSING || remodal.state === STATES.CLOSED) {
          return;
        }
        if (remodal.settings.hashTracking && remodal.$modal.attr("data-" + PLUGIN_NAME + "-id") === location.hash.substr(1)) {
          location.hash = "";
          $2(window).scrollTop(scrollTop);
        }
        syncWithAnimation(
          function() {
            setState(remodal, STATES.CLOSING, false, reason);
          },
          function() {
            remodal.$bg.removeClass(remodal.settings.modifier);
            remodal.$overlay.removeClass(remodal.settings.modifier).hide();
            remodal.$wrapper.hide();
            unlockScreen();
            setState(remodal, STATES.CLOSED, false, reason);
          },
          remodal
        );
      };
      Remodal.prototype.getState = function() {
        return this.state;
      };
      Remodal.prototype.destroy = function() {
        var lookup = $2[PLUGIN_NAME].lookup;
        var instanceCount;
        halt(this);
        this.$wrapper.remove();
        delete lookup[this.index];
        instanceCount = $2.grep(lookup, function(instance) {
          return !!instance;
        }).length;
        if (instanceCount === 0) {
          this.$overlay.remove();
          this.$bg.removeClass(
            namespacify("is", STATES.CLOSING) + " " + namespacify("is", STATES.OPENING) + " " + namespacify("is", STATES.CLOSED) + " " + namespacify("is", STATES.OPENED)
          );
        }
      };
      $2[PLUGIN_NAME] = {
        lookup: []
      };
      $2.fn[PLUGIN_NAME] = function(opts) {
        var instance;
        var $elem;
        this.each(function(index, elem) {
          $elem = $2(elem);
          if ($elem.data(PLUGIN_NAME) == null) {
            instance = new Remodal($elem, opts);
            $elem.data(PLUGIN_NAME, instance.index);
            if (instance.settings.hashTracking && $elem.attr("data-" + PLUGIN_NAME + "-id") === location.hash.substr(1)) {
              instance.open();
            }
          } else {
            instance = $2[PLUGIN_NAME].lookup[$elem.data(PLUGIN_NAME)];
          }
        });
        return instance;
      };
      $2(document).ready(function() {
        $2(document).on("click", "[data-" + PLUGIN_NAME + "-target]", function(e) {
          e.preventDefault();
          var elem = e.currentTarget;
          var id = elem.getAttribute("data-" + PLUGIN_NAME + "-target");
          var $target = $2("[data-" + PLUGIN_NAME + '-id="' + id + '"]');
          $2[PLUGIN_NAME].lookup[$target.data(PLUGIN_NAME)].open();
        });
        $2(document).find("." + NAMESPACE).each(function(i, container) {
          var $container = $2(container);
          var options = $container.data(PLUGIN_NAME + "-options");
          if (!options) {
            options = {};
          } else if (typeof options === "string" || options instanceof String) {
            options = parseOptions(options);
          }
          $container[PLUGIN_NAME](options);
        });
        $2(document).on("keydown." + NAMESPACE, function(e) {
          if (current && current.settings.closeOnEscape && current.state === STATES.OPENED && e.keyCode === 27) {
            current.close();
          }
        });
        $2(window).on("hashchange." + NAMESPACE, handleHashChangeEvent);
      });
    });
  })();
  window.REMODAL_GLOBALS = {
    NAMESPACE: "remodal",
    DEFAULTS: { hashTracking: false }
  };
  const DeviceDetectParser = new uaParserExports.UAParser(window.navigator.userAgent);
  class DeviceDetect {
    static isMobile() {
      return "mobile" === DeviceDetectParser.getDevice().type;
    }
    static isMobileHuawei() {
      return DeviceDetect.isMobile() && "Huawei" === DeviceDetectParser.getDevice().vendor;
    }
    static isMobileApple() {
      return DeviceDetect.isMobile() && "Apple" === DeviceDetectParser.getDevice().vendor;
    }
    static isMobileAndroid() {
      return DeviceDetect.isMobile() && !DeviceDetect.isMobileHuawei() && "Android" === DeviceDetectParser.getOS().name;
    }
    static isAndroid() {
      return "Android" === DeviceDetectParser.getOS().name;
    }
    static get0S() {
      var _a;
      return (_a = DeviceDetectParser.getOS()) == null ? void 0 : _a.name.toLowerCase();
    }
    static isMacOs() {
      var _a;
      return !DeviceDetect.isMobile() && ((_a = DeviceDetect.get0S()) == null ? void 0 : _a.includes("mac os"));
    }
    static isWindows() {
      var _a;
      return !DeviceDetect.isMobile() && ((_a = DeviceDetect.get0S()) == null ? void 0 : _a.includes("window"));
    }
    static isLinux() {
      return !DeviceDetect.isMobile() && !DeviceDetect.isWindows() && !DeviceDetect.isMacOs();
    }
    static isIPad() {
      var _a, _b;
      return (_b = (_a = DeviceDetectParser.getDevice()) == null ? void 0 : _a.model) == null ? void 0 : _b.includes("iPad");
    }
  }
  class Attribution {
    static upgradeStoreLink(e) {
      let t = new URL(window.location), i = new URLSearchParams(t.search), r = new URL(e);
      return i.forEach((e2, t2) => {
        r.searchParams.append(t2, e2);
      }), r.toString();
    }
    static openStoreLink(e, t) {
      e = this.upgradeStoreLink(e), window.open(e, t ? "_blank" : null);
    }
    static sendDoStartRequest() {
      return new Promise((e, t) => {
        let i = window.location.protocol + "//" + window.location.host + "/", r = new URLSearchParams(
          Object.entries({
            link: window.location,
            utm_tag: this.getUtmTags(),
            source_id: this.getSourceId(),
            platform: this.getPlatform(),
            platform_os: this.getPlatformOS(),
            timezone_utc_offset: this.getTimezoneUTCOffset(),
            screen_avail_width: this.getScreenAvailWidth(),
            screen_avail_height: this.getScreenAvailHeight()
          })
        ).toString(), s = new XMLHttpRequest();
        s.open("POST", i + "www/global/doStart", true), s.onload = () => {
          4 === s.readyState && (s.status >= 200 && s.status < 300 ? e(JSON.parse(s.response)) : t({ status: s.status, statusText: s.statusText }));
        }, s.onerror = () => {
          t({ status: s.status, statusText: s.statusText });
        }, s.setRequestHeader(
          "Accept",
          "application/json, text/javascript, */*; q=0.01"
        ), s.setRequestHeader(
          "Content-Type",
          "application/x-www-form-urlencoded; charset=UTF-8"
        ), s.send(r);
      });
    }
    static getUtmTags() {
      let e = new URL(window.location), t = new URLSearchParams(e.search);
      return t.toString();
    }
    static getSourceId() {
      let e = new URL(window.location), t = new URLSearchParams(e.search);
      return t.has("source_id") ? t.get("source_id") : "";
    }
    static getPlatform() {
      return DeviceDetect.isMobileAndroid() || DeviceDetect.isMobileHuawei() || DeviceDetect.isAndroid() ? "android" : DeviceDetect.isMobileApple() ? "ios" : DeviceDetect.isIPad() ? "ipad" : "desktop";
    }
    static getPlatformOS() {
      return DeviceDetect.isMobileAndroid() || DeviceDetect.isMobileHuawei() || DeviceDetect.isAndroid() ? "android" : DeviceDetect.isMobileApple() ? "ios" : DeviceDetect.isIPad() ? "ipad" : DeviceDetect.isLinux() ? "linux" : DeviceDetect.isMacOs() ? "macos" : (DeviceDetect.isWindows(), "windows");
    }
    static getTimezoneUTCOffset() {
      let e = /* @__PURE__ */ new Date();
      return -(60 * e.getTimezoneOffset());
    }
    static getScreenAvailWidth() {
      return window.screen.availWidth;
    }
    static getScreenAvailHeight() {
      return window.screen.availHeight;
    }
  }
  document.addEventListener("DOMContentLoaded", function() {
    window.doStart = Attribution.sendDoStartRequest(), Array.prototype.find.call(document.querySelectorAll("a"), (e) => {
      let t = e.getAttribute("href");
      t && t.includes("redirect.appmetrica.yandex.com") && e.setAttribute("href", Attribution.upgradeStoreLink(t));
    });
  });
  const body = document.body;
  const html = document.documentElement;
  const navbar = document.querySelector(".w-nav");
  const ymetrikaID = window.ymetrikaID;
  const sendEvent = (id) => {
    ym(window.ymetrikaID, "reachGoal", id);
  };
  var isMobile = false;
  if (window.innerWidth < 768) {
    body.classList.add("is--mobile-sm");
    isMobile = true;
  } else {
    body.classList.add("is--desktop");
    isMobile = false;
  }
  body.classList.add("is--blur-nav");
  body.classList.add("enable-blur");
  html.classList.add("is--font-smoothing");
  var remSize = 0;
  const getSize = () => {
    remSize = getComputedStyle(document.documentElement).getPropertyValue(
      "--remSize"
    );
    let factor;
    if (window.innerWidth > 1440) {
      factor = 18;
    } else {
      factor = window.innerWidth / 100 * remSize;
    }
    return factor;
  };
  const getPage = () => {
    const classToPageMap = {
      "is--home-page": "home",
      "is--on-premise-page": "on-premise",
      "is--blog-post-page": "post",
      "is--partner-page": "partner",
      "is--blog-page": "blog",
      "is--page-delete": "delete-page",
      "is--media-page": "media",
      "is--download-op": "download_on-premise",
      "is--download-cloud": "download_cloud",
      "is--download-page": "download"
    };
    for (const [className, pageName] of Object.entries(classToPageMap)) {
      if (document.body.classList.contains(className)) {
        return pageName;
      }
    }
    const urlToPageMap = {
      //'/download/': 'download',
      mediakit: "mediakit"
    };
    const currentUrl = window.location.href;
    for (const [urlFragment, pageName] of Object.entries(urlToPageMap)) {
      if (currentUrl.includes(urlFragment)) {
        return pageName;
      }
    }
    return "unknown";
  };
  body.classList.add("is--js-success");
  function setCookie(name2, value, days) {
    var expires = "";
    if (days) {
      var date = /* @__PURE__ */ new Date();
      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1e3);
      expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name2 + "=" + (value || "") + expires + "; path=/";
  }
  function getCookie(name2) {
    var nameEQ = name2 + "=";
    var ca2 = document.cookie.split(";");
    for (var i = 0; i < ca2.length; i++) {
      var c = ca2[i];
      while (c.charAt(0) === " ") c = c.substring(1, c.length);
      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
    }
    return null;
  }
  function showOldBrowserMsg() {
    const oldMsg = document.querySelector(".navbar__old-msg");
    if (oldMsg) {
      oldMsg.classList.add("is--display-block");
      document.querySelector(".navbar__old-close").addEventListener("click", () => {
        oldMsg.classList.remove("is--show");
      });
      setTimeout(function() {
        oldMsg.classList.add("is--show");
      }, 100);
    }
  }
  if (navigator.userAgent.indexOf(" UCBrowser/") >= 0) {
    showOldBrowserMsg();
  }
  var Detector = new oldBrowserDetector(
    {
      c: 87,
      f: 73,
      o: 70,
      s: {
        d: 12
      }
    },
    function() {
      const browserInfoObj = oldBrowserDetector.getBrowser();
      if (browserInfoObj.n !== "x" && browserInfoObj.v !== 0) showOldBrowserMsg();
    }
  );
  Detector.detect();
  console.log(platform);
  switch (platform.name) {
    case "Safari":
      switch (platform.os.family) {
        case "iOS":
          if (platform.version.split(".")[0] <= 13 && platform.os.version.split(".")[0] <= 13) {
            showOldBrowserMsg();
          }
          break;
        case "OS X":
          if (platform.version.split(".")[0] <= 13) {
            showOldBrowserMsg();
          }
          body.classList.remove("is--blur-nav");
          body.classList.remove("enable-blur");
          body.classList.add("disable-blur");
          break;
      }
      break;
    case "Chrome":
      if (platform.version.split(".")[0] <= 87) {
        showOldBrowserMsg();
      }
      break;
    case "Chrome Mobile":
      if (platform.version.split(".")[0] <= 87) {
        showOldBrowserMsg();
      }
      break;
    case "Opera":
      if (platform.version.split(".")[0] <= 73) {
        showOldBrowserMsg();
      }
      break;
    case "Firefox":
      if (platform.version.split(".")[0] <= 73) {
        showOldBrowserMsg();
      }
      break;
  }
  $(document).ready(function() {
    $(".w-webflow-badge").removeClass("w-webflow-badge").empty();
  });
  var os = platform.os.family;
  function getOS() {
    var userAgent = window.navigator.userAgent, platform2 = window.navigator.userAgentData ? window.navigator.userAgentData : window.navigator.platform || window.navigator.platform, macosPlatforms = ["Macintosh", "MacIntel", "MacPPC", "Mac68K", "macOS"], windowsPlatforms = ["Win32", "Win64", "Windows", "WinCE"], iosPlatforms = ["iPhone", "iPad", "iPod"], os2 = null;
    if (macosPlatforms.indexOf(platform2) !== -1) {
      os2 = "OS X";
    } else if (iosPlatforms.indexOf(platform2) !== -1) {
      os2 = "iOS";
    } else if (windowsPlatforms.indexOf(platform2) !== -1) {
      os2 = "Windows";
    } else if (/Huawei/.test(userAgent)) {
      os2 = "Huawei";
    } else if (/Android/.test(userAgent)) {
      os2 = "Android";
    } else if (/Linux/.test(platform2)) {
      os2 = "Linux";
    }
    return os2;
  }
  function iOS() {
    return [
      "iPad Simulator",
      "iPhone Simulator",
      "iPod Simulator",
      "iPad",
      "iPhone",
      "iPod"
    ].includes(navigator.platform) || // iPad on iOS 13 detection
    navigator.userAgent.includes("Mac") && "ontouchend" in document;
  }
  if (os === null || os === "Android") {
    os = getOS();
    if (os === "OS X") {
      if (iOS()) {
        os = "iOS";
      }
    }
  }
  function isTouchDevice() {
    return "ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;
  }
  if (isTouchDevice()) {
    body.classList.add("is--touch");
  } else {
    body.classList.add("is--no-touch");
  }
  function createDownloadLink(options) {
    const linkText = options[0], linkPlatform = options[1], linkClass = options[2], linkUrl = options[3], onPremiseLinkUrl = options[4], linkTag = options[5], svgIcon = options[6], svgDarkIcon = options[7];
    const downloadItemWrap = document.createElement("div");
    downloadItemWrap.classList.add("cta__list-item-wrap");
    const link = document.createElement("a");
    link.setAttribute("data-cloud", linkUrl);
    link.setAttribute("data-onpremise", onPremiseLinkUrl);
    link.href = "#";
    link.classList.add("cta__list-item", "w-inline-block", linkClass);
    link.setAttribute("download", "download");
    link.addEventListener("click", () => {
      $(".w-dropdown").trigger("w-close");
    });
    const svgWrapper = document.createElement("div");
    svgWrapper.classList.add(
      "cta__list-item-icon",
      "shrink-0",
      "is--vector-full",
      "w-embed"
    );
    const svgElement = document.createElementNS(
      "http://www.w3.org/2000/svg",
      "svg"
    );
    svgElement.setAttribute("width", "22");
    svgElement.setAttribute("height", "22");
    svgElement.setAttribute("viewBox", "0 0 22 22");
    svgElement.innerHTML = svgIcon;
    const svgDarkElement = document.createElementNS(
      "http://www.w3.org/2000/svg",
      "svg"
    );
    svgDarkElement.setAttribute("width", "22");
    svgDarkElement.setAttribute("height", "22");
    svgDarkElement.setAttribute("viewBox", "0 0 22 22");
    svgDarkElement.innerHTML = svgDarkIcon;
    const linkShortText = document.createElement("span");
    linkShortText.textContent = linkText;
    const linkPlatformName = document.createElement("span");
    linkPlatformName.textContent = linkPlatform;
    const linkTextElement = document.createElement("div");
    linkTextElement.classList.add("cta__list-item-name");
    linkTextElement.appendChild(linkShortText);
    linkTextElement.appendChild(linkPlatformName);
    svgWrapper.appendChild(svgElement);
    if (svgDarkIcon) {
      svgWrapper.appendChild(svgDarkElement);
      svgDarkElement.classList.add("is--dark-icon");
      svgElement.classList.add("is--light-icon");
    }
    link.appendChild(svgWrapper);
    link.appendChild(linkTextElement);
    if (linkTag) {
      const tagElement = document.createElement("div");
      tagElement.classList.add("cta__list-item-tag");
      tagElement.textContent = linkTag;
      link.appendChild(tagElement);
    }
    downloadItemWrap.appendChild(link);
    return downloadItemWrap;
  }
  const downloadLinksData = {
    macintel: [
      "Скачать для ",
      "MacOS",
      "macintel",
      "https://getcompass.ru/app/macos-intel",
      "https://getcompass.ru/on-premise/app/macos-intel",
      "Intel",
      '<path d="M15.4258 11.0566C15.4258 9.82812 15.9902 8.93164 17.0859 8.23438C16.4551 7.33789 15.5254 6.87305 14.2969 6.77344C13.1016 6.67383 11.8066 7.4375 11.3418 7.4375C10.8438 7.4375 9.71484 6.80664 8.81836 6.80664C6.95898 6.83984 5 8.26758 5 11.2227C5 12.0859 5.13281 12.9824 5.46484 13.9121C5.89648 15.1406 7.42383 18.1289 9.01758 18.0625C9.84766 18.0625 10.4453 17.4648 11.541 17.4648C12.6035 17.4648 13.1348 18.0625 14.0645 18.0625C15.6914 18.0625 17.0859 15.3398 17.4844 14.1113C15.3262 13.082 15.4258 11.123 15.4258 11.0566ZM13.5664 5.61133C14.4629 4.54883 14.3633 3.55273 14.3633 3.1875C13.5664 3.25391 12.6367 3.75195 12.1055 4.34961C11.5078 5.01367 11.1758 5.84375 11.2422 6.74023C12.1055 6.80664 12.9023 6.375 13.5664 5.61133Z" fill="currentColor"></path>'
    ],
    macapple: [
      "Скачать для ",
      "MacOS",
      "macapple",
      "https://getcompass.ru/app/macos-silicon",
      "https://getcompass.ru/on-premise/app/macos-silicon",
      "Apple Silicon",
      '<path d="M15.4258 11.0566C15.4258 9.82812 15.9902 8.93164 17.0859 8.23438C16.4551 7.33789 15.5254 6.87305 14.2969 6.77344C13.1016 6.67383 11.8066 7.4375 11.3418 7.4375C10.8438 7.4375 9.71484 6.80664 8.81836 6.80664C6.95898 6.83984 5 8.26758 5 11.2227C5 12.0859 5.13281 12.9824 5.46484 13.9121C5.89648 15.1406 7.42383 18.1289 9.01758 18.0625C9.84766 18.0625 10.4453 17.4648 11.541 17.4648C12.6035 17.4648 13.1348 18.0625 14.0645 18.0625C15.6914 18.0625 17.0859 15.3398 17.4844 14.1113C15.3262 13.082 15.4258 11.123 15.4258 11.0566ZM13.5664 5.61133C14.4629 4.54883 14.3633 3.55273 14.3633 3.1875C13.5664 3.25391 12.6367 3.75195 12.1055 4.34961C11.5078 5.01367 11.1758 5.84375 11.2422 6.74023C12.1055 6.80664 12.9023 6.375 13.5664 5.61133Z" fill="currentColor"></path>'
    ],
    windows: [
      "Скачать для ",
      "Windows",
      "windows",
      "https://update.getcompass.com/apps/compass-win.exe",
      "https://getcompass.ru/on-premise/app/windows-10-exe",
      ".exe",
      '<path d="M4.01636 6.08452V11.1519H10.1172V5.25108L4.01636 6.08452ZM4.01636 16.9193L10.1172 17.7528V11.9186H4.01636V16.9193ZM10.7839 17.8528L18.9517 18.9529V11.9186H10.7839V17.8528ZM10.7839 5.15106V11.1519H18.9517V4.01758L10.7839 5.15106Z" fill="currentColor"></path>'
    ],
    windowsmsi: [
      "Скачать для ",
      "Windows",
      "windowsmsi",
      "https://getcompass.ru/app/windows-10-msi",
      "https://getcompass.ru/on-premise/app/windows-10-msi",
      ".msi",
      '<path d="M4.01636 6.08452V11.1519H10.1172V5.25108L4.01636 6.08452ZM4.01636 16.9193L10.1172 17.7528V11.9186H4.01636V16.9193ZM10.7839 17.8528L18.9517 18.9529V11.9186H10.7839V17.8528ZM10.7839 5.15106V11.1519H18.9517V4.01758L10.7839 5.15106Z" fill="currentColor"></path>'
    ],
    windows_old: [
      "Скачать для ",
      "Windows",
      "windows_old",
      "https://getcompass.ru/app/windows-7-exe",
      "https://getcompass.ru/on-premise/app/windows-7-exe",
      ".exe",
      '<path d="M4.01636 6.08452V11.1519H10.1172V5.25108L4.01636 6.08452ZM4.01636 16.9193L10.1172 17.7528V11.9186H4.01636V16.9193ZM10.7839 17.8528L18.9517 18.9529V11.9186H10.7839V17.8528ZM10.7839 5.15106V11.1519H18.9517V4.01758L10.7839 5.15106Z" fill="currentColor"></path>'
    ],
    windowsmsi_old: [
      "Скачать для ",
      "Windows",
      "windowsmsi_old",
      "https://getcompass.ru/app/windows-7-msi",
      "https://getcompass.ru/on-premise/app/windows-7-msi",
      ".msi",
      '<path d="M4.01636 6.08452V11.1519H10.1172V5.25108L4.01636 6.08452ZM4.01636 16.9193L10.1172 17.7528V11.9186H4.01636V16.9193ZM10.7839 17.8528L18.9517 18.9529V11.9186H10.7839V17.8528ZM10.7839 5.15106V11.1519H18.9517V4.01758L10.7839 5.15106Z" fill="currentColor"></path>'
    ],
    linuxdeb: [
      "Скачать для ",
      "Linux",
      "linuxdeb",
      "https://getcompass.ru/app/linux-deb",
      "https://getcompass.ru/on-premise/app/linux-deb",
      ".deb",
      '<path d="M11.2344 3C6.68555 3 3 6.68555 3 11.2344C3 15.7832 6.68555 19.4688 11.2344 19.4688C15.7832 19.4688 19.4688 15.7832 19.4688 11.2344C19.4688 6.68555 15.7832 3 11.2344 3ZM12.9609 6.08789C13.2598 5.58984 13.9238 5.42383 14.4219 5.72266C14.9199 6.02148 15.0859 6.65234 14.7871 7.15039C14.5215 7.68164 13.8574 7.84766 13.3594 7.54883C12.8613 7.25 12.6621 6.61914 12.9609 6.08789ZM5.88867 12.2969C5.29102 12.2969 4.82617 11.832 4.82617 11.2344C4.82617 10.6699 5.29102 10.2051 5.88867 10.2051C6.48633 10.2051 6.95117 10.6699 6.95117 11.2344C6.95117 11.832 6.48633 12.2969 5.88867 12.2969ZM6.81836 12.3965C7.54883 11.832 7.54883 10.7031 6.81836 10.1055C7.11719 9.00977 7.78125 8.08008 8.71094 7.44922L9.47461 8.77734C7.78125 9.97266 7.78125 12.5293 9.47461 13.7246L8.71094 15.0195C7.78125 14.4219 7.11719 13.4922 6.81836 12.3965ZM14.4219 16.7793C13.8906 17.0781 13.2598 16.9121 12.9609 16.3809C12.6621 15.8828 12.8613 15.252 13.3594 14.9531C13.8574 14.6543 14.5215 14.8203 14.7871 15.3516C15.0859 15.8496 14.9199 16.4805 14.4219 16.7793ZM14.4219 14.4883C13.5254 14.123 12.5625 14.6875 12.4297 15.6504C12.2305 15.6836 10.8027 16.1152 9.20898 15.3184L9.93945 13.9902C11.832 14.8535 14.0566 13.5918 14.2227 11.5332H15.75C15.6836 12.6953 15.1855 13.7246 14.4219 14.4883ZM14.2227 10.9688C14.0566 8.91016 11.8652 7.61523 9.93945 8.51172L9.20898 7.18359C10.8027 6.38672 12.2305 6.81836 12.3965 6.85156C12.5625 7.81445 13.5254 8.37891 14.4219 8.01367C15.1855 8.77734 15.6836 9.80664 15.75 10.9688H14.2227Z" fill="currentColor"></path>'
    ],
    linuxtar: [
      "Скачать для ",
      "Linux",
      "linuxtar",
      "https://getcompass.ru/app/linux-tar",
      "https://getcompass.ru/on-premise/app/linux-tar",
      ".tar",
      '<g clip-path="url(#A)" fill="currentColor"><path d="M10.122 6.192c.06-.022.143-.03.195 0 .015.008.03.022.023.038v.015h.008c-.015.045-.09.037-.127.053s-.068.053-.105.053-.098-.015-.105-.053c-.008-.053.068-.105.113-.105zm.765.105c-.037-.015-.112-.008-.12-.053v-.015c-.008-.015.008-.03.015-.038a.27.27 0 0 1 .202 0c.045 0 .12.053.113.105-.008.037-.068.045-.105.045s-.068-.03-.105-.045zm-1.32 1.087c.225.15.518.353.885.353s.802-.202 1.065-.353l.487-.353c.12-.097.113-.195.218-.195.098.007.022.098-.113.247l-.525.353c-.33.15-.72.397-1.132.397-.405 0-.735-.202-.968-.353L9.2 7.234c-.12-.098-.105-.248-.053-.248.082.008.098.098.15.15.075.045.165.15.27.247z" fill-opacity=".3"/><path d="M11.098 6.297c-.008.038-.067.045-.105.045s-.067-.03-.105-.045-.113-.007-.12-.052v-.015c-.008-.015.008-.03.015-.037a.27.27 0 0 1 .203 0c.045 0 .12.053.112.105z" fill-opacity=".3"/><path d="M14.472 10.234v.69h-.412c.374.683.643 1.419.795 2.183a1.52 1.52 0 0 1 .39.045c.06-.158.098-.315.12-.473.143-1.043-.518-2.062-.893-2.445zm0 0v.69h-.412c.374.683.643 1.419.795 2.183a1.52 1.52 0 0 1 .39.045c.06-.158.098-.315.12-.473.143-1.043-.518-2.062-.893-2.445zm3.488 5.978v-.068l-.008-.007c-.128-.15-.187-.398-.255-.69-.06-.3-.135-.593-.375-.787-.045-.038-.09-.045-.142-.098a.33.33 0 0 0-.142-.053c.21-.615.232-1.238.127-1.83a4.46 4.46 0 0 0-.262-.937c-.405-1.058-1.11-1.98-1.65-2.61l-.78-1.08c-.248-.428-.412-.885-.405-1.447.015-1.043.083-2.67-.652-3.682-.39-.548-1.027-.923-2.032-.923l-.367.015c-.953.075-1.545.42-1.913.908-.862 1.14-.457 3.03-.487 3.818a4.03 4.03 0 0 1-.795 2.265l-.765.975c-.502.705-1.005 1.545-1.297 2.415-.187.563-.293 1.14-.24 1.695l.022.172a.27.27 0 0 0-.082.098c-.203.203-.345.45-.503.63-.157.15-.367.202-.607.3-.24.105-.502.203-.653.51-.075.143-.105.3-.105.45s.022.308.045.405c.045.3.09.547.03.727-.187.51-.21.863-.083 1.117.135.248.405.345.712.45.615.15 1.447.098 2.108.45.697.345 1.418.502 1.98.352.405-.09.742-.352.922-.712.037 0 .068 0 .105-.008.42-.023.885-.195 1.605-.24.202-.015.42.008.66.038.383.06.818.142 1.298.113.015.098.045.142.082.247h.008c.293.585.84.848 1.425.802s1.208-.397 1.717-.975c.473-.578 1.275-.817 1.8-1.133.262-.143.48-.345.495-.637.015-.3-.15-.608-.54-1.035zM12.125 5.479c-.03-.098-.075-.15-.135-.248-.068-.052-.128-.105-.203-.105h-.015c-.067 0-.135.022-.195.105a.54.54 0 0 0-.158.248c-.037.098-.06.195-.068.3v.015a1.84 1.84 0 0 0 .015.203l-.457-.158a.92.92 0 0 1-.015-.143v-.015c-.008-.202.03-.397.113-.577.06-.165.172-.308.322-.405a.77.77 0 0 1 .45-.15h.015c.158 0 .3.053.442.15.143.105.248.247.33.405.083.188.12.337.128.54 0-.015.008-.03.008-.045v.075a1.58 1.58 0 0 1-.12.503c-.037.09-.09.18-.165.247-.023-.015-.045-.022-.068-.03-.075-.038-.15-.053-.217-.098-.052-.025-.108-.043-.165-.053.037-.045.113-.098.143-.15.037-.098.06-.195.068-.3v-.015c0-.098-.015-.202-.053-.3zm-3.12-.33a.97.97 0 0 1 .217-.405c.098-.098.195-.15.315-.15h.023c.111.002.219.038.307.105.113.098.203.218.263.345a1.27 1.27 0 0 1 .113.503c.008.053.008.09.008.127 0 .03 0 .053-.008.075v.06c-.019.008-.04.013-.06.015-.12.045-.21.105-.3.15.008-.06.008-.128 0-.195v-.015c-.008-.098-.03-.15-.06-.248-.025-.077-.069-.147-.127-.202-.02-.017-.042-.029-.067-.037s-.05-.01-.076-.008h-.015c-.053 0-.098.03-.135.098-.053.06-.082.127-.098.202-.015.082-.022.165-.015.247v.015c.008.098.03.15.06.247.037.098.075.15.127.203.008.007.015.015.023.015-.053.045-.082.053-.127.105-.031.025-.067.043-.105.053a2.18 2.18 0 0 1-.203-.308c-.075-.157-.112-.322-.12-.495-.015-.172.008-.345.06-.502zm.082 1.582l.367-.255.127-.098h.008c.127-.157.33-.353.63-.457.105-.022.225-.045.36-.045a1.5 1.5 0 0 1 .915.3c.225.15.398.202.803.353.195.098.308.195.367.3v-.105c.053.112.053.24.008.353-.09.24-.39.487-.803.637-.21.098-.383.248-.592.345-.21.105-.443.225-.765.203-.115.01-.231-.008-.338-.053a1.95 1.95 0 0 1-.248-.143c-.15-.105-.277-.255-.465-.353-.308-.187-.473-.39-.525-.532-.053-.202 0-.353.15-.45zm.12 11.745c-.045.555-.367.855-.855.967-.495.098-1.155 0-1.822-.345-.727-.405-1.605-.352-2.16-.457-.285-.045-.465-.15-.555-.3-.083-.15-.083-.45.098-.922.09-.255.022-.57-.022-.84-.038-.3-.06-.532.038-.705.12-.255.3-.3.518-.405.225-.098.487-.15.697-.345v-.008c.195-.203.338-.45.51-.63.143-.15.285-.247.503-.247h.007c.038 0 .075 0 .12.007.285.045.533.255.773.563l.69 1.252h.008c.18.398.57.803.9 1.23.33.45.585.848.555 1.178v.008zm2.468-.48c-.742.172-1.53.12-2.265-.285a1.87 1.87 0 0 1-.262-.158c-.083-.142-.187-.277-.308-.397-.055-.094-.126-.178-.21-.248a1.22 1.22 0 0 0 .36-.052c.105-.053.195-.143.232-.247.082-.203 0-.525-.262-.878-.263-.345-.705-.742-1.35-1.14a2.28 2.28 0 0 1-.578-.502c-.143-.173-.24-.353-.3-.54-.12-.405-.105-.817-.008-1.237.113-.495.338-.975.555-1.388l.412-.682c.075-.053.022.09-.292.682l-.022.045c-.3.563-.863 1.875-.09 2.895a6.12 6.12 0 0 1 .488-2.16l.36-.78c.443-.937.982-2.152 1.035-3.172.037.03.165.105.217.15.165.105.293.255.45.353.157.15.36.247.668.247.03.008.053.008.083.008a1.61 1.61 0 0 0 .758-.202c.217-.098.39-.248.555-.3h.008c.352-.098.63-.3.795-.525.27 1.065.907 2.61 1.313 3.36.398.706.682 1.47.84 2.265a1.52 1.52 0 0 1 .39.045c.06-.158.098-.315.12-.473.143-1.043-.518-2.062-.893-2.445-.023-.015-.045-.037-.06-.053-.165-.15-.172-.255-.09-.255.053.045.098.09.15.142.42.435.907 1.132 1.095 1.927a2.58 2.58 0 0 1 .09.683c0 .188-.023.383-.068.57a.51.51 0 0 0 .15.053c.787.397 1.072.697.937 1.147v-.03h-.15c.113-.353-.135-.623-.81-.915-.69-.3-1.245-.255-1.342.345-.008.03-.008.053-.015.105-.053.015-.105.037-.157.045-.323.202-.503.502-.6.893-.098.397-.127.862-.157 1.402-.015.247-.128.63-.24 1.012-.457.323-.975.57-1.53.69zm6.225-.383c-.473.3-1.32.532-1.86 1.177-.473.555-1.042.855-1.545.893s-.937-.15-1.192-.675h-.008c-.158-.3-.09-.773.045-1.268.135-.502.322-1.012.352-1.425.023-.533.053-.998.143-1.358.098-.352.24-.6.488-.742l.037-.015c.023.45.255.93.668 1.035.443.098 1.087-.255 1.357-.577l.158-.008c.24-.008.442.008.645.202.157.15.232.398.3.66.067.3.12.585.307.795.375.397.495.682.488.855-.015.202-.142.3-.383.45zm-3.427-7.38v.69h-.412c.374.683.643 1.419.795 2.183a1.52 1.52 0 0 1 .39.045c.06-.158.098-.315.12-.473.143-1.043-.518-2.062-.893-2.445z"/><path d="M12.665 6.724v.105c-.06-.105-.173-.202-.368-.3-.405-.15-.577-.202-.802-.353a1.5 1.5 0 0 0-.915-.3c-.135 0-.255.022-.36.045-.3.105-.502.3-.63.458h-.008c-.023.022-.053.045-.127.098-.083.045-.203.15-.367.255-.15.097-.203.247-.15.45.053.143.217.345.525.533.188.098.315.247.465.353.075.053.157.098.247.143.105.045.217.06.338.053.322.022.555-.098.765-.203.21-.098.383-.247.593-.345.412-.15.712-.397.802-.638.045-.112.045-.24-.007-.353zm-1.898-.495c-.008-.015.008-.03.015-.037a.27.27 0 0 1 .202 0c.045 0 .12.052.113.105-.008.038-.068.045-.105.045s-.067-.03-.105-.045-.113-.007-.12-.053v-.015zm-.645-.037c.06-.022.143-.03.195 0 .015.007.03.022.022.037v.015h.008c-.015.045-.09.038-.127.053s-.068.053-.105.053-.098-.015-.105-.053c-.008-.053.068-.105.113-.105zm1.987.893l-.525.353c-.33.15-.72.397-1.133.397-.405 0-.735-.203-.967-.353L9.2 7.234c-.12-.098-.105-.247-.053-.247.083.007.098.098.15.15.075.045.165.15.27.248.225.15.517.353.885.353s.803-.203 1.065-.353l.488-.353c.12-.098.112-.195.217-.195.098.008.023.098-.113.248zm6.172 10.08c-.015.203-.142.3-.383.45-.472.3-1.32.532-1.86 1.178-.472.555-1.042.855-1.545.892s-.937-.15-1.193-.675h-.008c-.157-.3-.09-.773.045-1.267.135-.503.322-1.012.353-1.425.022-.533.053-.998.143-1.357.098-.353.24-.6.487-.742l.037-.015c.023.45.255.93.668 1.035.443.098 1.088-.255 1.358-.578l.157-.008c.24-.007.442.008.645.203.157.15.233.398.3.66.067.3.12.585.308.795.375.398.495.683.487.855zM9.208 18.47v.008c-.045.555-.367.855-.855.968-.495.098-1.155 0-1.822-.345-.727-.405-1.605-.352-2.16-.457-.285-.045-.465-.15-.555-.3-.083-.15-.083-.45.098-.922.09-.255.022-.57-.022-.84-.038-.3-.06-.532.038-.705.12-.255.3-.3.517-.405.225-.098.487-.15.697-.345v-.007c.195-.203.338-.45.51-.63.143-.15.285-.248.502-.248h.008c.037 0 .075 0 .12.008.285.045.532.255.773.563l.69 1.253h.008c.18.397.57.802.9 1.23.33.45.585.848.555 1.177z"/><path d="M10.347 6.244c-.015.045-.09.037-.127.053s-.068.053-.105.053-.098-.015-.105-.053c-.008-.053.068-.105.113-.105.06-.022.143-.03.195 0 .015.008.03.022.023.038v.015h.008zm1.762.84l-.525.353c-.33.15-.72.397-1.132.397-.405 0-.735-.202-.968-.353L9.2 7.234c-.12-.098-.105-.248-.053-.248.082.008.098.098.15.15.075.045.165.15.27.247.225.15.518.353.885.353s.802-.202 1.065-.353l.487-.353c.12-.097.113-.195.218-.195.098.007.022.098-.113.247z"/></g><defs><clipPath id="A"><path fill="#fff" transform="translate(2 1.999)" d="M0 0h18v18H0z"/></clipPath></defs>'
    ],
    linuxrpm: [
      "Скачать для ",
      "Linux",
      "linuxrpm",
      "https://getcompass.ru/app/linux-rpm",
      "https://getcompass.ru/on-premise/app/linux-rpm",
      ".rpm",
      '<path d="M10.5256 3.01227C10.174 3.04388 9.79074 3.08931 9.60704 3.12091C8.28556 3.35795 7.05296 3.91696 5.98235 4.7703C5.64062 5.04289 5.0421 5.64141 4.76951 5.98314C3.81741 7.1782 3.25247 8.51548 3.05494 10.0523C3.01346 10.3723 3.01148 10.4394 3.00556 13.8528C2.99765 17.6651 2.99173 17.4676 3.1142 17.8113C3.28605 18.2913 3.69889 18.7061 4.18284 18.8819C4.52457 19.0083 4.34877 19.0024 8.14728 18.9945C11.2564 18.9886 11.6298 18.9846 11.8767 18.955C12.487 18.8799 12.9552 18.7772 13.5122 18.5935C14.4189 18.2952 15.2446 17.8468 16.0169 17.2305C16.3586 16.958 16.9572 16.3594 17.2298 16.0177C18.2016 14.7989 18.7725 13.4202 18.9542 11.8597C19.0016 11.4488 19.0016 10.552 18.9542 10.1412C18.7428 8.32783 17.9902 6.72388 16.7419 5.43795C15.4342 4.08882 13.7335 3.25326 11.8786 3.0498C11.6001 3.0182 10.7251 2.9945 10.5256 3.01227ZM13.7256 4.91845C13.9744 4.94808 14.2648 5.02709 14.4228 5.10808C14.6105 5.20289 14.7922 5.38264 14.8772 5.5624C14.9344 5.68486 14.9404 5.71252 14.9384 5.88437C14.9364 6.09375 14.8949 6.234 14.7922 6.37622C14.7132 6.48487 14.5572 6.60338 14.4228 6.65869C14.3162 6.70017 14.2865 6.70412 13.9922 6.69622C13.2337 6.67647 13.0362 6.6824 12.8564 6.73178C12.6451 6.78709 12.331 6.93721 12.173 7.05573C11.8747 7.28091 11.61 7.63054 11.4954 7.95054C11.369 8.29622 11.3651 8.34165 11.3651 9.43993C11.3651 10.55 11.3611 10.5224 11.4994 10.6054C11.5586 10.6429 11.6041 10.6449 12.2638 10.6449C12.6549 10.6449 13.0204 10.6547 13.0915 10.6666C13.5596 10.7417 13.8875 11.194 13.8085 11.6562C13.7453 12.0236 13.4826 12.2962 13.1191 12.3733C13.0144 12.395 12.8011 12.4029 12.171 12.4029H11.3552V13.5426C11.3552 14.9372 11.3374 15.1051 11.1419 15.6523C10.6777 16.952 9.52605 17.8962 8.15519 18.1036C7.9063 18.1412 7.39864 18.1471 7.17346 18.1135C6.62827 18.0345 6.27272 17.8389 6.10481 17.5229C5.88753 17.114 6.05938 16.6083 6.4821 16.4128C6.6737 16.3219 6.84358 16.3061 7.19716 16.3456C7.95173 16.4286 8.49691 16.2686 8.96309 15.8301C9.20012 15.6049 9.37 15.3461 9.47469 15.0498C9.58136 14.7417 9.58728 14.6745 9.58728 13.5841C9.58728 12.6044 9.58728 12.5826 9.5458 12.5293C9.52407 12.4997 9.48062 12.4562 9.45099 12.4345C9.39963 12.395 9.36605 12.393 8.5937 12.3831C7.85889 12.3733 7.78185 12.3693 7.70086 12.3357C7.39074 12.2034 7.19716 11.9604 7.1458 11.6404C7.11815 11.4626 7.15568 11.2473 7.24457 11.0913C7.31568 10.9688 7.48358 10.8049 7.59815 10.7456C7.78383 10.6508 7.85099 10.6449 8.74975 10.6449H9.59519L9.60309 9.41425C9.61296 8.11252 9.61296 8.09869 9.7137 7.70561C9.93889 6.83252 10.5019 6.0424 11.2604 5.53079C11.4579 5.40042 11.772 5.23647 11.9972 5.14561C12.2184 5.05869 12.6905 4.94215 12.9157 4.91845C13.1586 4.89474 13.532 4.89277 13.7256 4.91845Z" fill="currentColor"/>'
    ],
    linuxastra: [
      "Скачать для ",
      "Astra Linux",
      "linuxastra",
      "https://getcompass.ru/app/linux-astra",
      "https://getcompass.ru/on-premise/app/linux-astra",
      ".deb",
      '<path d="M20.7067 8.27413L14.1247 7.25007C13.5598 6.17025 11.6334 2.49084 11.6334 2.49084L11.004 1.29395L7.88103 7.25007L1.29492 8.27351L5.99856 12.879L4.94527 19.4116L11.004 16.4072L17.0632 19.41L16.0037 12.879C16.8425 12.0564 19.7002 9.2606 19.8404 9.1232L20.7067 8.27413ZM15.1599 12.5833L16.0546 18.0363L11.004 15.5325L5.94773 18.0385L6.84343 12.5833L2.9076 8.73317L8.41075 7.87516L11 2.93509L13.5858 7.87516L19.0927 8.73317L15.1599 12.5833Z" fill="currentColor"/><path d="M7.2932 13.5885L9.11975 15.833L9.90323 15.4426L6.8706 9.76774L10.8641 14.9666L11.0012 14.8985L12.3956 15.5908L9.32508 9.48246L14.5537 16.6623L15.2631 17.0123L15.1496 16.3182L11.7772 9.19718L14.6748 13.3766L14.5168 12.4036L15.4033 11.5374L14.2314 8.91436L15.7468 11.203L17.8957 9.10075L13.176 8.36782L11.0012 4.21582L8.8247 8.36782L4.10742 9.10075L7.48524 12.4036L7.2932 13.5885Z" fill="currentColor"/><path d="M7.10111 14.7764L6.74023 17.0139L8.01523 16.3824L7.10111 14.7764Z" fill="currentColor"/>'
    ],
    appstore: [
      "Перейти в ",
      "AppStore",
      "appstore",
      "https://redirect.appmetrica.yandex.com/serve/244294711257416556",
      "https://getcompass.ru/on-premise/app/ios",
      "",
      '<path d="M4.25338 2.67078H17.7578C18.7745 2.67078 19.5994 3.49562 19.5994 4.51229V18.0168C19.5994 19.0334 18.7745 19.8583 17.7578 19.8583H4.25338C3.23671 19.8583 2.41187 19.0334 2.41187 18.0168V4.51229C2.41187 3.49562 3.23671 2.67078 4.25338 2.67078ZM14.727 16.1944C14.938 16.5627 15.4099 16.6855 15.7744 16.4745C16.1427 16.2635 16.2655 15.7916 16.0544 15.4271L15.5058 14.4795C14.8881 14.2915 14.3817 14.4373 13.9866 14.9169L14.727 16.1944ZM9.39812 14.1266H16.3767C16.7987 14.1266 17.144 13.7813 17.144 13.3593C17.144 12.9372 16.7987 12.592 16.3767 12.592H14.4201L11.911 8.24904L12.6975 6.89092C12.9085 6.52262 12.7819 6.05457 12.4174 5.84356C12.0491 5.63255 11.5811 5.75916 11.3701 6.12362L11.0286 6.71444L10.6872 6.12362C10.4762 5.75532 10.0043 5.63255 9.63982 5.84356C9.27152 6.05457 9.14875 6.52645 9.35976 6.89092L12.6515 12.592H10.269C9.49404 12.592 9.06051 13.5012 9.39812 14.1266ZM5.63452 14.1266H6.74711L5.99515 15.4271C5.78414 15.7954 5.91075 16.2635 6.27522 16.4745C6.64352 16.6855 7.11157 16.5589 7.32258 16.1944C8.58479 14.0115 9.52856 12.3694 10.1616 11.2799C10.8023 10.1673 10.3457 9.05471 9.8892 8.67873C9.38661 9.54961 8.63466 10.854 7.6295 12.592H5.63452C5.21251 12.592 4.86722 12.9372 4.86722 13.3593C4.86722 13.7851 5.21251 14.1266 5.63452 14.1266Z" fill="currentColor"/>'
    ],
    playmarket: [
      "Перейти в ",
      "Google Play",
      "playmarket",
      "https://redirect.appmetrica.yandex.com/serve/532525089422325047",
      "https://getcompass.ru/on-premise/app/google-play",
      "",
      '<path d="M11.7677 11.03L3.46533 19.356C3.19031 19.0597 3.04436 18.6977 3.00496 18.2877C2.99812 18.2148 3.00054 18.1406 3.00054 18.0668C3.00054 13.3579 3.00054 8.64895 3.00054 3.94002C3.00054 3.45021 3.13724 3.01844 3.43558 2.67175L11.7677 11.03Z" fill="currentColor"/><path d="M12.4697 11.6851L15.3799 14.6051L13.3313 15.7052C10.8229 17.0517 8.31456 18.3985 5.80618 19.7455C5.3434 19.9946 4.86453 20.0736 4.35511 19.9249C4.33587 19.9201 4.31705 19.9137 4.29882 19.9059C4.28716 19.9003 4.27912 19.8882 4.28475 19.8938L12.4697 11.6851Z" fill="currentColor"/><path d="M15.3855 7.40097L12.4797 10.3157L4.28394 2.09687C4.79538 1.92836 5.29917 1.98077 5.78889 2.24361C7.6545 3.24662 9.52078 4.24829 11.3877 5.24861C12.6357 5.91862 13.8839 6.58824 15.1322 7.25745C15.2195 7.30461 15.3047 7.35541 15.3855 7.40097Z" fill="currentColor"/><path d="M13.1251 11.0171C14.1705 9.96896 15.2086 8.92725 16.264 7.86861L17.3987 8.47654C17.9169 8.7539 18.434 9.03287 18.9527 9.30942C19.6322 9.67225 20.0053 10.2366 20.0001 11.0091C19.9948 11.7815 19.6161 12.3374 18.9326 12.697C18.0758 13.1481 17.225 13.6109 16.3738 14.0717C16.2825 14.1213 16.2214 14.1406 16.1326 14.0515C15.1443 13.0526 14.1525 12.0564 13.1572 11.0631C13.1453 11.0487 13.1345 11.0333 13.1251 11.0171Z" fill="currentColor"/>'
    ],
    huawei: [
      "Перейти в ",
      "AppGallery",
      "huawei",
      "https://redirect.appmetrica.yandex.com/serve/244294713874627369",
      "https://getcompass.ru/on-premise/app/appgallery",
      "",
      '<path d="M2.50012 18.4013V4.59358C2.51263 4.57017 2.52259 4.5455 2.52983 4.51997C2.62162 4.01137 2.87438 3.59588 3.31028 3.32495C3.54707 3.17773 3.83087 3.10634 4.09339 3.00037H17.9015C17.9153 3.00879 17.9281 3.02298 17.9428 3.0252C18.7232 3.12275 19.5028 3.84287 19.4997 4.94122C19.4877 9.31069 19.4952 13.6802 19.4926 18.0496C19.4959 18.2262 19.4788 18.4025 19.4416 18.5751C19.2363 19.4437 18.5104 19.994 17.5831 19.994C13.7448 19.994 9.90624 19.994 6.06756 19.994C5.46981 19.994 4.87029 20.0109 4.27564 19.9878C3.56082 19.9612 3.02604 19.6131 2.69967 18.9746C2.60788 18.7963 2.56664 18.5933 2.50012 18.4013ZM10.6434 12.0683L10.705 12.0448C10.7303 11.7442 10.76 11.444 10.78 11.1429C10.8638 9.86674 10.8859 8.59235 10.6633 7.32594C10.5848 6.87941 10.4744 6.44175 10.2709 6.03159C10.2239 5.9367 10.1649 5.90256 10.062 5.92872C9.89086 5.97306 9.71571 6.00099 9.5472 6.05287C9.251 6.14838 8.99132 6.33263 8.80334 6.58065C8.61535 6.82867 8.50815 7.12847 8.49626 7.43945C8.49538 7.46718 8.49497 7.49481 8.49504 7.52234C8.49602 7.93558 8.60224 8.33045 8.75522 8.71207C9.22704 9.88802 9.90239 10.9491 10.6039 11.996C10.619 12.0191 10.6305 12.0448 10.6434 12.0683ZM11.2926 12.0475L11.3396 12.0519C11.3713 12.0147 11.4009 11.9758 11.4283 11.9353C11.8579 11.2342 12.3014 10.5412 12.7107 9.82816C13.0291 9.273 13.2987 8.6899 13.4375 8.05802C13.5785 7.41462 13.4982 6.82709 12.9825 6.35662C12.7045 6.10387 12.3617 6.01917 12.0069 5.94069C11.8847 5.91379 11.8104 5.9308 11.7541 5.99171C11.7268 6.02119 11.7037 6.06093 11.6815 6.11096C11.4819 6.55926 11.3711 7.03062 11.2979 7.51173C11.0886 8.87569 11.1374 10.2436 11.2487 11.6116C11.2497 11.6272 11.2508 11.6429 11.252 11.6585C11.2523 11.6621 11.2526 11.6657 11.2529 11.6694C11.2631 11.7961 11.2795 11.922 11.2926 12.0479V12.0475ZM10.2691 12.3361C10.1067 11.9856 9.9362 11.6391 9.7579 11.2969C9.03539 9.90995 8.18416 8.59301 7.21497 7.36358C7.21338 7.36156 7.21179 7.35955 7.2102 7.35753C7.20993 7.3572 7.20967 7.35686 7.20941 7.35653C6.87107 7.70063 6.60323 8.05492 6.44093 8.48105C6.20325 9.1045 6.31589 9.66321 6.76376 10.1536C6.77348 10.1641 6.78329 10.1744 6.79317 10.1847C6.88285 10.2779 6.97913 10.3646 7.08126 10.4441C7.11879 10.4741 7.15651 10.5038 7.1944 10.5332C7.95317 11.122 8.78274 11.5921 9.62783 12.0364C9.8006 12.1272 9.97402 12.217 10.1476 12.3064C10.1872 12.3198 10.2279 12.3299 10.2691 12.3366V12.3361ZM14.7837 7.35077C13.5709 8.90895 12.5484 10.5398 11.7599 12.3171L11.7601 12.3171C11.8246 12.3105 11.8869 12.2904 11.9431 12.2581C12.072 12.1883 12.2013 12.119 12.3306 12.0497C12.6635 11.8714 12.9965 11.693 13.3235 11.5043C13.9598 11.1371 14.586 10.7505 15.1292 10.2499C15.4045 9.99533 15.6001 9.69114 15.648 9.31335C15.6546 9.26082 15.6589 9.2093 15.6611 9.15873C15.6612 9.15731 15.6612 9.15589 15.6613 9.15447C15.6908 8.42247 15.2653 7.88778 14.7837 7.35077ZM9.96359 12.7224L9.97955 12.6758C8.58007 11.757 7.11584 10.9465 5.64275 10.1439C5.2206 11.3588 6.14605 12.7024 7.40452 12.7277C7.9763 12.739 8.54807 12.7378 9.11985 12.7367C9.35468 12.7362 9.58952 12.7357 9.82435 12.7361C9.87091 12.7361 9.91703 12.7268 9.96359 12.7224ZM16.3491 10.1434C16.3486 10.1437 16.3481 10.144 16.3476 10.1442C14.8701 10.955 13.4091 11.76 12.0242 12.6989C12.0634 12.7218 12.1076 12.7346 12.1528 12.736C12.1536 12.736 12.1543 12.736 12.1551 12.736C12.158 12.7361 12.161 12.7361 12.1639 12.7361C12.1906 12.7361 12.2172 12.7361 12.2439 12.7361C12.4054 12.7362 12.567 12.7365 12.7286 12.7367C13.0514 12.7373 13.3742 12.7378 13.6971 12.7368C13.7118 12.7367 13.7265 12.7367 13.7412 12.7366C13.8846 12.7361 14.028 12.7352 14.1713 12.7339C14.4135 12.7339 14.6591 12.7339 14.8968 12.686C16.0268 12.4586 16.7354 11.23 16.3476 10.1442C16.3475 10.144 16.3474 10.1437 16.3473 10.1434H16.3491ZM6.53539 13.1055C6.72606 13.4478 6.95 13.7214 7.25686 13.9196C7.50061 14.0767 7.75344 14.1567 8.00925 14.13C8.0127 14.1296 8.01615 14.1292 8.0196 14.1288C8.15595 14.113 8.29312 14.0668 8.43019 13.9857C8.7927 13.7701 9.15007 13.5439 9.50721 13.3177C9.63062 13.2395 9.754 13.1614 9.87756 13.0838C9.89663 13.0713 9.90594 13.0434 9.94408 12.9871L6.53539 13.1055ZM12.034 12.9866C12.0538 13.0111 12.0674 13.0294 12.0777 13.0431C12.0936 13.0645 12.1015 13.0751 12.112 13.0815C12.23 13.1548 12.348 13.2282 12.4659 13.3016C12.8528 13.5425 13.2399 13.7834 13.6304 14.0189C13.8091 14.1237 14.0201 14.1592 14.2232 14.1187C14.813 14.0141 15.1544 13.6052 15.4648 13.1055L12.034 12.9866ZM11.2438 15.2069C11.2494 15.2276 11.2541 15.2464 11.2584 15.2637C11.2664 15.2955 11.2732 15.3226 11.2824 15.3487C11.339 15.512 11.3961 15.675 11.4532 15.8381C11.5786 16.1961 11.7039 16.5541 11.8242 16.9136C11.8437 16.9719 11.8684 17.0054 11.9036 17.0233C11.9328 17.0381 11.969 17.0422 12.0154 17.0408C12.1178 17.0377 12.1883 17.0351 12.2256 16.9145C12.3182 16.6138 12.4269 16.3181 12.5297 16.021C12.5462 15.974 12.5679 15.9292 12.6011 15.8489C12.7342 16.2303 12.8548 16.5677 12.9639 16.9091C13.0007 17.024 13.0659 17.04 13.1705 17.0422C13.2008 17.0428 13.2273 17.0409 13.2507 17.0352C13.2757 17.0291 13.297 17.0185 13.3153 17.0019C13.3168 17.0005 13.3183 16.9991 13.3197 16.9976C13.3412 16.9764 13.3583 16.9463 13.3723 16.9043C13.547 16.3806 13.7332 15.8609 13.9142 15.3394C13.9266 15.2956 13.9368 15.2512 13.9448 15.2064C13.9443 15.2064 13.9438 15.2065 13.9434 15.2065C13.9142 15.2089 13.8849 15.2097 13.8557 15.2088C13.8551 15.2088 13.8546 15.2087 13.8541 15.2087C13.841 15.2083 13.8279 15.2075 13.8148 15.2064C13.7951 15.2026 13.7765 15.2001 13.7589 15.1989C13.6105 15.1886 13.5392 15.27 13.4956 15.4326C13.4334 15.6662 13.3567 15.8962 13.2753 16.1401C13.2405 16.2443 13.2049 16.3511 13.1692 16.4617C13.169 16.461 13.1687 16.4603 13.1685 16.4596C13.0397 16.0707 12.9207 15.7224 12.8104 15.3714C12.7767 15.2634 12.7393 15.2031 12.614 15.1987C12.6091 15.1985 12.6041 15.1984 12.5989 15.1984C12.4615 15.1984 12.4216 15.2632 12.3901 15.3758C12.3521 15.5065 12.308 15.6354 12.2639 15.7643C12.2437 15.8235 12.2235 15.8827 12.2038 15.942C12.169 16.0464 12.1345 16.1511 12.1 16.2558C12.0827 16.3082 12.0655 16.3606 12.0482 16.413C12.0479 16.4123 12.0477 16.4117 12.0474 16.4111C11.9045 16.0606 11.7794 15.7031 11.6726 15.3399C11.6495 15.2625 11.6166 15.2226 11.5607 15.2099C11.5393 15.2051 11.5147 15.2043 11.4859 15.2069C11.4353 15.2103 11.3849 15.2093 11.3309 15.2081C11.3307 15.2081 11.3304 15.2081 11.3302 15.2081C11.3021 15.2075 11.273 15.2069 11.2425 15.2069H11.2438ZM5.56781 15.2135V17.0267H5.93231H5.9332V16.3025V16.3017H6.77573V17.0244H7.13402V15.2166H6.76908V15.9354H5.92655V15.9345V15.2135H5.56781ZM15.6028 15.2064H14.2725V15.2077V17.0244H15.6365H15.6387V16.7016H14.6365V16.2418V16.2405H15.2972H15.2994V15.9075H14.6383V15.5359H15.601L15.601 15.5329L15.6028 15.2064ZM7.67413 15.2139C7.67413 15.327 7.67253 15.4386 7.67076 15.5491C7.6705 15.5649 7.67024 15.5807 7.66999 15.5964C7.66539 15.8774 7.66091 16.1516 7.67989 16.424C7.70739 16.8187 7.9903 17.0479 8.41112 17.0657C8.42613 17.0663 8.44103 17.0666 8.45579 17.0667C8.46635 17.0667 8.47683 17.0666 8.48725 17.0663C8.87068 17.0567 9.15994 16.8473 9.20531 16.4773C9.24966 16.1012 9.23147 15.7172 9.23946 15.3368C9.23797 15.2953 9.23397 15.254 9.22748 15.2131H8.87007C8.87007 15.3971 8.87007 15.5727 8.87007 15.7478C8.86932 15.7987 8.8693 15.8496 8.86934 15.9006C8.86934 15.9051 8.86934 15.9097 8.86935 15.9143C8.86947 16.0654 8.8696 16.2165 8.85229 16.3654C8.85187 16.369 8.85144 16.3726 8.85101 16.3762C8.8234 16.6009 8.67618 16.7094 8.45099 16.7086C8.44687 16.7086 8.44272 16.7086 8.43855 16.7085C8.43636 16.7084 8.43416 16.7083 8.43196 16.7083C8.20581 16.7012 8.05637 16.5708 8.0444 16.3389C8.02976 16.0635 8.03597 15.7868 8.03376 15.5106C8.03376 15.4135 8.03376 15.3164 8.03376 15.2139H7.67413ZM11.3577 17.032C11.3418 16.9876 11.332 16.9508 11.317 16.9167C11.085 16.3846 10.8469 15.8582 10.623 15.3244C10.5876 15.2398 10.5392 15.2165 10.4799 15.2082C10.46 15.2054 10.4388 15.2043 10.4165 15.2032C10.407 15.2027 10.3974 15.2022 10.3875 15.2015C10.278 15.1949 10.2194 15.2304 10.1747 15.3346C10.0178 15.6998 9.85719 16.0636 9.69653 16.4274C9.62551 16.5882 9.55448 16.7491 9.48379 16.91C9.46893 16.9492 9.45626 16.9893 9.44585 17.0299C9.44579 17.0301 9.44572 17.0304 9.44565 17.0306C9.79109 17.0537 9.7871 17.0515 9.93609 16.7584C9.95275 16.7312 9.97516 16.708 10.0017 16.6904C10.0283 16.6727 10.0584 16.6611 10.09 16.6564C10.2771 16.6435 10.466 16.6595 10.6531 16.6484C10.7024 16.6455 10.7435 16.65 10.777 16.6639C10.8295 16.6857 10.863 16.7304 10.8793 16.8054C10.8956 16.8813 10.9234 16.9395 10.9629 16.9799C10.9634 16.9804 10.9639 16.9808 10.9643 16.9813C11.0259 17.0432 11.1155 17.0626 11.234 17.0395C11.2745 17.0343 11.3152 17.0317 11.356 17.0315L11.3577 17.032ZM16.1025 15.2139V17.0253H16.4435V15.2139H16.1025Z" fill="currentColor"/><path d="M10.6687 16.3118H10.1188C10.1815 16.1616 10.2427 16.0185 10.3083 15.8651C10.3354 15.8016 10.3633 15.7363 10.3924 15.668C10.4913 15.8985 10.5769 16.0972 10.6687 16.3118Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.75522 8.71207C8.6022 8.33036 8.49597 7.93695 8.49504 7.52234C8.49602 7.93558 8.60224 8.33045 8.75522 8.71207Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.2926 12.0479L11.3391 12.0524C11.3393 12.0522 11.3394 12.0521 11.3396 12.0519L11.2926 12.0475V12.0479ZM11.2482 11.6121C11.2494 11.6275 11.2507 11.643 11.252 11.6585C11.2508 11.6429 11.2497 11.6272 11.2487 11.6116C11.1374 10.2436 11.0886 8.87569 11.2979 7.51173C11.3711 7.03062 11.4819 6.55926 11.6815 6.11096C11.7037 6.06093 11.7268 6.02119 11.7541 5.99171C11.7266 6.02123 11.7034 6.06114 11.681 6.11144C11.4815 6.55973 11.3711 7.03109 11.2974 7.5122C11.0881 8.87616 11.1369 10.2441 11.2482 11.6121Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.7601 12.3171L11.7599 12.3175C11.8245 12.311 11.8869 12.2909 11.9431 12.2585C12.0776 12.1855 12.2126 12.1131 12.3475 12.0408C12.6747 11.8654 13.002 11.6899 13.3235 11.5047C13.9598 11.1371 14.5859 10.7527 15.1292 10.2503C15.4045 9.99574 15.6001 9.69156 15.648 9.31376C15.6546 9.26109 15.659 9.20943 15.6611 9.15873C15.6589 9.2093 15.6546 9.26082 15.648 9.31335C15.6001 9.69114 15.4045 9.99533 15.1292 10.2499C14.586 10.7505 13.9598 11.1371 13.3235 11.5043C12.9965 11.693 12.6635 11.8714 12.3306 12.0497C12.2013 12.119 12.072 12.1883 11.9431 12.2581C11.8869 12.2904 11.8246 12.3105 11.7601 12.3171Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M16.3476 10.1442C16.3475 10.144 16.3474 10.1437 16.3473 10.1434C14.8693 10.9544 13.4077 11.7579 12.0224 12.6988C12.0621 12.7221 12.107 12.7348 12.1528 12.736C12.1076 12.7346 12.0634 12.7218 12.0242 12.6989C13.4091 11.76 14.8701 10.955 16.3476 10.1442ZM13.7412 12.7366C13.7265 12.7367 13.7118 12.7367 13.6971 12.7368C13.3742 12.7378 13.0514 12.7373 12.7286 12.7367C12.567 12.7365 12.4054 12.7362 12.2439 12.7361C12.3781 12.7363 12.5124 12.7365 12.6466 12.7367C13.0115 12.7374 13.3764 12.738 13.7412 12.7366Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.034 12.9866L12.0326 12.9866C12.0528 13.0116 12.0665 13.03 12.0769 13.0439C12.0925 13.0648 12.1003 13.0753 12.1107 13.082C12.2287 13.1552 12.3466 13.2286 12.4645 13.302C12.8514 13.5429 13.2385 13.7839 13.629 14.0194C13.8082 14.1243 14.0197 14.1597 14.2232 14.1187C14.0201 14.1592 13.8091 14.1237 13.6304 14.0189C13.2399 13.7834 12.8528 13.5425 12.4659 13.3016C12.348 13.2282 12.23 13.1548 12.112 13.0815C12.1015 13.0751 12.0936 13.0645 12.0777 13.0431C12.0674 13.0294 12.0538 13.0111 12.034 12.9866Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.49982 13.3225C9.62565 13.2428 9.75147 13.163 9.87756 13.0838C9.754 13.1614 9.63062 13.2395 9.50721 13.3177C9.15007 13.5439 8.7927 13.7701 8.43019 13.9857C8.79111 13.7717 9.14552 13.5471 9.49982 13.3225ZM8.0196 14.1288C8.01615 14.1292 8.0127 14.1296 8.00925 14.13C7.75344 14.1567 7.50061 14.0767 7.25686 13.9196C7.50305 14.0794 7.75955 14.1593 8.0196 14.1288Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.23667 12.737C9.43256 12.7366 9.62845 12.7361 9.82435 12.7361C9.58952 12.7357 9.35468 12.7362 9.11985 12.7367C8.54807 12.7378 7.9763 12.739 7.40452 12.7277C8.01524 12.7398 8.62595 12.7384 9.23667 12.737Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.92565 15.2135H5.56603V17.0275H5.93231V17.0267H5.56781V15.2135L5.92565 15.2135ZM5.92655 15.9345V15.9354H6.76908V15.2166H7.13402L6.76818 15.2166V15.9345H5.92655ZM7.13402 17.0244H6.77573V16.3017H5.9332V16.3025H6.77483V17.0253H7.13402L7.13402 17.0244Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.4799 15.2082C10.4582 15.2047 10.4351 15.2035 10.4108 15.2021C10.4024 15.2016 10.3939 15.2012 10.3853 15.2006C10.2758 15.1944 10.2168 15.2299 10.1725 15.3336C10.0157 15.6989 9.855 16.0627 9.69435 16.4265C9.62332 16.5873 9.55229 16.7481 9.4816 16.9091C9.46664 16.9486 9.45391 16.9888 9.44346 17.0297C9.44426 17.0298 9.44506 17.0298 9.44585 17.0299C9.45626 16.9893 9.46893 16.9492 9.48379 16.91C9.55448 16.7491 9.62551 16.5882 9.69653 16.4274C9.85719 16.0636 10.0178 15.6998 10.1747 15.3346C10.2194 15.2304 10.278 15.1949 10.3875 15.2015C10.3974 15.2022 10.407 15.2027 10.4165 15.2032C10.4388 15.2043 10.46 15.2054 10.4799 15.2082ZM10.8771 16.8045C10.8946 16.881 10.923 16.9394 10.9629 16.9799C10.9234 16.9395 10.8956 16.8813 10.8793 16.8054C10.863 16.7304 10.8295 16.6857 10.777 16.6639C10.8282 16.686 10.8611 16.7305 10.8771 16.8045ZM10.1188 16.3118C10.1815 16.1616 10.2427 16.0185 10.3083 15.8651C10.3354 15.8016 10.3633 15.7363 10.3924 15.668C10.2931 15.9012 10.2088 16.0994 10.1188 16.3118Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.601 15.5372V15.5329L15.601 15.5359H14.6383V15.9075L14.6383 15.5372H15.601ZM15.2972 16.2405H14.6365V16.2418H15.2972V16.2405ZM15.6365 17.0244V17.0257H14.2702V15.2077H14.2725V17.0244H15.6365Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M16.1025 15.2139L16.1016 15.214V17.0253H16.4426L16.1025 17.0253V15.2139Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.2691 12.3366C10.2283 12.3303 10.1881 12.3206 10.1489 12.3078C9.97493 12.2179 9.80107 12.1277 9.62783 12.0364C9.8006 12.1272 9.97402 12.217 10.1476 12.3064C10.1872 12.3198 10.2279 12.3299 10.2691 12.3366ZM7.1944 10.5332C7.15651 10.5038 7.11879 10.4741 7.08126 10.4441C6.97913 10.3646 6.88285 10.2779 6.79317 10.1847C6.88322 10.2784 6.97994 10.3656 7.08256 10.4454C7.11966 10.475 7.15694 10.5042 7.1944 10.5332ZM7.2102 7.35753C7.21179 7.35955 7.21338 7.36156 7.21497 7.36358L7.21072 7.357L7.2102 7.35753Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.67076 15.5491C7.67253 15.4386 7.67413 15.327 7.67413 15.2139L8.03156 15.2139H7.67238C7.67238 15.3443 7.67017 15.4724 7.66799 15.599C7.66318 15.8776 7.65849 16.1494 7.6777 16.424C7.70564 16.8236 7.98456 17.0479 8.40893 17.0657C8.42469 17.0663 8.44032 17.0667 8.45579 17.0667C8.44103 17.0666 8.42613 17.0663 8.41112 17.0657C7.9903 17.0479 7.70739 16.8187 7.67989 16.424C7.66091 16.1516 7.66539 15.8774 7.66999 15.5964C7.67024 15.5807 7.6705 15.5649 7.67076 15.5491ZM8.43855 16.7085C8.44272 16.7086 8.44687 16.7086 8.45099 16.7086C8.67618 16.7094 8.8234 16.6009 8.85101 16.3762C8.85144 16.3726 8.85187 16.369 8.85229 16.3654L8.84881 16.3761C8.86741 16.2238 8.86728 16.069 8.86715 15.9143C8.86715 15.9111 8.86715 15.908 8.86715 15.9048L8.86934 15.9006C8.8693 15.8496 8.86932 15.7987 8.87007 15.7478V15.2131L9.22529 15.2131H8.86788C8.86788 15.2751 8.86818 15.3358 8.86848 15.396C8.86907 15.5143 8.86965 15.6302 8.86788 15.7478C8.86711 15.8001 8.86711 15.8524 8.86715 15.9048L8.46008 16.691L8.43855 16.7085ZM8.46008 16.691L8.45099 16.7086C8.67494 16.7087 8.82129 16.6002 8.84881 16.3761L8.46008 16.691Z" fill="currentColor"/>'
    ],
    rustore: [
      "Перейти в ",
      "RuStore",
      "rustore",
      "https://redirect.appmetrica.yandex.com/serve/244294713874627369",
      "https://getcompass.ru/on-premise/app/rustore",
      "",
      '<path fill-rule="evenodd" clip-rule="evenodd" d="M10.6762 19.5C6.77497 19.5 4.82433 19.5 3.61236 18.305C2.40039 17.11 2.40039 15.1866 2.40039 11.3399V10.6599C2.40039 6.81325 2.40039 4.88993 3.61236 3.69492C4.82433 2.5 6.77497 2.5 10.6762 2.5H11.3659C15.2671 2.5 17.2177 2.5 18.4297 3.69492C19.6417 4.88992 19.6417 6.81324 19.6417 10.6599V10.6599V11.3399V11.3399C19.6417 15.1866 19.6417 17.11 18.4297 18.305C17.2177 19.5 15.2671 19.5 11.3659 19.5H10.6762ZM14.5465 13.5116L15.7114 13.7985C16.2391 13.9285 16.7506 13.537 16.7506 13.0033V7.46711C16.7506 6.99723 16.4248 6.58748 15.9603 6.4731L12.6191 5.65007C12.0914 5.52014 11.5799 5.91159 11.5799 6.44535V7.44331L9.47466 6.92477C8.94702 6.79484 8.43551 7.18628 8.43551 7.72005V8.71801L6.33017 8.19947C5.80257 8.06949 5.29102 8.46093 5.29102 8.9947V14.5309C5.29102 15.0008 5.61675 15.4105 6.08128 15.5249L9.42258 16.3479C9.95018 16.4779 10.4617 16.0864 10.4617 15.5527V14.6322L10.461 14.6321L10.4619 10.0246C10.4619 9.55756 10.1627 9.28675 10.054 9.20379C10.0333 9.18794 10.0275 9.15846 10.0424 9.13716C10.057 9.1162 10.0834 9.10628 10.1082 9.11365C10.5484 9.2447 10.9696 9.68972 11.0117 10.2493L11.157 14.4773C11.1618 14.6162 11.2529 14.7366 11.3841 14.7819L12.567 15.0732C13.0947 15.2032 13.6062 14.8118 13.6062 14.278L13.607 8.75048C13.607 8.2834 13.3078 8.01264 13.1991 7.92967C13.1784 7.91382 13.1726 7.88434 13.1875 7.86304C13.2022 7.84208 13.2285 7.83216 13.2532 7.83948C13.6935 7.97058 14.1148 8.4156 14.1568 8.97519L14.3022 13.2028C14.3072 13.3475 14.4062 13.4719 14.5465 13.5116Z" fill="currentColor" />'
    ]
  };
  const downloadLinksList = document.createElement("div");
  downloadLinksList.classList.add("cta__dd-list-inner-wrap");
  const downloadLinksOtherLinkWrap = `
    <div class="cta__dd-list-other-wrap">
      <a href="#" class="cta__list-item cta__list-other-button cursor-pointer w-inline-block">
        <div class="cta__list-item-icon is--vector-full w-embed">
          <svg width="22" height="22" viewBox="0 0 22 22">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 15.9998H16.3334C17.0698 15.9998 17.6667 15.4029 17.6667 14.6665V7.99984C17.6667 7.26346 17.0698 6.6665 16.3334 6.6665H5.66671C4.93033 6.6665 4.33337 7.26346 4.33337 7.99984V14.6665C4.33337 15.4029 4.93033 15.9998 5.66671 15.9998H10.5V17.6665H7.00004C6.7239 17.6665 6.50004 17.8904 6.50004 18.1665C6.50004 18.4426 6.7239 18.6665 7.00004 18.6665H11H15C15.2762 18.6665 15.5 18.4426 15.5 18.1665C15.5 17.8904 15.2762 17.6665 15 17.6665H11.5V15.9998Z" fill="currentColor"></path>
          </svg>
        </div>
        <span>Другие платформы</span>
        <div class="cta__list-item-icon is--vector-full is--arrow w-embed">
          <svg width="26" height="16" viewBox="0 0 26 16">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3431 1.06438L25.7071 7.42834C26.0976 7.81886 26.0976 8.45203 25.7071 8.84255L19.3431 15.2065C18.9526 15.597 18.3195 15.597 17.9289 15.2065C17.5384 14.816 17.5384 14.1828 17.9289 13.7923L22.5858 9.13545H1.5C0.947715 9.13545 0.5 8.68773 0.5 8.13545C0.5 7.58316 0.947715 7.13545 1.5 7.13545H22.5858L17.9289 2.47859C17.5384 2.08807 17.5384 1.4549 17.9289 1.06438C18.3195 0.673853 18.9526 0.673853 19.3431 1.06438Z" fill="currentColor"/>
          </svg>
        </div>
      </a>
    </div>
`;
  const downloadLinksWindowsTitles = `
    <div class="cta__dd-list-title pt-8 pb-4 px-15">
      <div class="font-medium text-s-14 leading-150 text-dark-gray">Windows 10 и выше</div>
    </div>
    <div class="cta__dd-list-title pt-8 pb-4 px-15">
      <div class="font-medium text-s-14 leading-150 text-dark-gray">Windows 7, 8, 8.1</div>
    </div>
`;
  downloadLinksList.innerHTML = downloadLinksOtherLinkWrap + downloadLinksWindowsTitles;
  const downloadLinksOtherLink = downloadLinksList.querySelector(
    "a.cta__list-other-button"
  );
  downloadLinksOtherLink.addEventListener("click", (e) => {
    const downloadListElement = downloadLinksList.closest(".cta__dd-list");
    const isCloudPlatform = (downloadListElement == null ? void 0 : downloadListElement.classList.contains("is--cloud-platforms")) || ["on-premise", "download_on-premise"].indexOf(getPage()) === -1;
    const isInRightNav = e.currentTarget.closest("[data-right-menu]") !== null;
    isCloudPlatform && isInRightNav && sendEvent("702");
    window.location = isCloudPlatform ? "/download" : "/on-premise/download";
    const isAcceptYM = [
      "download_cloud",
      "download_on-premise",
      "blog",
      "post",
      "download"
    ].indexOf(getPage()) === -1;
    if (isAcceptYM) {
      isCloudPlatform ? sendEvent("700") : sendEvent("350");
    }
  });
  const downloadLinksNodes = [];
  for (let key in downloadLinksData) {
    const downloadLink = createDownloadLink(downloadLinksData[key]);
    downloadLinksNodes.push(downloadLink.querySelector(".cta__list-item"));
    downloadLinksList.appendChild(downloadLink);
  }
  const ctaDropdowns = document.querySelectorAll(".cta__dropdown");
  const allDownloadDropdowns = [
    ...ctaDropdowns,
    ...document.querySelectorAll(".cta__vendor-dd"),
    ...document.querySelectorAll(".cta__download-dd"),
    ...document.querySelectorAll(".footer__item-download-dd"),
    ...document.querySelectorAll(".blog-footer__mac-dropdown"),
    ...document.querySelectorAll(".download__cta-dd"),
    ...document.querySelectorAll(".fast-work__platform-dd")
  ];
  const downloadDropdownsObserver = new MutationObserver((mutations) => {
    mutations.forEach((mu) => {
      if (mu.type === "attributes" && mu.attributeName === "class") {
        if (mu.target.classList.contains("w--open")) {
          mu.target.closest(".w-dropdown").classList.add("is--open");
          if (mu.target.closest("[data-menu-dd-wrap]")) {
            mu.target.closest("[data-menu-dd-wrap]").classList.add("sm--z-900");
          }
        } else {
          mu.target.closest(".w-dropdown").classList.remove("is--open");
          if (mu.target.closest("[data-menu-dd-wrap]")) {
            mu.target.closest("[data-menu-dd-wrap]").classList.remove("sm--z-900");
          }
        }
      }
    });
  });
  allDownloadDropdowns.forEach((downloadDropdown) => {
    const toggle = downloadDropdown.querySelector(".w-dropdown-toggle");
    const downloadList = downloadDropdown.querySelector(".w-dropdown-list");
    let version = null;
    downloadDropdownsObserver.observe(toggle, {
      attributes: true
    });
    toggle.addEventListener("mousedown", (e) => {
      if (!downloadDropdown.classList.contains("w-open")) {
        allDownloadDropdowns.forEach((downloadOtherDropdown) => {
          if (downloadOtherDropdown !== downloadDropdown) {
            downloadOtherDropdown.querySelector(".w-dropdown-list").classList.remove("w--open");
          }
        });
        const allDownloadLinks = downloadLinksList.querySelectorAll("[data-cloud]");
        if (getPage() === "on-premise" && !downloadList.classList.contains("is--cloud-platforms") || getPage() === "download_on-premise" && !downloadList.classList.contains("is--cloud-platforms")) {
          Array.prototype.forEach.call(allDownloadLinks, (link) => {
            link.href = link.dataset.onpremise;
            link.dataset.version = "onpremise";
          });
          version = "onpremise";
        } else {
          Array.prototype.forEach.call(allDownloadLinks, (link) => {
            link.href = link.dataset.cloud;
            link.dataset.version = "cloud";
          });
          version = "cloud";
        }
        Array.prototype.forEach.call(allDownloadLinks, (link) => {
          if (!mobileClassNames.some(
            (className) => link.classList.contains(className)
          ) && !isMobileDevice) {
            link.setAttribute("download", "download");
          } else if (!mobileClassNames.some(
            (className) => link.classList.contains(className)
          ) && isMobileDevice) {
            link.removeAttribute("download");
            link.setAttribute("build-link", link.href);
            link.href = "#";
          }
        });
        downloadDropdown.querySelector(".cta__dd-list-wrap").appendChild(downloadLinksList);
        if (version === "cloud" && downloadDropdown.closest(".w-nav")) {
          sendEvent("11");
          _tmr.push({
            type: "reachGoal",
            id: 3381982,
            goal: "besplatno"
          });
        }
        e.preventDefault;
        return false;
      }
    });
  });
  switch (os) {
    case "iOS":
      body.classList.add("is--ios");
      break;
    case "Android":
      body.classList.add("is--android");
      break;
    case "Windows":
      body.classList.add("is--windows");
      break;
    case "Linux":
      body.classList.add("is--linux");
      break;
    case "OS X":
      body.classList.add("is--mac");
      break;
    case "Huawei":
      body.classList.add("is--android");
      break;
  }
  const mobileClassNames = ["appstore", "playmarket", "huawei", "rustore"];
  const mobileBodyClassNames = ["is--ios", "is--android", "is--huawei"];
  const isMobileDevice = mobileBodyClassNames.some(
    (className) => document.body.classList.contains(className)
  );
  const url = new URL(location);
  const urlParams = url.searchParams;
  const sourceID = urlParams.get("source_id") || "";
  const utmTag = urlParams.get("utm_tag") || "";
  let partnerCode = urlParams.get("partner_code") || "";
  if (partnerCode) {
    setCookie("partnerCode", partnerCode, 30);
  }
  if (["iOS", "Android", "Huawei"].indexOf(os) + 1) {
    document.querySelector(".page-wrapper").classList.remove("is--overflow-clip");
  }
  if (os === "iOS") {
    Array.prototype.forEach.call(ctaDropdowns, (ctaDropdown) => {
      const isDownloadPageHeroDropdown = ctaDropdown.classList.contains("is--download-ddown");
      if (!isDownloadPageHeroDropdown) {
        ctaDropdown.classList.add("is--hidden-list");
        const ctaDropdownToggle = ctaDropdown.querySelector(".w-dropdown-toggle");
        let buildLink = null, buildUrl = "#";
        ctaDropdownToggle.addEventListener("click", () => {
          switch (os) {
            case "iOS":
              buildLink = ctaDropdown.querySelector(".appstore");
              buildUrl = ctaDropdown.querySelector(".appstore").href;
              break;
          }
          buildLink.click();
          if (buildLink.dataset.version === "onpremise") {
            window.location = buildUrl;
          }
        });
      }
    });
  }
  const instructionLinks = {
    appstore: "/download/appstore",
    playmarket: "/download/playmarket",
    huawei: "/download/huawei",
    rustore: "/download/rustore",
    macintel: "/download/macos-intel",
    macapple: "/download/macos-silicon",
    windows: "/download/windows-10-exe",
    windows_old: "/download/windows-7-exe",
    windowsmsi: "/download/windows-10-msi",
    windowsmsi_old: "/download/windows-7-msi",
    linuxdeb: "/download/linux-ubuntu",
    linuxtar: "/download/linux-tar",
    linuxrpm: "/download/linux-rpm",
    linuxastra: "/download/linux-astra"
  };
  window.addEventListener("load", () => {
    const downloadPlatform = body.dataset.downloadPlatform;
    const startDownload = getCookie(`startDownload_${downloadPlatform}`) !== "no" || mobileClassNames.includes(downloadPlatform) && (os === downloadPlatform || os === "Android" && ["playmarket", "huawei"].includes(downloadPlatform));
    if (startDownload && getPage() === "download") {
      if (os !== "Android" && platform.name !== "Firefox") {
        window.history.pushState({}, "", url.toString());
      }
      setCookie(`startDownload_${downloadPlatform}`, "no", 694e-6);
      location.href = downloadLinksData[downloadPlatform][3];
    }
  });
  const downloadLinks = [
    ...downloadLinksNodes,
    ...document.querySelectorAll(
      ".appstore, .playmarket, .huawei, .macintel, .macapple, .windows, .linuxdeb, .linuxtar, [data-platform]"
    )
  ];
  Array.prototype.forEach.call(downloadLinks, (downloadLink) => {
    const platformClass = Array.from(downloadLink.classList).find(
      (className) => instructionLinks[className]
    );
    const isShowOnpremiseLinks = ["on-premise", "download_on-premise"].indexOf(getPage()) + 1 > 0;
    const platform2 = platformClass ? platformClass : downloadLink.dataset.platform;
    const isLinkForMobilePlatform = mobileClassNames.includes(platform2);
    if (!downloadLink.dataset.version && platform2) {
      downloadLink.dataset.cloud = downloadLinksData[platform2][3];
      downloadLink.dataset.onpremise = downloadLinksData[platform2][4];
      if (isShowOnpremiseLinks) {
        downloadLink.dataset.version = "onpremise";
        downloadLink.href = downloadLinksData[platform2][4];
      } else {
        downloadLink.dataset.version = "cloud";
        downloadLink.href = downloadLinksData[platform2][3];
      }
    }
    downloadLink.addEventListener("click", (e) => {
      const instructionLink = window.location.origin + instructionLinks[platform2];
      const isInstructionLinkPresent = window.location.href.includes(
        instructionLinks[platform2]
      );
      const isSaasPlatfomsBlock = downloadLink.closest(".download_cloud-block") !== null;
      const isOnPremisePlatformsBlock = downloadLink.closest(".download_op-block") !== null;
      if (downloadLink.dataset.version === "cloud") {
        e.preventDefault();
        if (getPage() !== "download") {
          switch (platform2) {
            case "appstore":
              sendEvent("12");
              isSaasPlatfomsBlock && sendEvent("707");
              break;
            case "huawei":
              sendEvent("13");
              isSaasPlatfomsBlock && sendEvent("707");
              break;
            case "playmarket":
              sendEvent("14");
              isSaasPlatfomsBlock && sendEvent("707");
              break;
            case "rustore":
              sendEvent("24");
              isSaasPlatfomsBlock && sendEvent("707");
              break;
            case "windows":
            case "windowsmsi":
            case "windowsmsi_old":
            case "windows_old":
              !isMobileDevice && sendEvent("15");
              isSaasPlatfomsBlock && !isMobileDevice && sendEvent("705");
              break;
            case "macintel":
            case "macapple":
              !isMobileDevice && sendEvent("16");
              isSaasPlatfomsBlock && !isMobileDevice && sendEvent("704");
              break;
            case "linuxdeb":
            case "linuxtar":
            case "linuxrpm":
            case "linuxastra":
              !isMobileDevice && sendEvent("17");
              isSaasPlatfomsBlock && !isMobileDevice && sendEvent("706");
              break;
          }
          !isMobileDevice && sendEvent("51");
          _tmr.push({
            type: "reachGoal",
            id: 3381982,
            goal: "click"
          });
        }
        if (getPage() === "download") {
          !isMobileDevice && sendEvent("76");
        }
        if (!isInstructionLinkPresent && (!isMobileDevice && !isLinkForMobilePlatform || isMobileDevice && isLinkForMobilePlatform)) {
          window.location.href = instructionLink;
        } else if (isInstructionLinkPresent && (isMobileDevice && isLinkForMobilePlatform || !isMobileDevice) || !isMobileDevice && isLinkForMobilePlatform) {
          window.location.href = downloadLink.href;
        }
      } else if (downloadLink.dataset.version === "onpremise") {
        switch (platform2) {
          case "appstore":
          case "huawei":
          case "playmarket":
          case "rustore":
            isOnPremisePlatformsBlock && sendEvent("358");
            sendEvent("305");
            break;
          case "windows":
            !isMobileDevice && sendEvent("305");
            !isMobileDevice && isOnPremisePlatformsBlock && sendEvent("356");
            break;
          case "macintel":
          case "macapple":
            !isMobileDevice && sendEvent("305");
            !isMobileDevice && isOnPremisePlatformsBlock && sendEvent("355");
            break;
          case "linuxdeb":
          case "linuxtar":
          case "linuxrpm":
          case "linuxastra":
            !isMobileDevice && sendEvent("305");
            !isMobileDevice && isOnPremisePlatformsBlock && sendEvent("357");
            break;
        }
      }
      if (downloadLink.closest("[data-product]")) {
        sendEvent("97");
      }
      if (!isLinkForMobilePlatform && !["blog", "download"].includes(getPage())) {
        !isMobileDevice && sendEvent("52");
      }
    });
    if (!isLinkForMobilePlatform && !isMobileDevice) {
      downloadLink.setAttribute("download", "download");
    } else if (!isLinkForMobilePlatform && isMobileDevice) {
      downloadLink.removeAttribute("download");
      downloadLink.setAttribute("build-link", downloadLink.href);
      downloadLink.href = "#";
    }
  });
  if (isMobileDevice) {
    var closingMessageTimeout = setTimeout(function() {
    }, 0);
    const clipboard2 = new ClipboardJS("[build-link]", {
      text: function(trigger) {
        return trigger.getAttribute("build-link");
      }
    });
    clipboard2.on("success", function(e) {
      showCopyNote();
      if ([
        "download",
        "blog",
        "post",
        "download_cloud",
        "download_on-premise"
      ].indexOf(getPage()) === -1 && e.trigger.dataset.version === "cloud") {
        sendEvent("25");
      }
      const isSaasPlatformsPage = getPage() === "download_cloud";
      const isOnPremisePlatformsPage = getPage() === "download_on-premise";
      isSaasPlatformsPage && sendEvent("715");
      isOnPremisePlatformsPage && sendEvent("361");
      e.clearSelection();
    });
    clipboard2.on("error", function() {
      showCopyNote(
        "Не получилось скопировать ссылку. Возможно, ваш&nbsp;браузер устарел.",
        true
      );
    });
  }
  const setCenterCTAListArrow = (dropdown) => {
    const hasArrowCTALists = document.querySelectorAll(
      ".cta__dd-list.is--has-arrow, .cta__dd-list.is--mobile-has-arrow"
    );
    Array.prototype.forEach.call(hasArrowCTALists, (CTAList) => {
      CTAList.style.setProperty("--popupLeft", 0);
      CTAList.style.setProperty("--arrowLeft", 0);
      const CTAListRect = CTAList.getBoundingClientRect();
      const CTADropdown = CTAList.closest(".w-dropdown");
      const CTADropdownList = CTADropdown.querySelector(".w-dropdown-list");
      const CTAListInnerWrap = CTAList.querySelector(".cta__dd-list-wrap");
      const CTATextCenterArrow = CTADropdown.querySelector(
        ".cta__dd-center-arrow"
      );
      const CTATextCenterArrowRect = CTATextCenterArrow.getBoundingClientRect();
      if (window.innerWidth < 768) {
        if (CTAListRect.x !== 0)
          CTADropdownList.style.setProperty("--popupLeft", `-${CTAListRect.x}px`);
        CTADropdownList.style.setProperty(
          "--arrowLeft",
          `${CTATextCenterArrowRect.x - CTAListInnerWrap.getBoundingClientRect().x + CTATextCenterArrowRect.width / 2}px`
        );
      } else if (window.innerWidth > 1570) {
        CTADropdownList.style.removeProperty("left");
        CTADropdownList.style.setProperty(
          "--arrowLeft",
          `${CTATextCenterArrowRect.x - CTAListRect.x + CTATextCenterArrowRect.width / 2}px`
        );
      } else {
        const CTAListRightOffset = body.clientWidth - (CTAListRect.x + CTAListRect.width) - 16;
        CTADropdownList.style.setProperty(
          "--popupLeft",
          `${CTAListRightOffset / getSize()}rem`
        );
        CTADropdownList.style.setProperty(
          "--arrowLeft",
          `${CTATextCenterArrowRect.x - CTAListRect.x + CTATextCenterArrowRect.width / 2}px`
        );
      }
    });
  };
  let prevWidth = window.innerWidth;
  window.addEventListener("resize", () => {
    if (prevWidth !== window.innerWidth) {
      prevWidth = window.innerWidth;
      setCenterCTAListArrow();
    }
  });
  const CTADropdowns = document.querySelectorAll(".w-dropdown");
  Array.prototype.forEach.call(CTADropdowns, (dropdown) => {
    var _a;
    const dropdownToggle = dropdown.querySelector(".w-dropdown-toggle");
    const isWindowsList = (_a = dropdown.querySelector(".w-dropdown-list")) == null ? void 0 : _a.classList.contains("is--win-list");
    const isOpen = dropdownToggle.classList.contains("w--open");
    dropdownToggle.addEventListener("click", () => {
      !isOpen && setCenterCTAListArrow();
      if (isWindowsList) {
        const buildLink = dropdown.querySelector(".windows");
        dropdown.classList.add("is--hidden-list");
        buildLink.click();
      }
    });
  });
  const dropdownsCloseOnClick = document.querySelectorAll(
    '[data-close="link-click"]'
  );
  Array.prototype.forEach.call(dropdownsCloseOnClick, (dropdown) => {
    const links = dropdown.querySelectorAll("a");
    Array.prototype.forEach.call(links, (link) => {
      link.addEventListener("click", () => {
        $(".w-dropdown").trigger("w-close");
      });
    });
  });
  function addInputPhoneMask() {
    const phoneInputs = document.querySelectorAll("input[data-tel-input]");
    const regExp = /\D/g;
    const getInputNumbersValue = (input) => input.value.replace(regExp, "");
    var prevFormatedValue = "";
    var prevCaretPosition = 0;
    var unmasked = false;
    let prevRawNumber = "";
    let prevNumberCaretPosition = 0;
    let selectedNumberCount = 0;
    const onInputHandler = (event) => {
      const input = event.target;
      let inputNumbersValue = getInputNumbersValue(input);
      let formattedInputValue = "";
      const { selectionEnd, selectionStart } = input;
      if (!inputNumbersValue) {
        input.value = "";
        return;
      }
      if (input.value.length !== selectionStart) {
        if (event.data && regExp.test(event.data)) {
          input.value = inputNumbersValue;
        }
      }
      if (["7", "8", "9"].indexOf(inputNumbersValue[0]) > -1) {
        if (inputNumbersValue[0] === "9" && ["iOS", "OS X"].indexOf(os) + 1) {
          inputNumbersValue = `7${inputNumbersValue}`;
        }
        const firstSymbols = (inputNumbersValue[0] === "8" || "7") && inputNumbersValue[0] !== "9" ? "+7" : "+";
        if (inputNumbersValue[0] === "9" && os !== "iOS") {
          formattedInputValue = `+${inputNumbersValue.substring(0, 16)}`;
        } else {
          formattedInputValue = `${firstSymbols} `;
          if (inputNumbersValue.length > 1) {
            formattedInputValue += `(${inputNumbersValue.substring(1, 4)}`;
          }
          if (inputNumbersValue.length >= 5) {
            formattedInputValue += `) ${inputNumbersValue.substring(4, 7)}`;
          }
          if (inputNumbersValue.length >= 8) {
            formattedInputValue += `-${inputNumbersValue.substring(7, 9)}`;
          }
          if (inputNumbersValue.length >= 10) {
            formattedInputValue += `-${inputNumbersValue.substring(9, 11)}`;
          }
          if (inputNumbersValue.length >= 12) {
            formattedInputValue = `+${inputNumbersValue.substring(0, 16)}`;
            unmasked = true;
          } else {
            unmasked = false;
          }
        }
      } else {
        formattedInputValue = `+${inputNumbersValue.substring(0, 16)}`;
      }
      const newCaretPosition = getNewCaretPosition(
        inputNumbersValue,
        formattedInputValue,
        prevFormatedValue,
        prevCaretPosition,
        unmasked
      );
      input.value = formattedInputValue;
      input.setSelectionRange(newCaretPosition, newCaretPosition);
    };
    const onKeyDownHanler = (event) => {
      const input = event.target;
      const inputValue = input.value.replace(/\D/g, "");
      const DELETE_KEY_CODE = 8;
      if (event.keyCode === DELETE_KEY_CODE && inputValue.length === 1) {
        input.value = "";
      }
    };
    const onPasteHandler = (event) => {
      const input = event.target;
      const inputNumbersValue = getInputNumbersValue(input);
      const pasted = event.clipboardData || window.Clipboard;
      if (pasted) {
        const pastedText = pasted.getData("Text");
        if (regExp.test(pastedText)) {
          input.value = inputNumbersValue;
        }
      }
    };
    const onFocusSelectionEnd = (event) => {
      const input = event.target;
      if (!input.classList.contains("focus"))
        setTimeout(() => {
          input.selectionStart = input.value.length;
        }, 100);
      input.classList.add("focus");
    };
    const onFocusoutSelectionEnd = (event) => {
      const input = event.target;
      input.classList.remove("focus");
    };
    const onBeforeInput = (event) => {
      selectedNumberCount = Math.abs(
        event.target.value.slice(event.target.selectionStart, event.target.selectionEnd).replace(/\s/g, "").length
      );
      prevFormatedValue = event.target.value;
      prevRawNumber = event.target.value.replace(/\D/g, "");
      prevCaretPosition = event.target.selectionStart;
      prevNumberCaretPosition = event.target.value.slice(0, event.target.selectionStart).replace(/\D/g, "").length;
    };
    const getNewCaretPosition = (newRawNumber, maskedValue, prevFormatedValue2, currentCaretPosition, unmasked2) => {
      const maskedValueArray = maskedValue.split("");
      const prevMaskedValueArray = prevFormatedValue2.split("");
      var deletePressed = false;
      var newCaretPosition = 0;
      var deletedSymbolIndex = 0;
      let j;
      if (maskedValueArray.length < prevMaskedValueArray.length && !unmasked2) {
        for (j = 0; j < prevMaskedValueArray.length; j++) {
          if (prevMaskedValueArray[j] !== maskedValueArray[j]) {
            return j;
          }
        }
        deletedSymbolIndex = j;
      }
      if (deletedSymbolIndex === currentCaretPosition && prevMaskedValueArray.length > 0) {
        deletePressed = true;
      }
      let caretPosition = 0;
      if (deletePressed) {
        newCaretPosition = prevNumberCaretPosition + (newRawNumber.length - prevRawNumber.length + selectedNumberCount) + 1;
      } else {
        newCaretPosition = prevNumberCaretPosition + (newRawNumber.length - prevRawNumber.length + selectedNumberCount);
      }
      let i;
      for (i = 0; i <= maskedValueArray.length - 1; i++) {
        if (caretPosition === newCaretPosition) {
          return i;
        }
        if (/\d/.test(maskedValueArray[i])) {
          ++caretPosition;
        }
      }
      return i;
    };
    phoneInputs.forEach((input) => {
      input.addEventListener("input", onInputHandler, false);
      input.addEventListener("keydown", onKeyDownHanler);
      input.addEventListener("paste", onPasteHandler, false);
      input.addEventListener("focus", onFocusSelectionEnd, false);
      input.addEventListener("focusout", onFocusoutSelectionEnd, false);
      input.addEventListener("beforeinput", onBeforeInput, false);
    });
  }
  addInputPhoneMask();
  const nameInputs = document.querySelectorAll("input[data-name-input]");
  const comandInputs = document.querySelectorAll("input[data-input-comand]");
  nameInputs.forEach((input) => {
    input.addEventListener("keypress", function(e) {
      if (e.keyCode !== 8 && e.keyCode !== 46 && (input.value.length > 49 || e.key && e.key.match(
        /[^А-яЁёІіЇїҐґЄєa-zA-ZẞßÄäÜüÖöÀàÈèÉéÌìÍíÎîÒòÓóÙùÚúÂâÊêÔôÛûËëÏïŸÿÇçÑñœ’`'.-\s]/
      )))
        return e.preventDefault();
    });
    input.addEventListener("input", function(e) {
      if (e.inputType === "insertFromPaste") {
        input.value = input.value.replace(
          /[^А-яЁёІіЇїҐґЄєa-zA-ZẞßÄäÜüÖöÀàÈèÉéÌìÍíÎîÒòÓóÙùÚúÂâÊêÔôÛûËëÏïŸÿÇçÑñœ’`'.-\s]/g,
          ""
        ).slice(0, 50);
      }
    });
  });
  comandInputs.forEach((input) => {
    input.addEventListener("keypress", function(e) {
      if (e.key && e.key.match(/[^0-9]/)) return e.preventDefault();
    });
    input.addEventListener("input", function() {
      input.value = input.value.replace(/[^0-9]/g, "").slice(0, 12);
    });
  });
  function removeErrorClassOnInput(input) {
    input.addEventListener("input", () => {
      if (input.value.trim() !== "") input.classList.remove("input-error");
    });
    input.addEventListener("focus", () => {
    });
    input.onblur = function() {
      const { value } = input;
      const requiredIcon = input.closest(".form-row").querySelector(".input-icon");
      if (!value && requiredIcon) {
        requiredIcon.classList.remove("display-none");
      }
      if (os === "iOS" && parseFloat(platform.version.replace(/\D/g, "")) > 1731) {
        document.documentElement.scrollTo({
          top: 0,
          behavior: "smooth"
        });
      }
    };
    input.onfocus = function() {
      const requiredIcon = input.closest(".form-row").querySelector(".input-icon");
      if (requiredIcon) {
        requiredIcon.classList.add("display-none");
      }
      input.scrollIntoView({
        behavior: "smooth",
        block: "nearest"
      });
    };
  }
  function formValidation(form) {
    let isValid = true;
    const inputs = form.querySelectorAll(".input");
    inputs.forEach((input) => {
      const { value, dataset } = input;
      input.classList.remove("input-error");
      if (input.hasAttribute("data-tel-input")) {
        const regExp = /[^\d]/g;
        if (dataset.minLength && value.replace(regExp, "").length < dataset.minLength) {
          input.classList.add("input-error");
          isValid = false;
        }
        if (dataset.maxLength && value.replace(regExp, "").length > dataset.maxLength) {
          input.classList.add("input-error");
          isValid = false;
        }
        if (value.replace(regExp, "")[0] === 7 && value.replace(regExp, "").length > 11) {
          input.classList.add("input-error");
          isValid = false;
        }
      }
      if (input.hasAttribute("data-name-input")) {
        const namePattern = /[^А-яЁёІіЇїҐґЄєa-zA-ZẞßÄäÜüÖöÀàÈèÉéÌìÍíÎîÒòÓóÙùÚúÂâÊêÔôÛûËëÏïŸÿÇçÑñœ’`'.-\s]/g;
        if (namePattern.test(value.trim()) || value.trim() === "") {
          input.classList.add("input-error");
          isValid = false;
        }
      }
      if (dataset.required === "true") {
        if (!value) {
          input.classList.add("input-error");
          isValid = false;
        }
      }
    });
    return isValid;
  }
  function checkValidationFormOnSubmit(form) {
    const inputs = form.querySelectorAll(".input");
    const onSubmitHandler = () => {
      if (formValidation(form)) {
        return true;
      } else {
        form.querySelector(".w-button").value = form.querySelector(".w-button").getAttribute("data-btn-default");
        return false;
      }
    };
    inputs.forEach((input) => {
      const isRequiredInput = input.getAttribute("data-required");
      if (isRequiredInput) {
        removeErrorClassOnInput(input);
      }
    });
    $(form).submit(onSubmitHandler);
  }
  const forms = document.querySelectorAll('form[action="https://getcompass.ru"]');
  if (forms) {
    Array.prototype.forEach.call(forms, (form) => {
      checkValidationFormOnSubmit(form);
    });
  }
  if (getPage() === "partner") {
    let calcRange = document.querySelector(".partner-calc__slider"), calcRangeStartLabel = document.querySelector(".partner-calc__slider-start"), calcRangeEndLabel = document.querySelector(".partner-calc__slider-end"), calcTarifsRadio = document.querySelectorAll('[name="tarif"]'), calcResultField = document.querySelector(".partner-calc__result-field"), calcResultWrap = document.querySelector(".partner-calc__result"), calcMembersField = document.querySelectorAll("[data-calc-members]"), calcBusinessFline = document.querySelector("[data-calc-business-fline]"), calcBusinessSline = document.querySelector("[data-calc-business-sline]"), calcBusinessTline = document.querySelector("[data-calc-business-tline]"), calcOnpremiseFline = document.querySelector("[data-calc-onpremise-fline]"), calcBusinessPFMembers = document.querySelector(
      "[data-calc-business-pfmembers]"
    ), calcOnpremisePFMembers = document.querySelector(
      "[data-calc-onpremise-pfmembers]"
    );
    Array.prototype.forEach.call(calcTarifsRadio, (radio) => {
      radio.checked = radio.value === "business";
    });
    const calcResult = () => {
      let tarif = Array.from(document.getElementsByName("tarif")).find(
        (r) => r.checked
      ).value, members = calcRange.noUiSlider.get(), result = 0, membersString = num_word(members, ["человек", "человека", "человек"]), membersFormated = String(parseFloat(members).toFixed()).replace(
        /(\d)(?=(\d\d\d)+([^\d]|$))/g,
        "$1 "
      );
      switch (tarif) {
        case "business":
          result = members * 200 + members * 299 * 0.1 * 24;
          break;
        case "on-premise":
          result = members * 399 * 0.2 * 24;
          break;
      }
      if (result > 999999) {
        calcResultWrap.classList.add("is--small");
      } else {
        calcResultWrap.classList.remove("is--small");
      }
      Array.prototype.forEach.call(calcMembersField, (membersField) => {
        membersField.textContent = `${membersFormated} ${membersString}`;
      });
      calcBusinessFline.innerHTML = `${membersFormated}&nbsp;${membersString} х 200&nbsp;₽ = <strong>${String((members * 200).toFixed()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ")}&nbsp;₽</strong>`;
      calcBusinessSline.innerHTML = `${membersFormated}&nbsp;${membersString} х 299&nbsp;₽ х&nbsp;10% х&nbsp;24&nbsp;месяца = <strong>${String((members * 299 * 0.1 * 24).toFixed()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ")}&nbsp;₽</strong>`;
      calcBusinessTline.innerHTML = `${String((members * 200).toFixed()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ")}&nbsp;₽ +&nbsp;${String((members * 299 * 0.1 * 24).toFixed()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ")}&nbsp;₽ = <strong>${String((members * 200 + members * 299 * 0.1 * 24).toFixed()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ")}&nbsp;₽</strong>`;
      calcOnpremiseFline.innerHTML = `${membersFormated}&nbsp;${membersString} х 399&nbsp;₽ х&nbsp;20% х&nbsp;24&nbsp;месяца = <strong>${String((members * 399 * 0.2 * 24).toFixed()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ")}&nbsp;₽</strong>`;
      calcBusinessPFMembers.innerHTML = `${String((members * 299 * 0.1 * 24).toFixed()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ")}&nbsp;₽`;
      calcOnpremisePFMembers.innerHTML = `${String((members * 399 * 0.2 * 24).toFixed()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ")}&nbsp;₽`;
      calcResultField.textContent = String(result.toFixed()).replace(
        /(\d)(?=(\d\d\d)+([^\d]|$))/g,
        "$1 "
      );
    };
    const switchCalcInfoTab = () => {
      var tarif = Array.from(document.getElementsByName("tarif")).find(
        (r) => r.checked
      ).value;
      $(`[data-w-tab="${tarif}"]`).trigger("click");
    };
    Array.prototype.forEach.call(calcTarifsRadio, (radio) => {
      radio.addEventListener("change", () => {
        calcResult();
        switchCalcInfoTab();
      });
    });
    calcRangeStartLabel.addEventListener("click", () => {
      calcRange.noUiSlider.set(20);
    });
    calcRangeEndLabel.addEventListener("click", () => {
      calcRange.noUiSlider.set(5e3);
    });
    noUiSlider.create(calcRange, {
      start: 100,
      step: 5,
      tooltips: {
        to: function(value) {
          return value.toFixed(0);
        }
      },
      connect: "lower",
      range: {
        min: [20],
        "27%": [100, 20],
        "66%": [1e3, 100],
        max: [5e3]
      }
    });
    calcRange.noUiSlider.on("update", () => {
      calcResult();
    });
  }
  function num_word(value, words) {
    value = Math.abs(value) % 100;
    var num = value % 10;
    if (value > 10 && value < 20) return words[2];
    if (num > 1 && num < 5) return words[1];
    if (num === 1) return words[0];
    return words[2];
  }
  var tp = new Typograf({
    locale: ["ru", "en-US"]
  }), article = document.querySelector(".article"), relatedArticles = document.querySelector(".related-articles");
  if (article) {
    article.innerHTML = tp.execute(article.innerHTML);
    relatedArticles.innerHTML = tp.execute(relatedArticles.innerHTML);
  }
  const faqContentBlocks = document.querySelectorAll(".faq__content");
  const faqTitles = document.querySelectorAll(".faq__quess-text");
  Array.prototype.forEach.call(faqContentBlocks, (contentWrap) => {
    contentWrap.innerHTML = tp.execute(contentWrap.innerHTML);
  });
  Array.prototype.forEach.call(faqTitles, (contentWrap) => {
    contentWrap.innerHTML = tp.execute(contentWrap.innerHTML);
  });
  const partnerLKLinks = document.querySelectorAll('[href^="https://partner"]');
  Array.prototype.forEach.call(partnerLKLinks, (link) => {
    const linkHref = link.getAttribute("href");
    let partnerCodeParam = "";
    partnerCode = getCookie("partnerCode");
    if (partnerCode) {
      partnerCodeParam = `partner_code=${partnerCode}&`;
    }
    link.href = `${linkHref}?${partnerCodeParam}referer=${window.location.href}`;
  });
  if (["post", "blog"].indexOf(getPage()) + 1) {
    const blogLinks = [
      ...document.querySelectorAll('[href^="/"]'),
      ...document.querySelectorAll('[href="https://vc.ru/getcompass"]')
    ];
    Array.prototype.forEach.call(blogLinks, (link) => {
      const linkHref = link.getAttribute("href");
      var utm_content = "";
      if (link.closest(".w-nav")) {
        if (linkHref.indexOf("/#") === 0) {
          utm_content = "blog-header-product-homepage";
        } else if (linkHref.indexOf("/on-premise") === 0) {
          utm_content = "blog-header-on-premise";
        } else if (linkHref.indexOf("/partner") === 0) {
          utm_content = "blog-header-partnerpage";
        } else if (linkHref === "https://vc.ru/getcompass") {
          utm_content = "blog-header-vc";
        } else if (linkHref === "/" && link.classList.contains("cta__btn")) {
          utm_content = "blog-header-try-compass-homepage";
        } else if (linkHref === "/" && link.classList.contains("logo__container")) {
          utm_content = "blog-header-logo-homepage";
        }
      } else if (link.closest("[data-cta-btns]")) {
        if (linkHref === "/") {
          utm_content = "blog-header-try-compass-homepage";
        } else if (linkHref.indexOf("/partner") === 0) {
          utm_content = "blog-button-partnerpage";
        } else if (linkHref.indexOf("/on-premise") === 0) {
          utm_content = "blog-button-on-premise";
        }
      } else if (link.closest('[data-banner="cta"]')) {
        utm_content = "blog-article-banner-homepage";
      } else if (link.closest('[data-banner="cta-partner"]')) {
        utm_content = "blog-article-banner-parner";
      } else if (link.closest('[data-banner="cta-home"]')) {
        utm_content = "blog-upper-footer";
      } else if (link.closest("footer")) {
        if (linkHref.indexOf("/#") === 0) {
          utm_content = "blog-footer-product-homepage";
        } else if (linkHref.indexOf("/on-premise") === 0) {
          utm_content = "blog-footer-on-premise";
        } else if (linkHref.indexOf("/partner") === 0) {
          utm_content = "blog-footer-partnerpage";
        } else if (linkHref === "https://vc.ru/getcompass") {
          utm_content = "blog-footer-vc";
        } else if (linkHref.indexOf("/mediakit") === 0) {
          utm_content = "blog-footer-mediakit";
        } else if (linkHref === "/") {
          utm_content = "blog-header-try-compass-homepage";
        }
      }
      const utm_medium = getPage() === "post" ? window.location.pathname.substring(
        window.location.pathname.lastIndexOf("/") + 1
      ) : "blog-homepage";
      if (utm_content) {
        link.href = `${linkHref}?utm_source=blog&utm_medium=${utm_medium}&utm_content=${utm_content}&source_id=blog`;
      }
    });
  }
  if (getPage() !== "post") {
    navbar.setAttribute("data-no-scroll", "1");
  }
  window.fsAttributes = window.fsAttributes || [];
  window.fsAttributes.push([
    "cmsload",
    (listInstances) => {
      if ($(".fs-cms_pagination-wrapper").length) {
        $(".fs-cms_pagination-wrapper .w-pagination-next").addClass("is--ajax-load-btn").find(".blog-grid__lm-btn-text").html("Загрузить ещё");
      }
      if ($(".blog-grid__card-title").length) {
        $(".blog-grid__card-title").each(function() {
          $(this).html(tp.execute($(this).html()));
        });
        $(".blog-grid__card-introtext").each(function() {
          $(this).html(tp.execute($(this).html()));
        });
      }
      const [listInstance] = listInstances;
      listInstance.on("renderitems", (renderedItems) => {
        Array.prototype.forEach.call(renderedItems, (item) => {
          const images = item.element.querySelectorAll("img");
          Array.prototype.forEach.call(images, (img) => {
            if (img.getAttribute("data-cfsrc") !== null) {
              img.src = img.getAttribute("data-cfsrc");
              img.style = "";
            }
          });
        });
        if ($(".blog-grid__card-title").length) {
          $(".blog-grid__card-title").each(function() {
            $(this).html(tp.execute($(this).html()));
          });
          $(".blog-grid__card-introtext").each(function() {
            $(this).html(tp.execute($(this).html()));
          });
          document.querySelectorAll(".article__preloader-wrapper").forEach((preloader) => {
            setTimeout(function() {
              preloader.style.opacity = "0";
              preloader.addEventListener(
                "transitionend",
                () => preloader.remove()
              );
            }, 500);
          });
        }
      });
    }
  ]);
  $(".fs-cms_pagination-wrapper .w-pagination-next").on("click", function() {
    setTimeout(function() {
      document.querySelectorAll(".article__preloader-wrapper").forEach((preloader) => {
        preloader.style.opacity = "0";
        preloader.addEventListener("transitionend", () => preloader.remove());
      });
    }, 1e3);
  });
  $(
    '.form__success-button, .form__button-close, [data-action="form__button-close"]'
  ).on("click", function() {
    var successButton = $(this);
    setTimeout(function() {
      successButton.closest(".remodal").find(".w-form-done").hide();
      successButton.closest(".remodal").find("form").show();
    }, 300);
  });
  const themeSwitchers = document.querySelectorAll("[data-theme-toggle]");
  const themeSlides = document.querySelectorAll(".hero__slide");
  const themeSwitcherBg = document.querySelector(".hero-slider__toggle-bg");
  if (themeSwitchers) {
    Array.prototype.forEach.call(themeSwitchers, (toggle) => {
      toggle.addEventListener("click", () => {
        const theme = toggle.getAttribute("data-theme-toggle");
        toggle.classList.toggle("text-black");
        if (theme === "dark") {
          const themeSwitcherLight = document.querySelector(
            '[data-theme-toggle="light"]'
          );
          themeSwitcherBg.classList.add("is--dark");
          themeSwitcherLight.classList.add("text-platinum");
          Array.prototype.forEach.call(themeSlides, (slide) => {
            const darkSlide = slide.querySelector(".image-h-full.absolute");
            darkSlide && darkSlide.classList.remove("opacity-0");
          });
        } else {
          themeSwitcherBg.classList.remove("is--dark");
          const themeSwitcherDark = document.querySelector(
            '[data-theme-toggle="dark"]'
          );
          themeSwitcherDark.classList.add("text-platinum");
          Array.prototype.forEach.call(themeSlides, (slide) => {
            const darkSlide = slide.querySelector(".image-h-full.absolute");
            darkSlide && darkSlide.classList.add("opacity-0");
          });
        }
        toggle.classList.remove("text-platinum");
      });
    });
  }
  var scrollDistance = 0;
  var scrollBarWidth = window.innerWidth - document.body.clientWidth;
  const bodyScrollControls = {
    disable() {
      if (["iOS", "Android", "Huawei"].indexOf(os) + 1) {
        body.style.top = `-${window.scrollY}px`;
        scrollDistance = window.scrollY;
        body.style.position = "fixed";
        body.style.left = "0";
        body.style.right = "0";
      }
      document.body.style.marginRight = `${scrollBarWidth}px`;
      document.querySelector(".w-nav").style.right = `${scrollBarWidth}px`;
      document.querySelector(".cookie").style.marhinRight = `${scrollBarWidth}px`;
      if (document.getElementById("carrotquest-messenger-collapsed-container"))
        document.getElementById("carrotquest-messenger-collapsed-container").style.setProperty("right", `${scrollBarWidth}px`, "important");
      document.body.style.paddingRight = null;
      document.body.style.overflowY = "hidden";
    },
    enable(params) {
      var options = {
        onlyMobile: false,
        callback: () => {
        }
      };
      Object.assign(options, params);
      body.removeAttribute("style");
      if (["iOS", "Android", "Huawei"].indexOf(os) + 1) {
        window.scrollTo(0, scrollDistance);
      }
      document.querySelector(".cookie").style.marhinRight = 0;
      document.querySelector(".w-nav").style.right = 0;
      if (document.getElementById("carrotquest-messenger-collapsed-container"))
        document.getElementById(
          "carrotquest-messenger-collapsed-container"
        ).style.right = "0";
      document.body.style.overflowY = null;
    }
  };
  $('[data-remodal-id="consultation-on-premise"]').remodal({
    closeOnOutsideClick: false
  });
  $('[data-remodal-id="consultation"]').remodal({
    closeOnOutsideClick: false
  });
  $('[data-remodal-id="pilot-modal"]').remodal({
    closeOnOutsideClick: false
  });
  const articleTOCWrapper = document.querySelector(".article__toc-wrapper");
  $(document).on("opening", ".remodal", function() {
    if (articleTOCWrapper && !isMobile) {
      html.classList.remove("remodal-is-locked");
      const articleTOCWrapperOffsetTop = articleTOCWrapper.offsetTop;
      articleTOCWrapper.classList.add("absolute");
      articleTOCWrapper.style.top = `${articleTOCWrapperOffsetTop}px`;
    }
    bodyScrollControls.disable();
    html.classList.add("remodal-is-locked");
    let currentModal = $(".remodal.remodal-is-opening"), modalId = "#" + currentModal.data("remodal-id"), iframeInModal = currentModal.find("iframe"), ScrollElement = currentModal.find(".popup__scroll-content");
    if (iframeInModal.attr("src") === "") {
      iframeInModal.attr("src", iframeInModal.data("src"));
    }
    if (iframeInModal) {
      document.querySelector(".remodal-wrapper.remodal-is-opening").scrollTop = 0;
    }
    if ([
      "#video-mac-intel",
      "#video-mac-apple",
      "#video-linux-deb-standart",
      "#video-linux-deb-terminal",
      "#video-linux-astra-standart",
      "#video-linux-astra-terminal",
      "#video-linux-rpm-standart",
      "#video-linux-rpm-terminal",
      "#video-linux-tar",
      "#video-windows",
      "#video-czech",
      "#video-partner",
      "#about-compass",
      "#video-detailing-group",
      "#video-daily",
      "#video-good-people"
    ].includes(modalId)) {
      html.classList.add(
        "is--black-overlay",
        "is--center-modal",
        "is--small-p-modal",
        "is--video-overlay"
      );
    } else if (["#calculator-info"].includes(modalId)) {
      html.classList.add("is--white-overlay", "is--small-p-modal");
    } else {
      html.classList.add("is--white-overlay", "is--center-modal");
    }
    analyticsModal(modalId);
    ScrollElement.animate(
      {
        scrollTop: 0
      },
      0
    );
    if (iframeInModal.length && window.Vimeo !== void 0) {
      let player = new Vimeo.Player(iframeInModal[0]);
      player.play();
    }
  });
  $(document).on("closing", ".remodal", function() {
    let currentModal = $(".remodal.remodal-is-closing"), iframeInModal = currentModal.find("iframe"), formInModal = currentModal.find("form"), formButton = formInModal.find(".button-submit");
    setTimeout(function() {
      $('[data-action="form__button-close"]').removeClass("is--hidden");
      $(".form__button-close").removeClass("is--hidden");
      $(".remodal.is--success").removeClass("is--success");
      $(".w-form-fail").hide();
      $(".w-form-done").hide();
      if (formInModal.length) {
        formInModal.find(".input-icon").each(function() {
          $(this).removeClass("display-none");
        });
        formButton.val(formButton.data("btn-default"));
        formInModal[0].reset();
        formInModal.show();
        formInModal.find("input").each(function() {
          $(this).removeClass("input-error");
        });
      }
    }, 300);
    if (iframeInModal.length) {
      iframeInModal.attr("src", "");
      iframeInModal.attr("src", iframeInModal.data("src"));
    }
  });
  $(document).on("closed", ".remodal", function() {
    bodyScrollControls.enable();
    if (getPage() === "partner") {
      var tarif = Array.from(document.getElementsByName("tarif")).find(
        (r) => r.checked
      ).value;
      $(`[data-w-tab="${tarif}"]`).trigger("click");
    }
    html.classList.remove(
      "is--black-overlay",
      "is--white-overlay",
      "remodal-is-locked",
      "is--center-modal",
      "is--video-overlay",
      "is--small-p-modal"
    );
    if (articleTOCWrapper && !isMobile) {
      articleTOCWrapper.classList.remove("absolute");
      articleTOCWrapper.style.top = null;
    }
  });
  function closeRemodal() {
    if ($(".remodal.remodal-is-opened").length) {
      $(".remodal.remodal-is-opened").find('[data-remodal-action="close"]').trigger("click");
    }
  }
  if (os === "Android") {
    body.classList.add("android-form-modal");
  } else if (os === "iOS") {
    body.classList.add("ios-form-modal");
  }
  window.addEventListener("popstate", () => {
    closeRemodal();
  });
  document.onkeydown = function(e) {
    if (e.keyCode === 27) {
      closeRemodal();
    }
    handleKey(e);
  };
  function handleKey(e) {
    if (e.keyCode === 9 && document.querySelector(".remodal.remodal-is-opened")) {
      let focusable = document.querySelector(".remodal.remodal-is-opened").querySelectorAll("input,button,select,textarea");
      if (focusable.length) {
        let first = focusable[0];
        let last = focusable[focusable.length - 1];
        let shift = e.shiftKey;
        if (shift) {
          if (e.target === first) {
            last.focus();
            e.preventDefault();
          }
        } else {
          if (e.target === last) {
            first.focus();
            e.preventDefault();
          }
        }
      }
    }
  }
  $("input").on("focusout focus", function() {
    setTimeout(function() {
      if (html.classList.contains("remodal-is-locked")) {
        html.classList.remove("remodal-is-locked");
        html.classList.add("remodal-is-locked");
      }
    }, 300);
  });
  $(".faq__trigger").on("click", function() {
    var toggle = $(this), wrapper = toggle.parent(".faq__item");
    if (wrapper.hasClass("is--open")) {
      closeDropdown(wrapper);
    } else {
      openDropdown(wrapper);
    }
    closeDropdown($(".faq__item.is--open").not(wrapper));
    if ($(window).width() < 768 && !$(this).hasClass("is--open")) {
      var headerHeight = $(".w-nav").height() + 12, faqTrigger = $(this);
      setTimeout(function() {
        $("html, body").animate({
          scrollTop: faqTrigger.offset().top - headerHeight
        });
      }, 500);
    }
  });
  $(".faq__item").each(function() {
    closeDropdown($(this));
  });
  $(".faq__wrapper .faq__show-button").on("click", function() {
    $(this).parent(".faq__wrapper").addClass("is--open");
  });
  $(".faq__close-button").on("click", function() {
    $(this).parent(".faq__wrapper").removeClass("is--open");
  });
  $(".faq__wrapper").removeClass("is--open");
  function openDropdown(dropdown) {
    var dropdownContent = dropdown.find(".faq__resp-wrapper"), dropdownInnerContent = dropdown.find(".faq__resp");
    dropdownContent.css({
      height: dropdownContent.find("div").innerHeight()
    });
    dropdownInnerContent.css({
      opacity: 1
    });
    dropdown.addClass("is--open");
  }
  function closeDropdown(dropdown) {
    var dropdownContent = dropdown.find(".faq__resp-wrapper"), dropdownInnerContent = dropdown.find(".faq__resp");
    dropdownContent.css({
      height: 0
    });
    dropdownInnerContent.css({
      opacity: 0
    });
    dropdown.removeClass("is--open");
  }
  const copyFields = document.querySelectorAll("[clipboard-field]");
  Array.prototype.forEach.call(copyFields, (copyField) => {
    const copyBtn = copyField.querySelector("[clipboard-btn]");
    const copyBtnTooltip = copyField.querySelector("[clipboard-tooltip]");
    const copyText = copyField.querySelector("[clipboard-text]").textContent;
    const copyClipboard = new ClipboardJS(copyBtn, {
      text: function() {
        return copyText;
      }
    });
    copyClipboard.on("success", function(e) {
      copyBtnTooltip.textContent = "Скопировано";
      copyBtn.classList.add("is--done");
      setTimeout(() => {
        copyBtn.classList.remove("is--done");
      }, 2e3);
      e.clearSelection();
    });
    copyClipboard.on("error", function(e) {
      copyBtnTooltip.textContent = "Ошибка!";
      copyBtn.classList.add("is--fail");
      setTimeout(() => {
        copyBtn.classList.remove("is--fail");
      }, 2e3);
      e.clearSelection();
    });
  });
  $(".article__social-share-link--copy").css("display", "inline-block");
  var copyPostLinkTimeout = setTimeout(function() {
  }, 0);
  var copyPostLink = new ClipboardJS(".article__social-share-link--copy", {
    text: function() {
      return window.location.href;
    }
  });
  copyPostLink.on("success", function(e) {
    clearTimeout(copyPostLinkTimeout);
    const copyElement = e.trigger;
    copyElement.classList.add("is--copy-done");
    copyPostLinkTimeout = setTimeout(function() {
      copyElement.classList.remove("is--copy-done");
    }, 2e3);
    e.clearSelection();
  });
  copyPostLink.on("error", function(e) {
    clearTimeout(copyPostLinkTimeout);
    var copyElement = $(e.trigger);
    copyElement.addClass("is--copy-fail");
    copyPostLinkTimeout = setTimeout(function() {
      copyElement.removeClass("is--copy-fail");
    }, 2e3);
  });
  function showCopyNote(text, error) {
    clearTimeout(closingMessageTimeout);
    if (text !== "") {
      $(".event__message").html(text);
    }
    if (error) {
      $(".event__message").addClass("is--error");
    } else {
      $(".event__message").removeClass("is--error");
      $(".event__message").html(
        "Ссылка на скачивание Compass для&nbsp;компьютера скопирована"
      );
    }
    $(".event__message").addClass("is--display-block");
    setTimeout(function() {
      $(".event__message").addClass("is--visible");
    }, 300);
    closingMessageTimeout = setTimeout(function() {
      $(".event__message").removeClass("is--visible");
      setTimeout(function() {
        $(".event__message").removeClass("is--display-block");
      }, 300);
    }, 3e3);
  }
  $(".event__message").on("touchmove", function() {
    clearTimeout(closingMessageTimeout);
    $(".event__message").removeClass("is--visible");
    setTimeout(function() {
      $(".event__message").removeClass("is--display-block");
    }, 300);
  });
  $(".w-dropdown-toggle").on("click", function(e) {
    if (e.which === 2) {
      e.preventDefault();
    }
  });
  if ($(".blog-hero__filter").length) {
    $(".blog-hero__filter-collection .blog-hero__filter-button").each(
      function() {
        $(".blog-hero__filter-track").append($(this));
      }
    );
    $(".blog-hero__filter-collection").closest(".w-dyn-list").addClass("hidden");
    var currentLink = document.querySelector(
      ".blog-hero__filter-button.w--current"
    );
    if (currentLink) {
      currentLink.scrollIntoView({
        behavior: "smooth",
        block: "nearest"
      });
      setTimeout(() => {
        $(".blog-hero__filter-track").css({
          opacity: 1
        });
      }, 300);
    }
  }
  if (window.location.hash) {
    const targetEl = document.querySelector(window.location.hash.split("?")[0]);
    if (targetEl) {
      window.scrollTo({
        top: targetEl.offsetTop,
        behavior: "smooth"
      });
    }
    removeAnchorFormURL();
  }
  history.scrollRestoration = "manual";
  removeAnchorFormURL();
  function removeAnchorFormURL() {
    setTimeout(() => {
      window.history.replaceState({}, "", window.location.href.split("#")[0]);
    }, 100);
  }
  $('a[href^="#"]').on("click", function() {
    removeAnchorFormURL();
  });
  $(".article__toc-button").on("click", function() {
    var tocList = $(".article__toc-button").siblings(".article__toc-links");
    if (!$(this).hasClass("is--open")) {
      tocList.css({
        height: tocList.find("div").outerHeight(),
        opacity: 1
      });
    } else {
      tocList.css({
        height: 0,
        opacity: 0
      });
    }
    $(this).toggleClass("is--open");
  });
  function readingTime(articleContent) {
    let text = articleContent.text(), wpm = 225, words = text.trim().split(/\s+/).length, time = Math.ceil(words / wpm), result = `Время прочтения: ${time} мин.`;
    $(".article__header-meta-time").text(result);
  }
  var validContent;
  if ($(".article__content").length) {
    readingTime($(".article__content"));
    $(".article__content.w-richtext").each(function() {
      var content = $(this).html();
      if ((content.match(/{{mobile/g) || []).length === (content.match(/{{\/mobile/g) || []).length && (content.match(/{{pc/g) || []).length === (content.match(/{{\/pc/g) || []).length) {
        validContent = 1;
      } else {
        validContent = 0;
      }
      if (validContent)
        $(this).html(
          content.replace(/<li>{{isTrue}}/g, '<li class="is--true">').replace(
            /<p>{{mobile}}<\/p>/g,
            '<div class="article__mobile-content">'
          ).replace(/<p>{{pc}}<\/p>/g, '<div class="article__desctop-content">').replace(/<p>{{\/pc}}<\/p>/g, "</div>").replace(/<p>{{\/mobile}}<\/p>/g, "</div>").replace(/<p>{{cta_banner}}<\/p>/g, "").replace(
            /<p>{{cta_op_banner}}<\/p>/g,
            '<div class="cta-op-banner-place my-48 sm--my-32"></div>'
          ).replace(
            /<p>{{cta_book}}<\/p>/g,
            '<div class="cta-book-place"></div>'
          )
        );
      $(this).find("a").each(function() {
        if ($(this).text().indexOf("{{") + 1) {
          $(this).addClass(
            "cta__btn font-inter px-16 py-10 text-s-15 leading-121 min-w-none rounded-10 sm--rounded-12 sm--text-s-16 sm--leading-140 sm--max-w-none sm--sw-full sm--py-12 hover--text-white w-inline-block"
          );
          $(this).parent().addClass("article__cta-button-wrap");
          $(this).html(
            `<div>${$(this).text().replace(/[{}]+/g, "")}</div><div class="icon-16 ml-3 sm--ml-5 w-embed"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.69682 13.2649L7.61017 12.1903L11.3833 8.41726H1.90527V6.84766H11.3833L7.61017 3.08061L8.69682 2L14.3293 7.63246L8.69682 13.2649Z" fill="currentColor"></path></svg></div>`
          );
        }
      });
    });
    const ctaBanner = document.querySelector('[data-banner="cta"]');
    if (ctaBanner) {
      const firstPar = document.querySelector(".article__content-section").querySelector("p");
      const introText = document.querySelector(".article__introtext");
      const parParent = firstPar.parentNode;
      const ctaBanner2 = document.querySelector('[data-banner="cta"]');
      if (introText.classList.contains("w-condition-invisible")) {
        parParent.insertBefore(ctaBanner2, firstPar.nextSibling);
        ctaBanner2.classList.remove("sm--mb-64", "sw-70pr");
        ctaBanner2.classList.add("sm--mb-48");
      } else {
        introText.parentNode.insertBefore(ctaBanner2, introText.nextSibling);
        ctaBanner2.classList.remove("mt-24");
      }
      ctaBanner2.classList.remove("hidden");
    }
    if ($(".cta-op-banner-place").length) {
      $(".cta-op-banner-place").append($('[data-banner="cta-onpremise"]'));
      $('[data-banner="cta-onpremise"]').removeClass("hidden");
    }
    if ($(".cta-book-place").length) {
      $(".cta-book-place").append($(".article-book-cta--in-content"));
    }
  }
  if ($(".blog-grid__wrapper--related-news").length) {
    let relatedItemsCount = $(
      ".blog-grid__wrapper--related-news .blog-grid__card"
    ).length;
    if (relatedItemsCount > 0 && $(".blog-grid__wrapper--related-news").data("items-count") !== relatedItemsCount) {
      $(".blog-grid__wrapper--related-news").attr(
        "data-items-count",
        relatedItemsCount
      );
    } else if (relatedItemsCount === 0) {
      $(".related-articles").hide();
    }
  }
  var vkLink = document.querySelectorAll(".article__social-share-link--vk"), tgLink = document.querySelectorAll(".article__social-share-link--tg");
  if (vkLink.length) {
    vkLink.forEach((element) => {
      element.addEventListener("click", () => {
        window.open("https://vk.com/share.php?url=" + window.location.href);
      });
    });
  }
  if (tgLink.length) {
    tgLink.forEach((element) => {
      element.addEventListener("click", () => {
        window.open(
          "https://t.me/share/url?url=" + encodeURIComponent(window.location.href) + "&text=" + encodeURIComponent(document.title)
        );
      });
    });
  }
  $("form").on("submit", function(e) {
    e.preventDefault();
    var form = $(this), formData = new FormData($(this)[0]), currentHost = `${window.location.protocol}//${window.location.host}/`, url2 = currentHost + "www/getcompass/requestConsultation", button = form.find('[type="submit"]'), currentModal = $(".remodal.remodal-is-opened"), modalId = "#" + currentModal.data("remodal-id");
    if (formValidation(form[0])) {
      if (formData.get("team_size") === "") formData.set("team_size", 0);
      formData.set("source_id", sourceID);
      formData.set("pagetitle", document.title);
      formData.set("page_url", window.location.href);
      formData.set("utm_tag", utmTag);
      if (modalId === "#pilot-modal") {
        formData.set("form_type", "request_pilot_project");
      } else {
        formData.set("form_type", "request_consultation");
      }
      button.val(button.data("wait"));
      button.addClass("pointer-events-none");
      try {
        grecaptcha.enterprise.execute(window.googleCaptchaKey).then(function(token) {
          formData.set("grecaptcha_response", token);
          sendRequest(url2, form, formData);
          return false;
        });
      } catch (error) {
        sendRequest(url2, form, formData);
        return false;
      }
    } else {
      return false;
    }
  });
  function sendRequest(url2, form, formData) {
    var successMessage = form.siblings(".w-form-done"), errorMessage = form.siblings(".w-form-fail"), button = form.find('[type="submit"]'), currentModal = $(".remodal.remodal-is-opened"), modalId = "#" + currentModal.data("remodal-id");
    button.addClass("pointer-events-none");
    $.ajax({
      url: url2,
      type: "POST",
      dataType: "text",
      data: formData,
      contentType: false,
      processData: false,
      statusCode: {
        423: function() {
          showErrorMessage(
            form,
            "Произошла ошибка при отправке формы. Попробуйте позже или свяжитесь с&nbsp;нами другим способом."
          );
        }
      },
      success: function(result) {
        const isSuccessful = JSON.parse(result).status === "ok";
        button.removeClass("pointer-events-none");
        if (isSuccessful) {
          if (getPage() === "blog") {
            ym(ymetrikaID, "reachGoal", "220");
          } else if (getPage() === "post" && modalId === "#consultation-on-premise") {
            ym(ymetrikaID, "reachGoal", "223");
          } else {
            ym(ymetrikaID, "reachGoal", "101");
          }
          button.val(button.data("btn-default"));
          successMessage.show();
          errorMessage.hide();
          form.hide();
          if (getPage() === "on-premise") {
            if (modalId === "#consultation") {
              ym(ymetrikaID, "reachGoal", "302");
            } else if (modalId === "#pilot-modal") {
              ym(ymetrikaID, "reachGoal", "309");
            }
          } else if (getPage() !== "post" && getPage() !== "blog") {
            if (modalId === "#consultation" || modalId === "#consultation-on-premise") {
              if (modalId === "#consultation-on-premise") {
                ym(ymetrikaID, "reachGoal", "302");
              }
              ym(ymetrikaID, "reachGoal", "10");
              _tmr.push({
                type: "reachGoal",
                id: 3381982,
                goal: "Demo"
              });
            } else if (modalId === "#pilot-modal") {
              ym(ymetrikaID, "reachGoal", "307");
            }
          }
          form.closest(".remodal").addClass("is--success").removeClass("is--no-radius");
          if (html.classList.contains("remodal-is-locked")) {
            html.classList.remove("is--white-overlay", "is--disable-bg-close");
          }
        }
        return false;
      },
      error: function(xhr, resp, text) {
        button.removeClass("pointer-events-none");
        showErrorMessage(
          form,
          "Произошла ошибка при отправке формы. Попробуйте позже или свяжитесь с&nbsp;нами другим способом."
        );
        console.log(xhr, resp, text);
        return false;
      }
    });
    return false;
  }
  function showErrorMessage(form, msg) {
    var button = form.find('[type="submit"]'), errorMessage = form.siblings(".w-form-fail");
    errorMessage.find("div").html(msg);
    button.val(button.data("btn-default"));
    errorMessage.show();
    setTimeout(function() {
      errorMessage.hide();
    }, 3e3);
    form.show();
  }
  function getScrollPercentage() {
    let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    let windowHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
    let documentHeight = Math.max(
      document.body.scrollHeight,
      document.body.offsetHeight,
      document.body.clientHeight,
      document.documentElement.scrollHeight,
      document.documentElement.offsetHeight,
      document.documentElement.clientHeight
    );
    return scrollTop / (documentHeight - windowHeight) * 100;
  }
  const setVideoModalWidth = () => {
    const videoModals = document.querySelectorAll(
      ".popup-content.remodal.is--video-modal"
    );
    const videoModalPadding = window.innerWidth > 767 ? 6 : 7;
    const sizeFactor = getSize();
    Array.prototype.forEach.call(videoModals, (videoModal) => {
      const modalHeight = window.innerHeight - sizeFactor * videoModalPadding;
      const modalWidth = videoModal.offsetWidth ? videoModal.offsetWidth : 1;
      if (modalWidth / modalHeight > 1.7 && modalWidth / modalHeight < 1.7) {
        videoModal.style.width = `${modalWidth}px`;
      } else if (modalHeight < sizeFactor * 20.1 && window.innerWidth < 768 && window.innerWidth > 468) {
        videoModal.style.width = `100%`;
      } else if (modalHeight < sizeFactor * 17.33333 && window.innerWidth < 469) {
        videoModal.style.width = `100%`;
      } else if (modalHeight < sizeFactor * 22.5 && window.innerWidth > 767) {
        videoModal.style.width = `${(sizeFactor * 22.5 * 1.7777778).toFixed(0)}px`;
      } else {
        videoModal.style.width = `${(modalHeight * 1.7777778).toFixed(0)}px`;
      }
    });
  };
  setVideoModalWidth();
  window.addEventListener("resize", () => {
    remSize = getComputedStyle(document.documentElement).getPropertyValue(
      "--remSize"
    );
    setCenterCTAListArrow();
    setVideoModalWidth();
    if (window.innerWidth > 767) {
      const navMenu = document.querySelector(".w-nav-menu");
      body.classList.remove("is--mobile-sm");
      body.classList.add("is--desktop");
      isMobile = false;
      setTimeout(() => {
        navMenu.removeAttribute("style");
      }, 500);
      $(".article__toc-button").siblings(".article__toc-links").removeAttr("style").removeClass("is--open");
    } else {
      isMobile = true;
      body.classList.add("is--mobile-sm");
      body.classList.remove("is--desktop");
    }
  });
  const cookieBlock = document.querySelector("[data-cookie-base]");
  const cookieLink = document.querySelector("[data-cookie-link]");
  function getMinimalCookieScrollOffset() {
    const MOBILE_MAX_WIDTH = 768;
    const MOBILE_MIN_HEIGHT = 700;
    const DESKTOP_MIN_HEIGHT = 900;
    const MOBILE_MINIMAL_HEIGHT = 770;
    const DESKTOP_MINIMAL_HEIGHT = 990;
    const HEIGHT_MULTIPLIER = 1.2;
    const { innerWidth, innerHeight } = window;
    let minimalHeight;
    if (innerWidth < MOBILE_MAX_WIDTH) {
      minimalHeight = innerHeight < MOBILE_MIN_HEIGHT ? MOBILE_MINIMAL_HEIGHT : innerHeight * HEIGHT_MULTIPLIER;
    } else {
      minimalHeight = innerHeight < DESKTOP_MIN_HEIGHT ? DESKTOP_MINIMAL_HEIGHT : innerHeight * HEIGHT_MULTIPLIER;
    }
    return minimalHeight;
  }
  let cookieScrollOffset = window.scrollY;
  let isCookieHidden = false;
  function cookieToggleScrollHandler() {
    const offset2 = getMinimalCookieScrollOffset();
    const scrollY = window.scrollY;
    const shouldHide = scrollY > cookieScrollOffset + offset2 || scrollY < Math.abs(cookieScrollOffset - offset2) && scrollY > offset2;
    if (!isCookieHidden) {
      isCookieHidden = shouldHide;
    }
    cookieBlock.classList.toggle("is--close", isCookieHidden);
    cookieLink.classList.toggle("is--close", isCookieHidden);
    if (!isCookieHidden) {
      cookieScrollOffset = shouldHide ? 0 : cookieScrollOffset;
    }
  }
  function cookieToggleClickHandler(e) {
    e.preventDefault();
    cookieScrollOffset = window.scrollY;
    isCookieHidden = false;
    cookieBlock.classList.remove("is--close");
    cookieLink.classList.remove("is--close");
  }
  if (cookieBlock && cookieLink) {
    window.addEventListener("scroll", cookieToggleScrollHandler);
    cookieLink.addEventListener("click", cookieToggleClickHandler);
  }
  const promoBanner = document.querySelector(".promo-banner");
  if (promoBanner) {
    window.addEventListener("scroll", () => {
      if (window.scrollY < 5 && !document.documentElement.classList.contains("remodal-is-locked")) {
        promoBanner.classList.remove("-translate-y-full", "opacity-0");
        promoBanner.classList.add("shadow-xs");
        promoBanner.parentNode.classList.remove("pointer-events-none");
      } else {
        promoBanner.parentNode.classList.add("pointer-events-none");
        promoBanner.classList.add("-translate-y-full", "opacity-0");
        promoBanner.classList.remove("shadow-xs");
      }
    });
    if (window.location.hash) {
      if (document.querySelector(window.location.hash.split("?")[0])) {
        promoBanner.parentNode.classList.add("pointer-events-none");
        promoBanner.classList.add("-translate-y-full", "opacity-0");
        promoBanner.classList.remove("shadow-xs");
      }
    }
  }
  window.addEventListener("scroll", () => {
    if (["partner", "on-premise"].indexOf(getPage()) + 1 && window.scrollY > getSize() * 47.13 || getPage() === "home" && window.scrollY > getSize() * 51.66 || getPage() === "download" && window.scrollY > getSize() * 25) {
      if ($(window).width() < 768) {
        if (getPage() === "partner") {
          setTimeout(() => {
            $(".menu-wrapper--is--mobile .cta__btn").removeClass("is--hidden");
          }, 200);
        } else {
          $(".menu-wrapper--is--mobile .cta__dropdown").removeClass("is--hidden");
          $(".menu-wrapper--is--mobile .cta__btn").removeClass("is--hidden");
        }
      }
    }
  });
  document.addEventListener("DOMContentLoaded", () => {
    if (getPage() === "delete-page") {
      const navCTABtn = document.querySelector(
        ".menu-wrapper--is--mobile .cta__btn"
      );
      const navCTADd = document.querySelector(
        ".menu-wrapper--is--mobile .cta__dropdown"
      );
      if (navCTABtn && navCTADd) {
        navCTABtn.classList.remove("is--hidden");
        navCTADd.classList.remove("is--hidden");
      }
    }
  });
  class MenuDropdownsGroup {
    constructor(options) {
      const defaultOptions = {
        selector: "[data-menu-dd-wrap]",
        singleOpen: true,
        scrollIntoViewOpened: true
      };
      this.options = Object.assign(defaultOptions, options);
      this.dropdowns = [];
      this.init();
    }
    closeAll() {
      this.dropdowns.forEach((dropdown) => {
        dropdown.close();
      });
    }
    checkOpened(dropdown) {
      if (this.options.singleOpen) {
        var currentDropdownObj = null;
        this.dropdowns.forEach((otherDropdown) => {
          if (otherDropdown.dropdown !== dropdown) {
            otherDropdown.close();
          } else {
            currentDropdownObj = otherDropdown;
          }
        });
      }
      if (window.innerWidth < 768 && this.options.scrollIntoViewOpened) {
        const groupWrapper = document.querySelector(".w-nav-menu");
        groupWrapper.scrollTo({
          top: currentDropdownObj.topOffset - getSize(),
          behavior: "smooth"
        });
      }
    }
    updateDropdownsOffsets() {
      this.dropdowns.forEach((dropdown) => {
        dropdown.topOffset = dropdown.dropdown.offsetTop;
      });
    }
    init() {
      const dropdownsDOMList = document.querySelectorAll(this.options.selector);
      Array.prototype.forEach.call(dropdownsDOMList, (dropdown) => {
        this.dropdowns.push(
          new MenuDropdown({
            dropdown,
            opened: () => {
              this.checkOpened(dropdown);
            }
          })
        );
      });
    }
  }
  class MenuDropdown {
    constructor(options) {
      this.dropdown = options.dropdown;
      this.toggle = this.dropdown.querySelector("[data-menu-dd-toggle]");
      this.content = this.dropdown.querySelector("[data-menu-dd-content]");
      this.innerWrap = this.dropdown.querySelector("[data-menu-dd-inner]");
      this.isOpened = false;
      this.topOffset = this.dropdown.offsetTop;
      this.closed = options.closed ? options.closed : () => {
      };
      this.opened = options.opened ? options.opened : () => {
      };
      this.attachEventsHandlers();
    }
    attachEventsHandlers() {
      this.dropdown.addEventListener("mouseleave", () => {
        if (body.classList.contains("is--no-touch") || window.innerWidth > 767) {
          this.closePlatformsDropdown();
        }
      });
      this.toggle.addEventListener("mouseenter", () => {
        this.dropdown.classList.remove("is--closed-menu-dd");
      });
      this.toggle.addEventListener("click", (e) => {
        e.preventDefault();
        this.dropdown.classList.remove("is--closed-menu-dd");
        if (body.classList.contains("is--touch") || window.innerWidth < 768) {
          if (this.isOpened) {
            this.close();
          } else {
            this.open();
          }
        }
      });
      window.addEventListener("mousedown", (e) => {
        if (!this.isOpened) {
          return;
        }
        if (!$(e.target).closest(this.dropdown).length && window.innerWidth > 767) {
          this.close();
        }
      });
      window.addEventListener("resize", () => {
        this.close();
        setTimeout(() => {
          this.topOffset = this.dropdown.offsetTop;
        }, 500);
      });
      const dropdownLinks = this.dropdown.querySelectorAll("a");
      Array.prototype.forEach.call(dropdownLinks, (link) => {
        link.addEventListener("click", () => {
          this.dropdown.classList.add("is--closed-menu-dd");
          if (body.classList.contains("is--no-touch") || window.innerWidth > 767) {
            this.close();
          }
        });
      });
    }
    open() {
      this.dropdown.classList.add("is--open");
      this.content.style.height = `${this.innerWrap.scrollHeight / getSize()}rem`;
      setTimeout(() => {
        this.content.classList.remove("sm--overflow-hidden");
      }, 700);
      this.isOpened = true;
      this.opened();
    }
    close() {
      this.dropdown.classList.remove("is--open");
      this.content.classList.add("sm--overflow-hidden");
      this.content.removeAttribute("style");
      this.closePlatformsDropdown();
      this.isOpened = false;
      this.closed();
    }
    closePlatformsDropdown() {
      $(".w-dropdown").trigger("w-close");
      $(".cta__dd-list-other-wrap").removeClass("is--open");
    }
  }
  const menuDropdownsGroup = new MenuDropdownsGroup();
  const navMenuBtn = document.querySelector(".w-nav-button");
  if (navMenuBtn) {
    const navMenuObserver = new MutationObserver((mutations) => {
      mutations.forEach((mu) => {
        if (mu.type === "attributes" && mu.attributeName === "class") {
          if (navMenuBtn.classList.contains("w--open") || document.documentElement.classList.contains("remodal-is-locked")) {
            bodyScrollControls.disable();
            document.querySelector(".w-nav").classList.add("is--open");
            menuDropdownsGroup.updateDropdownsOffsets();
          } else {
            bodyScrollControls.enable();
            document.querySelector(".w-nav").classList.remove("is--open");
            menuDropdownsGroup.closeAll();
          }
        }
      });
    });
    navMenuObserver.observe(navMenuBtn, {
      attributes: true
    });
  }
  const goTopBtns = document.querySelectorAll('[href="#hero"]');
  Array.prototype.forEach.call(goTopBtns, (goTopBtn) => {
    goTopBtn.addEventListener("click", (e) => {
      e.preventDefault();
      window.scrollTo({
        top: 0,
        behavior: "smooth"
      });
    });
  });
  function getRandomInt(max) {
    return Math.floor(Math.random() * max);
  }
  const ctaBlogBtns = document.querySelectorAll("[data-cta-btns] a");
  if (ctaBlogBtns.length) {
    ctaBlogBtns[getRandomInt(4)].classList.remove("sm--hidden");
  }
  document.addEventListener("DOMContentLoaded", function() {
    window.doStart.then(function(result) {
      window.googleCaptchaKey = result.response.captcha_public_key;
      let script = document.createElement("script");
      script.src = "https://www.google.com/recaptcha/enterprise.js?render=" + result.response.captcha_public_key;
      document.body.append(script);
    }).catch(function(result) {
      console.log(result);
    });
    setCenterCTAListArrow();
    setTimeout(function() {
      if (getPage() === "home") ym(ymetrikaID, "reachGoal", "4");
      else if (["blog", "post"].indexOf(getPage()) + 1)
        ym(ymetrikaID, "reachGoal", "209");
      else if (getPage() === "on-premise") ym(ymetrikaID, "reachGoal", "314");
    }, 6e4);
    var scrollEventStart = false, scrollEvent50 = false, scrollEvent75 = false, scrollEvent100 = false;
    window.onscroll = function() {
      if (["blog", "post", "home", "download", "partner", "on-premise"].indexOf(
        getPage()
      ) + 1) {
        if (!scrollEventStart && getScrollPercentage() > 0) {
          if ($(".popup__video-iframe").find("iframe").length) {
            $(".popup__video-iframe").find("iframe").each(function() {
              $(this).attr("src", $(this).data("src"));
            });
          }
        }
        if (!scrollEventStart && getScrollPercentage() > 0) {
          scrollEventStart = true;
        }
        if (!scrollEvent50 && getScrollPercentage() > 50) {
          if (getPage() === "home") ym(ymetrikaID, "reachGoal", "1");
          else if (getPage() === "blog") ym(ymetrikaID, "reachGoal", "250");
          else if (getPage() === "post") ym(ymetrikaID, "reachGoal", "253");
          else if (getPage() === "on-premise") ym(ymetrikaID, "reachGoal", "311");
          scrollEvent50 = true;
        }
        if (!scrollEvent75 && getScrollPercentage() > 75) {
          if (getPage() === "home") ym(ymetrikaID, "reachGoal", "2");
          else if (getPage() === "blog") ym(ymetrikaID, "reachGoal", "251");
          else if (getPage() === "post") ym(ymetrikaID, "reachGoal", "254");
          else if (getPage() === "on-premise") ym(ymetrikaID, "reachGoal", "312");
          scrollEvent75 = true;
        }
        if (!scrollEvent100 && getScrollPercentage() > 95) {
          if (getPage() === "home") ym(ymetrikaID, "reachGoal", "3");
          else if (getPage() === "blog") ym(ymetrikaID, "reachGoal", "252");
          else if (getPage() === "post") ym(ymetrikaID, "reachGoal", "255");
          else if (getPage() === "on-premise") ym(ymetrikaID, "reachGoal", "313");
          scrollEvent100 = true;
        }
      }
    };
  });
  const vksStartButtons = document.querySelectorAll("[data-create-vks]");
  if (vksStartButtons) {
    Array.prototype.forEach.call(vksStartButtons, (btn) => {
      btn.addEventListener("click", () => {
        getVksLink();
      });
    });
  }
  async function getVksLink() {
    try {
      const response = await fetch(
        `${window.location.origin}/api/www/jitsi/createConference/`,
        {
          method: "POST"
        }
      );
      if (!response.ok) {
        throw new Error(`Response status: ${response.status}`);
      }
      const responseData = await response.json();
      console.log(responseData);
      ym(ymetrikaID, "reachGoal", "500");
      window.open(
        `https://${responseData.conference_joining_data.domain}/${responseData.conference_joining_data.room}?jwt=${responseData.conference_joining_data.jwt_token}`
      );
    } catch (error) {
      console.error(error.message);
    }
  }
  function attachYandexMetricaClickEvents(nodeList, targetID, options = {}) {
    const {
      includePages = [],
      excludePages = [],
      includeParents = [],
      excludeParents = [],
      callback = null
    } = options;
    const currentPage = getPage();
    if (includePages.length > 0 && !includePages.includes(currentPage)) {
      return;
    }
    if (excludePages.includes(currentPage)) {
      return;
    }
    Array.prototype.forEach.call(nodeList, (link) => {
      if (includeParents.length > 0 && !includeParents.some((parentSelector) => link.closest(parentSelector))) {
        return;
      }
      if (excludeParents.some((parentSelector) => link.closest(parentSelector))) {
        return;
      }
      link.addEventListener("click", (e) => {
        ym(ymetrikaID, "reachGoal", targetID);
        if (callback && typeof callback === "function") {
          callback(e, link);
        }
      });
    });
  }
  const platformsOnPremisePageLinks = document.querySelectorAll(
    '[href*="/on-premise/download"]'
  );
  const platformsSaasPageLinks = document.querySelectorAll(
    '[href*="/download"]:not([href*="/on-premise/download"])'
  );
  attachYandexMetricaClickEvents(platformsOnPremisePageLinks, "353", {
    includeParents: [".download_cloud-block"],
    excludePages: ["download", "download_on-premise", "blog", "post"]
  });
  attachYandexMetricaClickEvents(platformsOnPremisePageLinks, "350", {
    excludePages: ["download", "download_on-premise", "blog", "post"]
  });
  attachYandexMetricaClickEvents(platformsSaasPageLinks, "700", {
    excludePages: ["download", "download_cloud", "blog", "post"]
  });
  attachYandexMetricaClickEvents(platformsSaasPageLinks, "703", {
    includeParents: ["footer"],
    excludePages: ["download", "download_cloud", "blog", "post"]
  });
  attachYandexMetricaClickEvents(platformsOnPremisePageLinks, "351", {
    includePages: ["on-premise"],
    includeParents: ["[data-right-menu]"]
  });
  attachYandexMetricaClickEvents(platformsOnPremisePageLinks, "352", {
    excludePages: [
      "download",
      "download_cloud",
      "download_on-premise",
      "blog",
      "post"
    ],
    includeParents: ["footer"]
  });
  attachYandexMetricaClickEvents(platformsSaasPageLinks, "701", {
    excludePages: ["download", "download_cloud", "blog", "post"],
    includeParents: ["[data-product]"]
  });
  const socialMediaPageLinks = document.querySelectorAll(
    '[href*="/media"]:not([href*="/mediakit"])'
  );
  attachYandexMetricaClickEvents(socialMediaPageLinks, "600", {
    excludePages: ["blog", "media"]
  });
  const socialMediaLoadMore = document.querySelectorAll(".w-pagination-next");
  attachYandexMetricaClickEvents(socialMediaLoadMore, "601", {
    includePages: ["media"]
  });
  document.addEventListener("click", function(event) {
    if (event.target.matches(".social-media-item-link")) {
      ym(ymetrikaID, "reachGoal", "602");
    }
  });
  $('a[href="/blog"], a[href*="/blog?"], a[href*="/blog/?"]').on(
    "click",
    function() {
      if (!(["blog", "post"].indexOf(getPage()) + 1)) {
        ym(ymetrikaID, "reachGoal", "200");
      }
      if (getPage() === "post" && $(this).hasClass("logo__container")) {
        ym(ymetrikaID, "reachGoal", "214");
      }
    }
  );
  $(".fs-cmsload_button").on("click", () => {
    ym(ymetrikaID, "reachGoal", "256");
  });
  $(".blog-grid__card-link").on("click", () => {
    if (getPage() === "blog") ym(ymetrikaID, "reachGoal", "208");
  });
  $('[data-banner="cta"] a').on("click", function() {
    ym(ymetrikaID, "reachGoal", "221");
  });
  $('a[href^="mailto"]').on("click", function() {
    if ($(this).closest("footer").length) {
      if (["blog", "post"].indexOf(getPage()) + 1) {
        sendEvent("231");
      }
      sendEvent("6");
      sendEvent("103");
    } else {
      if (["download_cloud"].indexOf(getPage()) + 1) {
        ym(ymetrikaID, "reachGoal", "714");
      } else if (["download_on-premise"].indexOf(getPage()) + 1) {
        ym(ymetrikaID, "reachGoal", "360");
      } else {
        ym(ymetrikaID, "reachGoal", "104");
      }
    }
  });
  $('a[href^="tel"]').on("click", function() {
    if (["blog", "post"].indexOf(getPage()) + 1 && $(this).closest("footer")) {
      ym(ymetrikaID, "reachGoal", "232");
    } else if ($(this).closest("footer").length) {
      ym(ymetrikaID, "reachGoal", "95");
    }
    ym(ymetrikaID, "reachGoal", "103");
  });
  $(".cta__dropdown .w-dropdown-toggle").on("click", function() {
    if (!$(this).closest(".price__block").length && !$(this).closest(".navbar__wrapper").length && !$(this).closest(".footer").length) {
      if (getPage() === "home") {
        ym(ymetrikaID, "reachGoal", "50");
        _tmr.push({
          type: "reachGoal",
          id: 3381982,
          goal: "besplatno"
        });
      } else if (getPage() === "media") {
        ym(ymetrikaID, "reachGoal", "650");
      }
    }
  });
  $(".price__block.is--start .w-dropdown-toggle").on("click", function() {
    ym(ymetrikaID, "reachGoal", "65");
    _tmr.push({
      type: "reachGoal",
      id: 3381982,
      goal: "besplatno"
    });
  });
  $(".price__block.is--center .w-dropdown-toggle").on("click", function() {
    ym(ymetrikaID, "reachGoal", "66");
    _tmr.push({
      type: "reachGoal",
      id: 3381982,
      goal: "besplatno"
    });
  });
  $(".price__block.is--corp .w-dropdown-toggle").on("click", function() {
    ym(ymetrikaID, "reachGoal", "67");
  });
  $("#carrot-messenger-collapsed-frame").on("click", function() {
    ym(ymetrikaID, "reachGoal", "5");
  });
  $(".ceo-link").on("click", function() {
    if ($(this).closest("footer")) {
      if (["blog", "post"].indexOf(getPage()) + 1) {
        ym(ymetrikaID, "reachGoal", "230");
      } else {
        ym(ymetrikaID, "reachGoal", "94");
      }
      ym(ymetrikaID, "reachGoal", "103");
    }
  });
  $(
    'a[href*="https://t.me/getcompass"],a[href*="https://wa.me/message/CJINDDW52XJYM1"]'
  ).on("click", function() {
    if (["partner"].indexOf(getPage()) + 1) {
      ym(ymetrikaID, "reachGoal", "402");
    } else if (["on-premise"].indexOf(getPage()) + 1) {
      ym(ymetrikaID, "reachGoal", "315");
    } else if (["download_cloud"].indexOf(getPage()) + 1) {
      ym(ymetrikaID, "reachGoal", "714");
    } else if (["download_on-premise"].indexOf(getPage()) + 1) {
      ym(ymetrikaID, "reachGoal", "360");
    }
    if ($(this).closest("footer").length) {
      ym(ymetrikaID, "reachGoal", "103");
    } else if ($(this).closest(".remodal").length) {
      ym(ymetrikaID, "reachGoal", "104");
    }
  });
  $(".privacy-target").on("click", function() {
    ym(ymetrikaID, "reachGoal", "7");
  });
  $(".offer-target").on("click", function() {
    ym(ymetrikaID, "reachGoal", "8");
  });
  $(".reccurent-target").on("click", function() {
    ym(ymetrikaID, "reachGoal", "31");
  });
  $(".mediakit__link").on("click", function() {
    ym(ymetrikaID, "reachGoal", "82");
  });
  $('[href^="/mediakit"]').on("click", function() {
    if (["blog", "post"].indexOf(getPage()) + 1 && $(this).closest("footer")) {
      ym(ymetrikaID, "reachGoal", "229");
    } else if (getPage() !== "mediakit") {
      ym(ymetrikaID, "reachGoal", "81");
    }
  });
  $('a[href*="github"]').on("click", function() {
    if (getPage() === "on-premise") {
      ym(ymetrikaID, "reachGoal", "304");
    }
  });
  $('a[href*="vc.ru/getcompass"]').on("click", function() {
    if (["blog", "post"].indexOf(getPage()) + 1) {
      if ($(this).closest(".w-nav").length) {
        ym(ymetrikaID, "reachGoal", "213");
      } else {
        ym(ymetrikaID, "reachGoal", "228");
      }
    } else {
      ym(ymetrikaID, "reachGoal", "84");
    }
  });
  $('a[href*="partner.getcompass.ru"]').on("click", function() {
    if (getPage() === "partner") {
      ym(ymetrikaID, "reachGoal", "403");
    }
  });
  $('a[href*="https://doc-onpremise.getcompass.ru/"]').on("click", () => {
    ym(ymetrikaID, "reachGoal", "310");
  });
  $('a[href^="/on-premise"]:not([href*="/on-premise/download"])').on(
    "click",
    function() {
      if (["blog", "post"].indexOf(getPage()) + 1) {
        if ($(this).closest(".w-nav").length) {
          ym(ymetrikaID, "reachGoal", "211");
        } else if ($(this).closest("[data-cta-btns]").length) {
          ym(ymetrikaID, "reachGoal", "217");
        } else if ($(this).closest("footer").length) {
          ym(ymetrikaID, "reachGoal", "233");
        }
      } else if (getPage() !== "on-premise") {
        ym(ymetrikaID, "reachGoal", "300");
      }
    }
  );
  $("[data-cta-btns] a").on("click", () => {
    if (["blog", "post"].indexOf(getPage()) + 1) {
      ym(ymetrikaID, "reachGoal", "215");
    }
  });
  $('.partner-page, a[href^="/partner"]').on("click", function() {
    if (["blog", "post"].indexOf(getPage()) + 1) {
      if ($(this).closest(".w-nav").length) {
        ym(ymetrikaID, "reachGoal", "212");
      } else if (getPage() === "post" && $(this).closest('[data-banner="cta-partner"]').length) {
        ym(ymetrikaID, "reachGoal", "224");
      } else if ($(this).closest("[data-cta-btns]").length) {
        ym(ymetrikaID, "reachGoal", "218");
      } else if ($(this).closest("footer").length) {
        ym(ymetrikaID, "reachGoal", "227");
      }
    } else if (getPage() !== "partner") {
      ym(ymetrikaID, "reachGoal", "400");
    }
  });
  $('[data-banner="cta-home"] a').on("click", () => {
    ym(ymetrikaID, "reachGoal", "225");
  });
  $('a[href="/"], a[href^="/#"], a[href^="#"], a[href^="/?"]').on(
    "click",
    function() {
      if (["blog", "post"].indexOf(getPage()) + 1) {
        if ($(this).closest(".w-nav").length) {
          if ($(this).hasClass("cta__btn")) {
            ym(ymetrikaID, "reachGoal", "216");
          } else if ($(this).hasClass("logo__container")) {
            ym(ymetrikaID, "reachGoal", "250");
          } else {
            ym(ymetrikaID, "reachGoal", "210");
          }
        } else if ($(this).closest("[data-cta-btns]").length) {
          ym(ymetrikaID, "reachGoal", "216");
        } else if ($(this).closest("footer").length) {
          ym(ymetrikaID, "reachGoal", "226");
        }
      } else {
        if ($(this).closest("footer").length) {
          ym(ymetrikaID, "reachGoal", "96");
        } else if ($(this).closest("nav").length) {
          ym(ymetrikaID, "reachGoal", "98");
        } else if ($(this).closest(".navbar__logo-flex").length) {
          ym(ymetrikaID, "reachGoal", "99");
        }
      }
    }
  );
  function analyticsModal(hash) {
    switch (hash) {
      case "#about-compass":
        ym(ymetrikaID, "reachGoal", "83");
        break;
      case "#consultation":
        if (getPage() === "on-premise") {
          ym(ymetrikaID, "reachGoal", "301");
        } else if (getPage() === "blog") {
          ym(ymetrikaID, "reachGoal", "219");
        } else {
          ym(ymetrikaID, "reachGoal", "9");
        }
        if (getPage() !== "post" && getPage() !== "blog") {
          ym(ymetrikaID, "reachGoal", "100");
        }
        break;
      case "#consultation-on-premise":
        if (getPage() === "post") {
          ym(ymetrikaID, "reachGoal", "222");
        } else {
          ym(ymetrikaID, "reachGoal", "100");
        }
        if (getPage() === "on-premise") {
          ym(ymetrikaID, "reachGoal", "301");
        } else if (getPage() !== "post") {
          ym(ymetrikaID, "reachGoal", "301");
          ym(ymetrikaID, "reachGoal", "9");
        }
        break;
      case "#pilot-modal":
        ym(ymetrikaID, "reachGoal", "100");
        if (getPage() === "on-premise") {
          ym(ymetrikaID, "reachGoal", "308");
        } else {
          ym(ymetrikaID, "reachGoal", "306");
        }
        break;
      case "#video-mac-intel":
        ym(ymetrikaID, "reachGoal", "71");
        break;
      case "#video-mac-apple":
        ym(ymetrikaID, "reachGoal", "72");
        break;
      case "#video-linux-deb-standart":
      case "#video-linux-deb-terminal":
        ym(ymetrikaID, "reachGoal", "73");
        break;
      case "#video-linux-rpm-standart":
      case "#video-linux-rpm-terminal":
        ym(ymetrikaID, "reachGoal", "78");
        break;
      case "#video-linux-astra-standart":
      case "#video-linux-astra-terminal":
        ym(ymetrikaID, "reachGoal", "77");
        break;
      case "#video-linux-tar":
        ym(ymetrikaID, "reachGoal", "74");
        break;
      case "#video-windows":
        ym(ymetrikaID, "reachGoal", "75");
        break;
    }
  }
})($);
